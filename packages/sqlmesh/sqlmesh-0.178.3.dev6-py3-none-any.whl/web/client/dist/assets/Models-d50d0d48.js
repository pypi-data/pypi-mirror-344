import{y as B,U as M,t as $,a as d,r as h,v as F,w as m,i as x,j as s,F as L,H as b,h as T,n as E,I as z,V as K,a9 as P,O as w,e as A,b as O}from"./index-cbd2ced8.js";import{b as R,m as k,n as C,o as I,p as H,f as U,g as D,S as G}from"./SearchList-20089cf9.js";import{P as V}from"./Page-8493a375.js";import{g as W}from"./context-fc6e9b66.js";import{u as f}from"./project-edea2745.js";import"./Input-87ebe65e.js";import"./help-68063aae.js";import"./transition-23195d83.js";import"./SplitPane-1c997d05.js";import"./_commonjs-dynamic-modules-302442b1.js";import"./editor-75015442.js";import"./file-f7b22a8f.js";import"./SourceList-2f9d9c08.js";import"./index-3717ba7a.js";function ne({route:g=A.Home}){const{pathname:j}=B(),{modelName:i}=M(),u=$(),l=d(e=>e.models),r=d(e=>e.lastSelectedModel),N=d(e=>e.setLastSelectedModel),p=f(e=>e.files),S=f(e=>e.setSelectedFile),n=h.useMemo(()=>Array.from(new Set(l.values())),[l]),{isFetching:c}=F(),t=`${g}/models`,a=m(i)||i===(r==null?void 0:r.name)?r:l.get(encodeURI(i));h.useEffect(()=>{if(m(a))return;const e=p.get(a.path);x(e)&&S(e),N(a),u(`${t}/${a.name}`,{replace:!0})},[p,a,t]);const y=m(a)&&x(i)&&O(c);return s.jsx(V,{sidebar:L(n)?void 0:s.jsx(R,{"update-selector":"tbk-model-name",children:s.jsx(k,{selectable:!0,onChange:e=>u(e.detail.value),className:"pt-3 px-2",children:Object.entries(C.categorize(n)).map(([e,v])=>s.jsx(I,{headline:e,open:!0,children:v.map(o=>s.jsx(H,{size:"xs","hide-icon":!0,active:j===`${t}/${o.name}`,value:`${t}/${o.name}`,"search-value":o.displayName,compact:!0,children:s.jsx(U,{"hide-schema":!0,"hide-catalog":!0,"hide-tooltip":!0,text:o.displayName,children:s.jsx(D,{size:"2xs",slot:"after",children:W(o.type)})})},o.name))},e))})}),content:s.jsx(b.Page,{children:s.jsxs("div",{className:"flex flex-col w-full h-full overflow-hidden",children:[T(n)&&s.jsx(G,{list:n,size:E.lg,searchBy:"index",displayBy:"displayName",to:e=>`${t}/${e.name}`,direction:"top",className:"p-2",isFullWidth:!0,disabled:c}),s.jsx(z,{}),y?s.jsx(K,{link:t,message:"Go Back",description:`Model "${i}" not found.`}):c?s.jsx(P,{children:"Loading Model page..."}):s.jsx(w,{})]})})})}export{ne as default};
