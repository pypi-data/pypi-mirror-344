import{r as a,j as u,ad as qr,R as re,f as gn,ae as Zr,af as Qr,ag as pe,ah as Jr,a3 as eo,c as L,W as hn,b as Y,w as to,h as no,a as ro,A as oo,L as so,S as io,n as ao}from"./index-cbd2ced8.js";import{u as k,M as dt}from"./project-edea2745.js";import{u as co,a as uo,o as lo,s as fo,f as go,b as ho,c as po,h as mo,l as vo,d as yo,e as Co,g as xo,z as So,i as bo,R as Eo,j as wo,k as Do}from"./Input-87ebe65e.js";import{M as Oo}from"./file-f7b22a8f.js";import{useFileExplorer as Ke}from"./context-daf262dd.js";import{u as pn,S as To}from"./SearchList-20089cf9.js";import{u as Je}from"./editor-75015442.js";import{C as Io}from"./ChevronDownIcon-2f00b696.js";import{C as Po}from"./ChevronRightIcon-1e9b3511.js";import"./help-68063aae.js";import"./transition-23195d83.js";function Ro({title:t,titleId:e,...n},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?a.createElement("title",{id:e},t):null,a.createElement("path",{d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625Z"}),a.createElement("path",{d:"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"}))}const Mo=a.forwardRef(Ro),No=Mo;function Ao({title:t,titleId:e,...n},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?a.createElement("title",{id:e},t):null,a.createElement("path",{d:"M19.906 9c.382 0 .749.057 1.094.162V9a3 3 0 0 0-3-3h-3.879a.75.75 0 0 1-.53-.22L11.47 3.66A2.25 2.25 0 0 0 9.879 3H6a3 3 0 0 0-3 3v3.162A3.756 3.756 0 0 1 4.094 9h15.812ZM4.094 10.5a2.25 2.25 0 0 0-2.227 2.568l.857 6A2.25 2.25 0 0 0 4.951 21H19.05a2.25 2.25 0 0 0 2.227-1.932l.857-6a2.25 2.25 0 0 0-2.227-2.568H4.094Z"}))}const _o=a.forwardRef(Ao),jo=_o;function Fo({title:t,titleId:e,...n},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?a.createElement("title",{id:e},t):null,a.createElement("path",{d:"M19.5 21a3 3 0 0 0 3-3v-4.5a3 3 0 0 0-3-3h-15a3 3 0 0 0-3 3V18a3 3 0 0 0 3 3h15ZM1.5 10.146V6a3 3 0 0 1 3-3h5.379a2.25 2.25 0 0 1 1.59.659l2.122 2.121c.14.141.331.22.53.22H19.5a3 3 0 0 1 3 3v1.146A4.483 4.483 0 0 0 19.5 9h-15a4.483 4.483 0 0 0-3 1.146Z"}))}const Lo=a.forwardRef(Fo),ko=Lo;function P(t,e,{checkForDefaultPrevented:n=!0}={}){return function(o){if(t==null||t(o),n===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function Oe(t,e=[]){let n=[];function r(s,i){const c=a.createContext(i),f=n.length;n=[...n,i];const l=h=>{var y;const{scope:g,children:m,...C}=h,p=((y=g==null?void 0:g[t])==null?void 0:y[f])||c,v=a.useMemo(()=>C,Object.values(C));return u.jsx(p.Provider,{value:v,children:m})};l.displayName=s+"Provider";function d(h,g){var p;const m=((p=g==null?void 0:g[t])==null?void 0:p[f])||c,C=a.useContext(m);if(C)return C;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[l,d]}const o=()=>{const s=n.map(i=>a.createContext(i));return function(c){const f=(c==null?void 0:c[t])||s;return a.useMemo(()=>({[`__scope${t}`]:{...c,[t]:f}}),[c,f])}};return o.scopeName=t,[r,Uo(o,...e)]}function Uo(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const i=r.reduce((c,{useScope:f,scopeName:l})=>{const h=f(s)[`__scope${l}`];return{...c,...h}},{});return a.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}function $t(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function St(...t){return e=>{let n=!1;const r=t.map(o=>{const s=$t(o,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let o=0;o<r.length;o++){const s=r[o];typeof s=="function"?s():$t(t[o],null)}}}}function K(...t){return a.useCallback(St(...t),t)}function $e(t){const e=Ho(t),n=a.forwardRef((r,o)=>{const{children:s,...i}=r,c=a.Children.toArray(s),f=c.find(Bo);if(f){const l=f.props.children,d=c.map(h=>h===f?a.Children.count(l)>1?a.Children.only(null):a.isValidElement(l)?l.props.children:null:h);return u.jsx(e,{...i,ref:o,children:a.isValidElement(l)?a.cloneElement(l,void 0,d):null})}return u.jsx(e,{...i,ref:o,children:s})});return n.displayName=`${t}.Slot`,n}function Ho(t){const e=a.forwardRef((n,r)=>{const{children:o,...s}=n;if(a.isValidElement(o)){const i=Ko(o),c=Go(s,o.props);return o.type!==a.Fragment&&(c.ref=r?St(r,i):i),a.cloneElement(o,c)}return a.Children.count(o)>1?a.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var $o=Symbol("radix.slottable");function Bo(t){return a.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===$o}function Go(t,e){const n={...e};for(const r in e){const o=t[r],s=e[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...c)=>{s(...c),o(...c)}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...t,...n}}function Ko(t){var r,o;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Wo=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$=Wo.reduce((t,e)=>{const n=$e(`Primitive.${e}`),r=a.forwardRef((o,s)=>{const{asChild:i,...c}=o,f=i?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(f,{...c,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function mn(t,e){t&&qr.flushSync(()=>t.dispatchEvent(e))}function vn(t){const e=t+"CollectionProvider",[n,r]=Oe(e),[o,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),i=p=>{const{scope:v,children:y}=p,E=re.useRef(null),b=re.useRef(new Map).current;return u.jsx(o,{scope:v,itemMap:b,collectionRef:E,children:y})};i.displayName=e;const c=t+"CollectionSlot",f=$e(c),l=re.forwardRef((p,v)=>{const{scope:y,children:E}=p,b=s(c,y),w=K(v,b.collectionRef);return u.jsx(f,{ref:w,children:E})});l.displayName=c;const d=t+"CollectionItemSlot",h="data-radix-collection-item",g=$e(d),m=re.forwardRef((p,v)=>{const{scope:y,children:E,...b}=p,w=re.useRef(null),I=K(v,w),R=s(d,y);return re.useEffect(()=>(R.itemMap.set(w,{ref:w,...b}),()=>void R.itemMap.delete(w))),u.jsx(g,{[h]:"",ref:I,children:E})});m.displayName=d;function C(p){const v=s(t+"CollectionConsumer",p);return re.useCallback(()=>{const E=v.collectionRef.current;if(!E)return[];const b=Array.from(E.querySelectorAll(`[${h}]`));return Array.from(v.itemMap.values()).sort((R,O)=>b.indexOf(R.ref.current)-b.indexOf(O.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:i,Slot:l,ItemSlot:m},C,r]}var Vo=a.createContext(void 0);function yn(t){const e=a.useContext(Vo);return t||e||"ltr"}function J(t){const e=a.useRef(t);return a.useEffect(()=>{e.current=t}),a.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Yo(t,e=globalThis==null?void 0:globalThis.document){const n=J(t);a.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Xo="DismissableLayer",ft="dismissableLayer.update",zo="dismissableLayer.pointerDownOutside",qo="dismissableLayer.focusOutside",Bt,Cn=a.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),xn=a.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:i,onDismiss:c,...f}=t,l=a.useContext(Cn),[d,h]=a.useState(null),g=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=a.useState({}),C=K(e,O=>h(O)),p=Array.from(l.layers),[v]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(v),E=d?p.indexOf(d):-1,b=l.layersWithOutsidePointerEventsDisabled.size>0,w=E>=y,I=Jo(O=>{const M=O.target,_=[...l.branches].some(F=>F.contains(M));!w||_||(o==null||o(O),i==null||i(O),O.defaultPrevented||c==null||c())},g),R=es(O=>{const M=O.target;[...l.branches].some(F=>F.contains(M))||(s==null||s(O),i==null||i(O),O.defaultPrevented||c==null||c())},g);return Yo(O=>{E===l.layers.size-1&&(r==null||r(O),!O.defaultPrevented&&c&&(O.preventDefault(),c()))},g),a.useEffect(()=>{if(d)return n&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(Bt=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(d)),l.layers.add(d),Gt(),()=>{n&&l.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=Bt)}},[d,g,n,l]),a.useEffect(()=>()=>{d&&(l.layers.delete(d),l.layersWithOutsidePointerEventsDisabled.delete(d),Gt())},[d,l]),a.useEffect(()=>{const O=()=>m({});return document.addEventListener(ft,O),()=>document.removeEventListener(ft,O)},[]),u.jsx($.div,{...f,ref:C,style:{pointerEvents:b?w?"auto":"none":void 0,...t.style},onFocusCapture:P(t.onFocusCapture,R.onFocusCapture),onBlurCapture:P(t.onBlurCapture,R.onBlurCapture),onPointerDownCapture:P(t.onPointerDownCapture,I.onPointerDownCapture)})});xn.displayName=Xo;var Zo="DismissableLayerBranch",Qo=a.forwardRef((t,e)=>{const n=a.useContext(Cn),r=a.useRef(null),o=K(e,r);return a.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),u.jsx($.div,{...t,ref:o})});Qo.displayName=Zo;function Jo(t,e=globalThis==null?void 0:globalThis.document){const n=J(t),r=a.useRef(!1),o=a.useRef(()=>{});return a.useEffect(()=>{const s=c=>{if(c.target&&!r.current){let f=function(){Sn(zo,n,l,{discrete:!0})};const l={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=f,e.addEventListener("click",o.current,{once:!0})):f()}else e.removeEventListener("click",o.current);r.current=!1},i=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),e.removeEventListener("pointerdown",s),e.removeEventListener("click",o.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function es(t,e=globalThis==null?void 0:globalThis.document){const n=J(t),r=a.useRef(!1);return a.useEffect(()=>{const o=s=>{s.target&&!r.current&&Sn(qo,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Gt(){const t=new CustomEvent(ft);document.dispatchEvent(t)}function Sn(t,e,n,{discrete:r}){const o=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&o.addEventListener(t,e,{once:!0}),r?mn(o,s):o.dispatchEvent(s)}var et=0;function ts(){a.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Kt()),document.body.insertAdjacentElement("beforeend",t[1]??Kt()),et++,()=>{et===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),et--}},[])}function Kt(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var tt="focusScope.autoFocusOnMount",nt="focusScope.autoFocusOnUnmount",Wt={bubbles:!1,cancelable:!0},ns="FocusScope",bn=a.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:s,...i}=t,[c,f]=a.useState(null),l=J(o),d=J(s),h=a.useRef(null),g=K(e,p=>f(p)),m=a.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;a.useEffect(()=>{if(r){let p=function(b){if(m.paused||!c)return;const w=b.target;c.contains(w)?h.current=w:oe(h.current,{select:!0})},v=function(b){if(m.paused||!c)return;const w=b.relatedTarget;w!==null&&(c.contains(w)||oe(h.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const I of b)I.removedNodes.length>0&&oe(c)};document.addEventListener("focusin",p),document.addEventListener("focusout",v);const E=new MutationObserver(y);return c&&E.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",v),E.disconnect()}}},[r,c,m.paused]),a.useEffect(()=>{if(c){Yt.add(m);const p=document.activeElement;if(!c.contains(p)){const y=new CustomEvent(tt,Wt);c.addEventListener(tt,l),c.dispatchEvent(y),y.defaultPrevented||(rs(cs(En(c)),{select:!0}),document.activeElement===p&&oe(c))}return()=>{c.removeEventListener(tt,l),setTimeout(()=>{const y=new CustomEvent(nt,Wt);c.addEventListener(nt,d),c.dispatchEvent(y),y.defaultPrevented||oe(p??document.body,{select:!0}),c.removeEventListener(nt,d),Yt.remove(m)},0)}}},[c,l,d,m]);const C=a.useCallback(p=>{if(!n&&!r||m.paused)return;const v=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(v&&y){const E=p.currentTarget,[b,w]=os(E);b&&w?!p.shiftKey&&y===w?(p.preventDefault(),n&&oe(b,{select:!0})):p.shiftKey&&y===b&&(p.preventDefault(),n&&oe(w,{select:!0})):y===E&&p.preventDefault()}},[n,r,m.paused]);return u.jsx($.div,{tabIndex:-1,...i,ref:g,onKeyDown:C})});bn.displayName=ns;function rs(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(oe(r,{select:e}),document.activeElement!==n)return}function os(t){const e=En(t),n=Vt(e,t),r=Vt(e.reverse(),t);return[n,r]}function En(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Vt(t,e){for(const n of t)if(!ss(n,{upTo:e}))return n}function ss(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function is(t){return t instanceof HTMLInputElement&&"select"in t}function oe(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&is(t)&&e&&t.select()}}var Yt=as();function as(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Xt(t,e),t.unshift(e)},remove(e){var n;t=Xt(t,e),(n=t[0])==null||n.resume()}}}function Xt(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function cs(t){return t.filter(e=>e.tagName!=="A")}var se=globalThis!=null&&globalThis.document?a.useLayoutEffect:()=>{},us=gn[" useId ".trim().toString()]||(()=>{}),ls=0;function ds(t){const[e,n]=a.useState(us());return se(()=>{t||n(r=>r??String(ls++))},[t]),t||(e?`radix-${e}`:"")}var fs="Arrow",wn=a.forwardRef((t,e)=>{const{children:n,width:r=10,height:o=5,...s}=t;return u.jsx($.svg,{...s,ref:e,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});wn.displayName=fs;var gs=wn;function hs(t){const[e,n]=a.useState(void 0);return se(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const s=o[0];let i,c;if("borderBoxSize"in s){const f=s.borderBoxSize,l=Array.isArray(f)?f[0]:f;i=l.inlineSize,c=l.blockSize}else i=t.offsetWidth,c=t.offsetHeight;n({width:i,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var bt="Popper",[Dn,On]=Oe(bt),[ps,Tn]=Dn(bt),In=t=>{const{__scopePopper:e,children:n}=t,[r,o]=a.useState(null);return u.jsx(ps,{scope:e,anchor:r,onAnchorChange:o,children:n})};In.displayName=bt;var Pn="PopperAnchor",Rn=a.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...o}=t,s=Tn(Pn,n),i=a.useRef(null),c=K(e,i);return a.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:u.jsx($.div,{...o,ref:c})});Rn.displayName=Pn;var Et="PopperContent",[ms,vs]=Dn(Et),Mn=a.forwardRef((t,e)=>{var ne,ye,V,Ce,kt,Ut;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:s="center",alignOffset:i=0,arrowPadding:c=0,avoidCollisions:f=!0,collisionBoundary:l=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:g=!1,updatePositionStrategy:m="optimized",onPlaced:C,...p}=t,v=Tn(Et,n),[y,E]=a.useState(null),b=K(e,xe=>E(xe)),[w,I]=a.useState(null),R=hs(w),O=(R==null?void 0:R.width)??0,M=(R==null?void 0:R.height)??0,_=r+(s!=="center"?"-"+s:""),F=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(l)?l:[l],A=D.length>0,G={padding:F,boundary:D.filter(Cs),altBoundary:A},{refs:ee,floatingStyles:te,placement:W,isPositioned:U,middlewareData:S}=co({strategy:"fixed",placement:_,whileElementsMounted:(...xe)=>uo(...xe,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[lo({mainAxis:o+M,alignmentAxis:i}),f&&fo({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?vo():void 0,...G}),f&&go({...G}),ho({...G,apply:({elements:xe,rects:Ht,availableWidth:Vr,availableHeight:Yr})=>{const{width:Xr,height:zr}=Ht.reference,Ae=xe.floating.style;Ae.setProperty("--radix-popper-available-width",`${Vr}px`),Ae.setProperty("--radix-popper-available-height",`${Yr}px`),Ae.setProperty("--radix-popper-anchor-width",`${Xr}px`),Ae.setProperty("--radix-popper-anchor-height",`${zr}px`)}}),w&&po({element:w,padding:c}),xs({arrowWidth:O,arrowHeight:M}),g&&mo({strategy:"referenceHidden",...G})]}),[x,N]=_n(W),j=J(C);se(()=>{U&&(j==null||j())},[U,j]);const H=(ne=S.arrow)==null?void 0:ne.x,me=(ye=S.arrow)==null?void 0:ye.y,ve=((V=S.arrow)==null?void 0:V.centerOffset)!==0,[Ne,ie]=a.useState();return se(()=>{y&&ie(window.getComputedStyle(y).zIndex)},[y]),u.jsx("div",{ref:ee.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:U?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ne,"--radix-popper-transform-origin":[(Ce=S.transformOrigin)==null?void 0:Ce.x,(kt=S.transformOrigin)==null?void 0:kt.y].join(" "),...((Ut=S.hide)==null?void 0:Ut.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(ms,{scope:n,placedSide:x,onArrowChange:I,arrowX:H,arrowY:me,shouldHideArrow:ve,children:u.jsx($.div,{"data-side":x,"data-align":N,...p,ref:b,style:{...p.style,animation:U?void 0:"none"}})})})});Mn.displayName=Et;var Nn="PopperArrow",ys={top:"bottom",right:"left",bottom:"top",left:"right"},An=a.forwardRef(function(e,n){const{__scopePopper:r,...o}=e,s=vs(Nn,r),i=ys[s.placedSide];return u.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:u.jsx(gs,{...o,ref:n,style:{...o.style,display:"block"}})})});An.displayName=Nn;function Cs(t){return t!==null}var xs=t=>({name:"transformOrigin",options:t,fn(e){var v,y,E;const{placement:n,rects:r,middlewareData:o}=e,i=((v=o.arrow)==null?void 0:v.centerOffset)!==0,c=i?0:t.arrowWidth,f=i?0:t.arrowHeight,[l,d]=_n(n),h={start:"0%",center:"50%",end:"100%"}[d],g=(((y=o.arrow)==null?void 0:y.x)??0)+c/2,m=(((E=o.arrow)==null?void 0:E.y)??0)+f/2;let C="",p="";return l==="bottom"?(C=i?h:`${g}px`,p=`${-f}px`):l==="top"?(C=i?h:`${g}px`,p=`${r.floating.height+f}px`):l==="right"?(C=`${-f}px`,p=i?h:`${m}px`):l==="left"&&(C=`${r.floating.width+f}px`,p=i?h:`${m}px`),{data:{x:C,y:p}}}});function _n(t){const[e,n="center"]=t.split("-");return[e,n]}var Ss=In,bs=Rn,Es=Mn,ws=An,Ds="Portal",jn=a.forwardRef((t,e)=>{var c;const{container:n,...r}=t,[o,s]=a.useState(!1);se(()=>s(!0),[]);const i=n||o&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return i?Zr.createPortal(u.jsx($.div,{...r,ref:e}),i):null});jn.displayName=Ds;function Os(t,e){return a.useReducer((n,r)=>e[n][r]??n,t)}var Te=t=>{const{present:e,children:n}=t,r=Ts(e),o=typeof n=="function"?n({present:r.isPresent}):a.Children.only(n),s=K(r.ref,Is(o));return typeof n=="function"||r.isPresent?a.cloneElement(o,{ref:s}):null};Te.displayName="Presence";function Ts(t){const[e,n]=a.useState(),r=a.useRef({}),o=a.useRef(t),s=a.useRef("none"),i=t?"mounted":"unmounted",[c,f]=Os(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return a.useEffect(()=>{const l=_e(r.current);s.current=c==="mounted"?l:"none"},[c]),se(()=>{const l=r.current,d=o.current;if(d!==t){const g=s.current,m=_e(l);t?f("MOUNT"):m==="none"||(l==null?void 0:l.display)==="none"?f("UNMOUNT"):f(d&&g!==m?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,f]),se(()=>{if(e){let l;const d=e.ownerDocument.defaultView??window,h=m=>{const p=_e(r.current).includes(m.animationName);if(m.target===e&&p&&(f("ANIMATION_END"),!o.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",l=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},g=m=>{m.target===e&&(s.current=_e(r.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(l),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:a.useCallback(l=>{l&&(r.current=getComputedStyle(l)),n(l)},[])}}function _e(t){return(t==null?void 0:t.animationName)||"none"}function Is(t){var r,o;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Ps=gn[" useInsertionEffect ".trim().toString()]||se;function Rs({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[o,s,i]=Ms({defaultProp:e,onChange:n}),c=t!==void 0,f=c?t:o;{const d=a.useRef(t!==void 0);a.useEffect(()=>{const h=d.current;h!==c&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=c},[c,r])}const l=a.useCallback(d=>{var h;if(c){const g=Ns(d)?d(t):d;g!==t&&((h=i.current)==null||h.call(i,g))}else s(d)},[c,t,s,i]);return[f,l]}function Ms({defaultProp:t,onChange:e}){const[n,r]=a.useState(t),o=a.useRef(n),s=a.useRef(e);return Ps(()=>{s.current=e},[e]),a.useEffect(()=>{var i;o.current!==n&&((i=s.current)==null||i.call(s,n),o.current=n)},[n,o]),[n,r,s]}function Ns(t){return typeof t=="function"}var rt="rovingFocusGroup.onEntryFocus",As={bubbles:!1,cancelable:!0},Ie="RovingFocusGroup",[gt,Fn,_s]=vn(Ie),[js,Ln]=Oe(Ie,[_s]),[Fs,Ls]=js(Ie),kn=a.forwardRef((t,e)=>u.jsx(gt.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(gt.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(ks,{...t,ref:e})})}));kn.displayName=Ie;var ks=a.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:f,onEntryFocus:l,preventScrollOnEntryFocus:d=!1,...h}=t,g=a.useRef(null),m=K(e,g),C=yn(s),[p,v]=Rs({prop:i,defaultProp:c??null,onChange:f,caller:Ie}),[y,E]=a.useState(!1),b=J(l),w=Fn(n),I=a.useRef(!1),[R,O]=a.useState(0);return a.useEffect(()=>{const M=g.current;if(M)return M.addEventListener(rt,b),()=>M.removeEventListener(rt,b)},[b]),u.jsx(Fs,{scope:n,orientation:r,dir:C,loop:o,currentTabStopId:p,onItemFocus:a.useCallback(M=>v(M),[v]),onItemShiftTab:a.useCallback(()=>E(!0),[]),onFocusableItemAdd:a.useCallback(()=>O(M=>M+1),[]),onFocusableItemRemove:a.useCallback(()=>O(M=>M-1),[]),children:u.jsx($.div,{tabIndex:y||R===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...t.style},onMouseDown:P(t.onMouseDown,()=>{I.current=!0}),onFocus:P(t.onFocus,M=>{const _=!I.current;if(M.target===M.currentTarget&&_&&!y){const F=new CustomEvent(rt,As);if(M.currentTarget.dispatchEvent(F),!F.defaultPrevented){const D=w().filter(W=>W.focusable),A=D.find(W=>W.active),G=D.find(W=>W.id===p),te=[A,G,...D].filter(Boolean).map(W=>W.ref.current);$n(te,d)}}I.current=!1}),onBlur:P(t.onBlur,()=>E(!1))})})}),Un="RovingFocusGroupItem",Hn=a.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:s,children:i,...c}=t,f=ds(),l=s||f,d=Ls(Un,n),h=d.currentTabStopId===l,g=Fn(n),{onFocusableItemAdd:m,onFocusableItemRemove:C,currentTabStopId:p}=d;return a.useEffect(()=>{if(r)return m(),()=>C()},[r,m,C]),u.jsx(gt.ItemSlot,{scope:n,id:l,focusable:r,active:o,children:u.jsx($.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...c,ref:e,onMouseDown:P(t.onMouseDown,v=>{r?d.onItemFocus(l):v.preventDefault()}),onFocus:P(t.onFocus,()=>d.onItemFocus(l)),onKeyDown:P(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const y=$s(v,d.orientation,d.dir);if(y!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let b=g().filter(w=>w.focusable).map(w=>w.ref.current);if(y==="last")b.reverse();else if(y==="prev"||y==="next"){y==="prev"&&b.reverse();const w=b.indexOf(v.currentTarget);b=d.loop?Bs(b,w+1):b.slice(w+1)}setTimeout(()=>$n(b))}}),children:typeof i=="function"?i({isCurrentTabStop:h,hasTabStop:p!=null}):i})})});Hn.displayName=Un;var Us={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Hs(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function $s(t,e,n){const r=Hs(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Us[r]}function $n(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Bs(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Gs=kn,Ks=Hn,Bn=yo(),ot=function(){},We=a.forwardRef(function(t,e){var n=a.useRef(null),r=a.useState({onScrollCapture:ot,onWheelCapture:ot,onTouchMoveCapture:ot}),o=r[0],s=r[1],i=t.forwardProps,c=t.children,f=t.className,l=t.removeScrollBar,d=t.enabled,h=t.shards,g=t.sideCar,m=t.noIsolation,C=t.inert,p=t.allowPinchZoom,v=t.as,y=v===void 0?"div":v,E=t.gapMode,b=Qr(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=g,I=Co([n,e]),R=pe(pe({},b),o);return a.createElement(a.Fragment,null,d&&a.createElement(w,{sideCar:Bn,removeScrollBar:l,shards:h,noIsolation:m,inert:C,setCallbacks:s,allowPinchZoom:!!p,lockRef:n,gapMode:E}),i?a.cloneElement(a.Children.only(c),pe(pe({},R),{ref:I})):a.createElement(y,pe({},R,{className:f,ref:I}),c))});We.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};We.classNames={fullWidth:xo,zeroRight:So};var ht=!1;if(typeof window<"u")try{var je=Object.defineProperty({},"passive",{get:function(){return ht=!0,!0}});window.addEventListener("test",je,je),window.removeEventListener("test",je,je)}catch{ht=!1}var fe=ht?{passive:!1}:!1,Ws=function(t){return t.tagName==="TEXTAREA"},Gn=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Ws(t)&&n[e]==="visible")},Vs=function(t){return Gn(t,"overflowY")},Ys=function(t){return Gn(t,"overflowX")},zt=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=Kn(t,r);if(o){var s=Wn(t,r),i=s[1],c=s[2];if(i>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Xs=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},zs=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Kn=function(t,e){return t==="v"?Vs(e):Ys(e)},Wn=function(t,e){return t==="v"?Xs(e):zs(e)},qs=function(t,e){return t==="h"&&e==="rtl"?-1:1},Zs=function(t,e,n,r,o){var s=qs(t,window.getComputedStyle(e).direction),i=s*r,c=n.target,f=e.contains(c),l=!1,d=i>0,h=0,g=0;do{var m=Wn(t,c),C=m[0],p=m[1],v=m[2],y=p-v-s*C;(C||y)&&Kn(t,c)&&(h+=y,g+=C),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!f&&c!==document.body||f&&(e.contains(c)||e===c));return(d&&(o&&Math.abs(h)<1||!o&&i>h)||!d&&(o&&Math.abs(g)<1||!o&&-i>g))&&(l=!0),l},Fe=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},qt=function(t){return[t.deltaX,t.deltaY]},Zt=function(t){return t&&"current"in t?t.current:t},Qs=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Js=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},ei=0,ge=[];function ti(t){var e=a.useRef([]),n=a.useRef([0,0]),r=a.useRef(),o=a.useState(ei++)[0],s=a.useState(bo)[0],i=a.useRef(t);a.useEffect(function(){i.current=t},[t]),a.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(o));var p=Jr([t.lockRef.current],(t.shards||[]).map(Zt),!0).filter(Boolean);return p.forEach(function(v){return v.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),p.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(o))})}}},[t.inert,t.lockRef.current,t.shards]);var c=a.useCallback(function(p,v){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!i.current.allowPinchZoom;var y=Fe(p),E=n.current,b="deltaX"in p?p.deltaX:E[0]-y[0],w="deltaY"in p?p.deltaY:E[1]-y[1],I,R=p.target,O=Math.abs(b)>Math.abs(w)?"h":"v";if("touches"in p&&O==="h"&&R.type==="range")return!1;var M=zt(O,R);if(!M)return!0;if(M?I=O:(I=O==="v"?"h":"v",M=zt(O,R)),!M)return!1;if(!r.current&&"changedTouches"in p&&(b||w)&&(r.current=I),!I)return!0;var _=r.current||I;return Zs(_,v,p,_==="h"?b:w,!0)},[]),f=a.useCallback(function(p){var v=p;if(!(!ge.length||ge[ge.length-1]!==s)){var y="deltaY"in v?qt(v):Fe(v),E=e.current.filter(function(I){return I.name===v.type&&(I.target===v.target||v.target===I.shadowParent)&&Qs(I.delta,y)})[0];if(E&&E.should){v.cancelable&&v.preventDefault();return}if(!E){var b=(i.current.shards||[]).map(Zt).filter(Boolean).filter(function(I){return I.contains(v.target)}),w=b.length>0?c(v,b[0]):!i.current.noIsolation;w&&v.cancelable&&v.preventDefault()}}},[]),l=a.useCallback(function(p,v,y,E){var b={name:p,delta:v,target:y,should:E,shadowParent:ni(y)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(w){return w!==b})},1)},[]),d=a.useCallback(function(p){n.current=Fe(p),r.current=void 0},[]),h=a.useCallback(function(p){l(p.type,qt(p),p.target,c(p,t.lockRef.current))},[]),g=a.useCallback(function(p){l(p.type,Fe(p),p.target,c(p,t.lockRef.current))},[]);a.useEffect(function(){return ge.push(s),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:g}),document.addEventListener("wheel",f,fe),document.addEventListener("touchmove",f,fe),document.addEventListener("touchstart",d,fe),function(){ge=ge.filter(function(p){return p!==s}),document.removeEventListener("wheel",f,fe),document.removeEventListener("touchmove",f,fe),document.removeEventListener("touchstart",d,fe)}},[]);var m=t.removeScrollBar,C=t.inert;return a.createElement(a.Fragment,null,C?a.createElement(s,{styles:Js(o)}):null,m?a.createElement(Eo,{gapMode:t.gapMode}):null)}function ni(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const ri=wo(Bn,ti);var Vn=a.forwardRef(function(t,e){return a.createElement(We,pe({},t,{ref:e,sideCar:ri}))});Vn.classNames=We.classNames;const oi=Vn;var pt=["Enter"," "],si=["ArrowDown","PageUp","Home"],Yn=["ArrowUp","PageDown","End"],ii=[...si,...Yn],ai={ltr:[...pt,"ArrowRight"],rtl:[...pt,"ArrowLeft"]},ci={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Pe="Menu",[Ee,ui,li]=vn(Pe),[ue,Xn]=Oe(Pe,[li,On,Ln]),Ve=On(),zn=Ln(),[di,le]=ue(Pe),[fi,Re]=ue(Pe),qn=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:o,onOpenChange:s,modal:i=!0}=t,c=Ve(e),[f,l]=a.useState(null),d=a.useRef(!1),h=J(s),g=yn(o);return a.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",C,{capture:!0,once:!0}),document.addEventListener("pointermove",C,{capture:!0,once:!0})},C=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",C,{capture:!0}),document.removeEventListener("pointermove",C,{capture:!0})}},[]),u.jsx(Ss,{...c,children:u.jsx(di,{scope:e,open:n,onOpenChange:h,content:f,onContentChange:l,children:u.jsx(fi,{scope:e,onClose:a.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:g,modal:i,children:r})})})};qn.displayName=Pe;var gi="MenuAnchor",wt=a.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,o=Ve(n);return u.jsx(bs,{...o,...r,ref:e})});wt.displayName=gi;var Dt="MenuPortal",[hi,Zn]=ue(Dt,{forceMount:void 0}),Qn=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:o}=t,s=le(Dt,e);return u.jsx(hi,{scope:e,forceMount:n,children:u.jsx(Te,{present:n||s.open,children:u.jsx(jn,{asChild:!0,container:o,children:r})})})};Qn.displayName=Dt;var q="MenuContent",[pi,Ot]=ue(q),Jn=a.forwardRef((t,e)=>{const n=Zn(q,t.__scopeMenu),{forceMount:r=n.forceMount,...o}=t,s=le(q,t.__scopeMenu),i=Re(q,t.__scopeMenu);return u.jsx(Ee.Provider,{scope:t.__scopeMenu,children:u.jsx(Te,{present:r||s.open,children:u.jsx(Ee.Slot,{scope:t.__scopeMenu,children:i.modal?u.jsx(mi,{...o,ref:e}):u.jsx(vi,{...o,ref:e})})})})}),mi=a.forwardRef((t,e)=>{const n=le(q,t.__scopeMenu),r=a.useRef(null),o=K(e,r);return a.useEffect(()=>{const s=r.current;if(s)return Do(s)},[]),u.jsx(Tt,{...t,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:P(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),vi=a.forwardRef((t,e)=>{const n=le(q,t.__scopeMenu);return u.jsx(Tt,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),yi=$e("MenuContent.ScrollLock"),Tt=a.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:c,onEntryFocus:f,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:g,onDismiss:m,disableOutsideScroll:C,...p}=t,v=le(q,n),y=Re(q,n),E=Ve(n),b=zn(n),w=ui(n),[I,R]=a.useState(null),O=a.useRef(null),M=K(e,O,v.onContentChange),_=a.useRef(0),F=a.useRef(""),D=a.useRef(0),A=a.useRef(null),G=a.useRef("right"),ee=a.useRef(0),te=C?oi:a.Fragment,W=C?{as:yi,allowPinchZoom:!0}:void 0,U=x=>{var ne,ye;const N=F.current+x,j=w().filter(V=>!V.disabled),H=document.activeElement,me=(ne=j.find(V=>V.ref.current===H))==null?void 0:ne.textValue,ve=j.map(V=>V.textValue),Ne=Ri(ve,N,me),ie=(ye=j.find(V=>V.textValue===Ne))==null?void 0:ye.ref.current;(function V(Ce){F.current=Ce,window.clearTimeout(_.current),Ce!==""&&(_.current=window.setTimeout(()=>V(""),1e3))})(N),ie&&setTimeout(()=>ie.focus())};a.useEffect(()=>()=>window.clearTimeout(_.current),[]),ts();const S=a.useCallback(x=>{var j,H;return G.current===((j=A.current)==null?void 0:j.side)&&Ni(x,(H=A.current)==null?void 0:H.area)},[]);return u.jsx(pi,{scope:n,searchRef:F,onItemEnter:a.useCallback(x=>{S(x)&&x.preventDefault()},[S]),onItemLeave:a.useCallback(x=>{var N;S(x)||((N=O.current)==null||N.focus(),R(null))},[S]),onTriggerLeave:a.useCallback(x=>{S(x)&&x.preventDefault()},[S]),pointerGraceTimerRef:D,onPointerGraceIntentChange:a.useCallback(x=>{A.current=x},[]),children:u.jsx(te,{...W,children:u.jsx(bn,{asChild:!0,trapped:o,onMountAutoFocus:P(s,x=>{var N;x.preventDefault(),(N=O.current)==null||N.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:u.jsx(xn,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:g,onDismiss:m,children:u.jsx(Gs,{asChild:!0,...b,dir:y.dir,orientation:"vertical",loop:r,currentTabStopId:I,onCurrentTabStopIdChange:R,onEntryFocus:P(f,x=>{y.isUsingKeyboardRef.current||x.preventDefault()}),preventScrollOnEntryFocus:!0,children:u.jsx(Es,{role:"menu","aria-orientation":"vertical","data-state":pr(v.open),"data-radix-menu-content":"",dir:y.dir,...E,...p,ref:M,style:{outline:"none",...p.style},onKeyDown:P(p.onKeyDown,x=>{const j=x.target.closest("[data-radix-menu-content]")===x.currentTarget,H=x.ctrlKey||x.altKey||x.metaKey,me=x.key.length===1;j&&(x.key==="Tab"&&x.preventDefault(),!H&&me&&U(x.key));const ve=O.current;if(x.target!==ve||!ii.includes(x.key))return;x.preventDefault();const ie=w().filter(ne=>!ne.disabled).map(ne=>ne.ref.current);Yn.includes(x.key)&&ie.reverse(),Ii(ie)}),onBlur:P(t.onBlur,x=>{x.currentTarget.contains(x.target)||(window.clearTimeout(_.current),F.current="")}),onPointerMove:P(t.onPointerMove,we(x=>{const N=x.target,j=ee.current!==x.clientX;if(x.currentTarget.contains(N)&&j){const H=x.clientX>ee.current?"right":"left";G.current=H,ee.current=x.clientX}}))})})})})})})});Jn.displayName=q;var Ci="MenuGroup",It=a.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx($.div,{role:"group",...r,ref:e})});It.displayName=Ci;var xi="MenuLabel",er=a.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx($.div,{...r,ref:e})});er.displayName=xi;var Be="MenuItem",Qt="menu.itemSelect",Ye=a.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...o}=t,s=a.useRef(null),i=Re(Be,t.__scopeMenu),c=Ot(Be,t.__scopeMenu),f=K(e,s),l=a.useRef(!1),d=()=>{const h=s.current;if(!n&&h){const g=new CustomEvent(Qt,{bubbles:!0,cancelable:!0});h.addEventListener(Qt,m=>r==null?void 0:r(m),{once:!0}),mn(h,g),g.defaultPrevented?l.current=!1:i.onClose()}};return u.jsx(tr,{...o,ref:f,disabled:n,onClick:P(t.onClick,d),onPointerDown:h=>{var g;(g=t.onPointerDown)==null||g.call(t,h),l.current=!0},onPointerUp:P(t.onPointerUp,h=>{var g;l.current||(g=h.currentTarget)==null||g.click()}),onKeyDown:P(t.onKeyDown,h=>{const g=c.searchRef.current!=="";n||g&&h.key===" "||pt.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Ye.displayName=Be;var tr=a.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...s}=t,i=Ot(Be,n),c=zn(n),f=a.useRef(null),l=K(e,f),[d,h]=a.useState(!1),[g,m]=a.useState("");return a.useEffect(()=>{const C=f.current;C&&m((C.textContent??"").trim())},[s.children]),u.jsx(Ee.ItemSlot,{scope:n,disabled:r,textValue:o??g,children:u.jsx(Ks,{asChild:!0,...c,focusable:!r,children:u.jsx($.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:l,onPointerMove:P(t.onPointerMove,we(C=>{r?i.onItemLeave(C):(i.onItemEnter(C),C.defaultPrevented||C.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:P(t.onPointerLeave,we(C=>i.onItemLeave(C))),onFocus:P(t.onFocus,()=>h(!0)),onBlur:P(t.onBlur,()=>h(!1))})})})}),Si="MenuCheckboxItem",nr=a.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...o}=t;return u.jsx(ar,{scope:t.__scopeMenu,checked:n,children:u.jsx(Ye,{role:"menuitemcheckbox","aria-checked":Ge(n)?"mixed":n,...o,ref:e,"data-state":Rt(n),onSelect:P(o.onSelect,()=>r==null?void 0:r(Ge(n)?!0:!n),{checkForDefaultPrevented:!1})})})});nr.displayName=Si;var rr="MenuRadioGroup",[bi,Ei]=ue(rr,{value:void 0,onValueChange:()=>{}}),or=a.forwardRef((t,e)=>{const{value:n,onValueChange:r,...o}=t,s=J(r);return u.jsx(bi,{scope:t.__scopeMenu,value:n,onValueChange:s,children:u.jsx(It,{...o,ref:e})})});or.displayName=rr;var sr="MenuRadioItem",ir=a.forwardRef((t,e)=>{const{value:n,...r}=t,o=Ei(sr,t.__scopeMenu),s=n===o.value;return u.jsx(ar,{scope:t.__scopeMenu,checked:s,children:u.jsx(Ye,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":Rt(s),onSelect:P(r.onSelect,()=>{var i;return(i=o.onValueChange)==null?void 0:i.call(o,n)},{checkForDefaultPrevented:!1})})})});ir.displayName=sr;var Pt="MenuItemIndicator",[ar,wi]=ue(Pt,{checked:!1}),cr=a.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...o}=t,s=wi(Pt,n);return u.jsx(Te,{present:r||Ge(s.checked)||s.checked===!0,children:u.jsx($.span,{...o,ref:e,"data-state":Rt(s.checked)})})});cr.displayName=Pt;var Di="MenuSeparator",ur=a.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx($.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});ur.displayName=Di;var Oi="MenuArrow",lr=a.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,o=Ve(n);return u.jsx(ws,{...o,...r,ref:e})});lr.displayName=Oi;var Ti="MenuSub",[Zu,dr]=ue(Ti),Se="MenuSubTrigger",fr=a.forwardRef((t,e)=>{const n=le(Se,t.__scopeMenu),r=Re(Se,t.__scopeMenu),o=dr(Se,t.__scopeMenu),s=Ot(Se,t.__scopeMenu),i=a.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:f}=s,l={__scopeMenu:t.__scopeMenu},d=a.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return a.useEffect(()=>d,[d]),a.useEffect(()=>{const h=c.current;return()=>{window.clearTimeout(h),f(null)}},[c,f]),u.jsx(wt,{asChild:!0,...l,children:u.jsx(tr,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":pr(n.open),...t,ref:St(e,o.onTriggerChange),onClick:h=>{var g;(g=t.onClick)==null||g.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:P(t.onPointerMove,we(h=>{s.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!i.current&&(s.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:P(t.onPointerLeave,we(h=>{var m,C;d();const g=(m=n.content)==null?void 0:m.getBoundingClientRect();if(g){const p=(C=n.content)==null?void 0:C.dataset.side,v=p==="right",y=v?-5:5,E=g[v?"left":"right"],b=g[v?"right":"left"];s.onPointerGraceIntentChange({area:[{x:h.clientX+y,y:h.clientY},{x:E,y:g.top},{x:b,y:g.top},{x:b,y:g.bottom},{x:E,y:g.bottom}],side:p}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(h),h.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:P(t.onKeyDown,h=>{var m;const g=s.searchRef.current!=="";t.disabled||g&&h.key===" "||ai[r.dir].includes(h.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),h.preventDefault())})})})});fr.displayName=Se;var gr="MenuSubContent",hr=a.forwardRef((t,e)=>{const n=Zn(q,t.__scopeMenu),{forceMount:r=n.forceMount,...o}=t,s=le(q,t.__scopeMenu),i=Re(q,t.__scopeMenu),c=dr(gr,t.__scopeMenu),f=a.useRef(null),l=K(e,f);return u.jsx(Ee.Provider,{scope:t.__scopeMenu,children:u.jsx(Te,{present:r||s.open,children:u.jsx(Ee.Slot,{scope:t.__scopeMenu,children:u.jsx(Tt,{id:c.contentId,"aria-labelledby":c.triggerId,...o,ref:l,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;i.isUsingKeyboardRef.current&&((h=f.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:P(t.onFocusOutside,d=>{d.target!==c.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:P(t.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:P(t.onKeyDown,d=>{var m;const h=d.currentTarget.contains(d.target),g=ci[i.dir].includes(d.key);h&&g&&(s.onOpenChange(!1),(m=c.trigger)==null||m.focus(),d.preventDefault())})})})})})});hr.displayName=gr;function pr(t){return t?"open":"closed"}function Ge(t){return t==="indeterminate"}function Rt(t){return Ge(t)?"indeterminate":t?"checked":"unchecked"}function Ii(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Pi(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function Ri(t,e,n){const o=e.length>1&&Array.from(e).every(l=>l===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let i=Pi(t,Math.max(s,0));o.length===1&&(i=i.filter(l=>l!==n));const f=i.find(l=>l.toLowerCase().startsWith(o.toLowerCase()));return f!==n?f:void 0}function Mi(t,e){const{x:n,y:r}=t;let o=!1;for(let s=0,i=e.length-1;s<e.length;i=s++){const c=e[s],f=e[i],l=c.x,d=c.y,h=f.x,g=f.y;d>r!=g>r&&n<(h-l)*(r-d)/(g-d)+l&&(o=!o)}return o}function Ni(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return Mi(n,e)}function we(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Ai=qn,_i=wt,ji=Qn,Fi=Jn,Li=It,ki=er,Ui=Ye,Hi=nr,$i=or,Bi=ir,Gi=cr,Ki=ur,Wi=lr,Vi=fr,Yi=hr,Mt="ContextMenu",[Xi,Qu]=Oe(Mt,[Xn]),B=Xn(),[zi,mr]=Xi(Mt),vr=t=>{const{__scopeContextMenu:e,children:n,onOpenChange:r,dir:o,modal:s=!0}=t,[i,c]=a.useState(!1),f=B(e),l=J(r),d=a.useCallback(h=>{c(h),l(h)},[l]);return u.jsx(zi,{scope:e,open:i,onOpenChange:d,modal:s,children:u.jsx(Ai,{...f,dir:o,open:i,onOpenChange:d,modal:s,children:n})})};vr.displayName=Mt;var yr="ContextMenuTrigger",Cr=a.forwardRef((t,e)=>{const{__scopeContextMenu:n,disabled:r=!1,...o}=t,s=mr(yr,n),i=B(n),c=a.useRef({x:0,y:0}),f=a.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...c.current})}),l=a.useRef(0),d=a.useCallback(()=>window.clearTimeout(l.current),[]),h=g=>{c.current={x:g.clientX,y:g.clientY},s.onOpenChange(!0)};return a.useEffect(()=>d,[d]),a.useEffect(()=>void(r&&d()),[r,d]),u.jsxs(u.Fragment,{children:[u.jsx(_i,{...i,virtualRef:f}),u.jsx($.span,{"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,...o,ref:e,style:{WebkitTouchCallout:"none",...t.style},onContextMenu:r?t.onContextMenu:P(t.onContextMenu,g=>{d(),h(g),g.preventDefault()}),onPointerDown:r?t.onPointerDown:P(t.onPointerDown,Le(g=>{d(),l.current=window.setTimeout(()=>h(g),700)})),onPointerMove:r?t.onPointerMove:P(t.onPointerMove,Le(d)),onPointerCancel:r?t.onPointerCancel:P(t.onPointerCancel,Le(d)),onPointerUp:r?t.onPointerUp:P(t.onPointerUp,Le(d))})]})});Cr.displayName=yr;var qi="ContextMenuPortal",xr=t=>{const{__scopeContextMenu:e,...n}=t,r=B(e);return u.jsx(ji,{...r,...n})};xr.displayName=qi;var Sr="ContextMenuContent",br=a.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,o=mr(Sr,n),s=B(n),i=a.useRef(!1);return u.jsx(Fi,{...s,...r,ref:e,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:c=>{var f;(f=t.onCloseAutoFocus)==null||f.call(t,c),!c.defaultPrevented&&i.current&&c.preventDefault(),i.current=!1},onInteractOutside:c=>{var f;(f=t.onInteractOutside)==null||f.call(t,c),!c.defaultPrevented&&!o.modal&&(i.current=!0)},style:{...t.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});br.displayName=Sr;var Zi="ContextMenuGroup",Qi=a.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,o=B(n);return u.jsx(Li,{...o,...r,ref:e})});Qi.displayName=Zi;var Ji="ContextMenuLabel",ea=a.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,o=B(n);return u.jsx(ki,{...o,...r,ref:e})});ea.displayName=Ji;var ta="ContextMenuItem",Er=a.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,o=B(n);return u.jsx(Ui,{...o,...r,ref:e})});Er.displayName=ta;var na="ContextMenuCheckboxItem",ra=a.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,o=B(n);return u.jsx(Hi,{...o,...r,ref:e})});ra.displayName=na;var oa="ContextMenuRadioGroup",sa=a.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,o=B(n);return u.jsx($i,{...o,...r,ref:e})});sa.displayName=oa;var ia="ContextMenuRadioItem",aa=a.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,o=B(n);return u.jsx(Bi,{...o,...r,ref:e})});aa.displayName=ia;var ca="ContextMenuItemIndicator",ua=a.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,o=B(n);return u.jsx(Gi,{...o,...r,ref:e})});ua.displayName=ca;var la="ContextMenuSeparator",wr=a.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,o=B(n);return u.jsx(Ki,{...o,...r,ref:e})});wr.displayName=la;var da="ContextMenuArrow",fa=a.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,o=B(n);return u.jsx(Wi,{...o,...r,ref:e})});fa.displayName=da;var ga="ContextMenuSubTrigger",ha=a.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,o=B(n);return u.jsx(Vi,{...o,...r,ref:e})});ha.displayName=ga;var pa="ContextMenuSubContent",ma=a.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,o=B(n);return u.jsx(Yi,{...o,...r,ref:e,style:{...t.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ma.displayName=pa;function Le(t){return e=>e.pointerType!=="mouse"?t(e):void 0}var va=vr,ya=Cr,Ca=xr,xa=br,Z=Er,Jt=wr;const Dr=a.createContext({dragDropManager:void 0});function X(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var en=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),st=function(){return Math.random().toString(36).substring(7).split("").join(".")},tn={INIT:"@@redux/INIT"+st(),REPLACE:"@@redux/REPLACE"+st(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+st()}};function Sa(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Or(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(X(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(X(1));return n(Or)(t,e)}if(typeof t!="function")throw new Error(X(2));var o=t,s=e,i=[],c=i,f=!1;function l(){c===i&&(c=i.slice())}function d(){if(f)throw new Error(X(3));return s}function h(p){if(typeof p!="function")throw new Error(X(4));if(f)throw new Error(X(5));var v=!0;return l(),c.push(p),function(){if(v){if(f)throw new Error(X(6));v=!1,l();var E=c.indexOf(p);c.splice(E,1),i=null}}}function g(p){if(!Sa(p))throw new Error(X(7));if(typeof p.type>"u")throw new Error(X(8));if(f)throw new Error(X(9));try{f=!0,s=o(s,p)}finally{f=!1}for(var v=i=c,y=0;y<v.length;y++){var E=v[y];E()}return p}function m(p){if(typeof p!="function")throw new Error(X(10));o=p,g({type:tn.REPLACE})}function C(){var p,v=h;return p={subscribe:function(E){if(typeof E!="object"||E===null)throw new Error(X(11));function b(){E.next&&E.next(d())}b();var w=v(b);return{unsubscribe:w}}},p[en]=function(){return this},p}return g({type:tn.INIT}),r={dispatch:g,subscribe:h,getState:d,replaceReducer:m},r[en]=C,r}function T(t,e,...n){if(ba()&&e===void 0)throw new Error("invariant requires an error message argument");if(!t){let r;if(e===void 0)r=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let o=0;r=new Error(e.replace(/%s/g,function(){return n[o++]})),r.name="Invariant Violation"}throw r.framesToPop=1,r}}function ba(){return typeof process<"u"&&process.env.NODE_ENV==="production"}function Ea(t,e,n){return e.split(".").reduce((r,o)=>r&&r[o]?r[o]:n||null,t)}function wa(t,e){return t.filter(n=>n!==e)}function Tr(t){return typeof t=="object"}function Da(t,e){const n=new Map,r=s=>{n.set(s,n.has(s)?n.get(s)+1:1)};t.forEach(r),e.forEach(r);const o=[];return n.forEach((s,i)=>{s===1&&o.push(i)}),o}function Oa(t,e){return t.filter(n=>e.indexOf(n)>-1)}const Nt="dnd-core/INIT_COORDS",Xe="dnd-core/BEGIN_DRAG",At="dnd-core/PUBLISH_DRAG_SOURCE",ze="dnd-core/HOVER",qe="dnd-core/DROP",Ze="dnd-core/END_DRAG";function nn(t,e){return{type:Nt,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}const Ta={type:Nt,payload:{clientOffset:null,sourceClientOffset:null}};function Ia(t){return function(n=[],r={publishSource:!0}){const{publishSource:o=!0,clientOffset:s,getSourceClientOffset:i}=r,c=t.getMonitor(),f=t.getRegistry();t.dispatch(nn(s)),Pa(n,c,f);const l=Na(n,c);if(l==null){t.dispatch(Ta);return}let d=null;if(s){if(!i)throw new Error("getSourceClientOffset must be defined");Ra(i),d=i(l)}t.dispatch(nn(s,d));const g=f.getSource(l).beginDrag(c,l);if(g==null)return;Ma(g),f.pinSource(l);const m=f.getSourceType(l);return{type:Xe,payload:{itemType:m,item:g,sourceId:l,clientOffset:s||null,sourceClientOffset:d||null,isSourcePublic:!!o}}}}function Pa(t,e,n){T(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(r){T(n.getSource(r),"Expected sourceIds to be registered.")})}function Ra(t){T(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function Ma(t){T(Tr(t),"Item must be an object.")}function Na(t,e){let n=null;for(let r=t.length-1;r>=0;r--)if(e.canDragSource(t[r])){n=t[r];break}return n}function Aa(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _a(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){Aa(t,o,n[o])})}return t}function ja(t){return function(n={}){const r=t.getMonitor(),o=t.getRegistry();Fa(r),Ua(r).forEach((i,c)=>{const f=La(i,c,o,r),l={type:qe,payload:{dropResult:_a({},n,f)}};t.dispatch(l)})}}function Fa(t){T(t.isDragging(),"Cannot call drop while not dragging."),T(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function La(t,e,n,r){const o=n.getTarget(t);let s=o?o.drop(r,t):void 0;return ka(s),typeof s>"u"&&(s=e===0?{}:r.getDropResult()),s}function ka(t){T(typeof t>"u"||Tr(t),"Drop result must either be an object or undefined.")}function Ua(t){const e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}function Ha(t){return function(){const n=t.getMonitor(),r=t.getRegistry();$a(n);const o=n.getSourceId();return o!=null&&(r.getSource(o,!0).endDrag(n,o),r.unpinSource()),{type:Ze}}}function $a(t){T(t.isDragging(),"Cannot call endDrag while not dragging.")}function mt(t,e){return e===null?t===null:Array.isArray(t)?t.some(n=>n===e):t===e}function Ba(t){return function(n,{clientOffset:r}={}){Ga(n);const o=n.slice(0),s=t.getMonitor(),i=t.getRegistry(),c=s.getItemType();return Wa(o,i,c),Ka(o,s,i),Va(o,s,i),{type:ze,payload:{targetIds:o,clientOffset:r||null}}}}function Ga(t){T(Array.isArray(t),"Expected targetIds to be an array.")}function Ka(t,e,n){T(e.isDragging(),"Cannot call hover while not dragging."),T(!e.didDrop(),"Cannot call hover after drop.");for(let r=0;r<t.length;r++){const o=t[r];T(t.lastIndexOf(o)===r,"Expected targetIds to be unique in the passed array.");const s=n.getTarget(o);T(s,"Expected targetIds to be registered.")}}function Wa(t,e,n){for(let r=t.length-1;r>=0;r--){const o=t[r],s=e.getTargetType(o);mt(s,n)||t.splice(r,1)}}function Va(t,e,n){t.forEach(function(r){n.getTarget(r).hover(e,r)})}function Ya(t){return function(){if(t.getMonitor().isDragging())return{type:At}}}function Xa(t){return{beginDrag:Ia(t),publishDragSource:Ya(t),hover:Ba(t),drop:ja(t),endDrag:Ha(t)}}class za{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:n}=this.store;function r(s){return(...i)=>{const c=s.apply(e,i);typeof c<"u"&&n(c)}}const o=Xa(this);return Object.keys(o).reduce((s,i)=>{const c=o[i];return s[i]=r(c),s},{})}dispatch(e){this.store.dispatch(e)}constructor(e,n){this.isSetUp=!1,this.handleRefCountChange=()=>{const r=this.store.getState().refCount>0;this.backend&&(r&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!r&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=n,e.subscribe(this.handleRefCountChange)}}function qa(t,e){return{x:t.x+e.x,y:t.y+e.y}}function Ir(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Za(t){const{clientOffset:e,initialClientOffset:n,initialSourceClientOffset:r}=t;return!e||!n||!r?null:Ir(qa(e,r),n)}function Qa(t){const{clientOffset:e,initialClientOffset:n}=t;return!e||!n?null:Ir(e,n)}const be=[],_t=[];be.__IS_NONE__=!0;_t.__IS_ALL__=!0;function Ja(t,e){return t===be?!1:t===_t||typeof e>"u"?!0:Oa(e,t).length>0}class ec{subscribeToStateChange(e,n={}){const{handlerIds:r}=n;T(typeof e=="function","listener must be a function."),T(typeof r>"u"||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");let o=this.store.getState().stateId;const s=()=>{const i=this.store.getState(),c=i.stateId;try{c===o||c===o+1&&!Ja(i.dirtyHandlerIds,r)||e()}finally{o=c}};return this.store.subscribe(s)}subscribeToOffsetChange(e){T(typeof e=="function","listener must be a function.");let n=this.store.getState().dragOffset;const r=()=>{const o=this.store.getState().dragOffset;o!==n&&(n=o,e())};return this.store.subscribe(r)}canDragSource(e){if(!e)return!1;const n=this.registry.getSource(e);return T(n,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:n.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const n=this.registry.getTarget(e);if(T(n,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const r=this.registry.getTargetType(e),o=this.getItemType();return mt(r,o)&&n.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const n=this.registry.getSource(e,!0);if(T(n,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const r=this.registry.getSourceType(e),o=this.getItemType();return r!==o?!1:n.isDragging(this,e)}isOverTarget(e,n={shallow:!1}){if(!e)return!1;const{shallow:r}=n;if(!this.isDragging())return!1;const o=this.registry.getTargetType(e),s=this.getItemType();if(s&&!mt(o,s))return!1;const i=this.getTargetIds();if(!i.length)return!1;const c=i.indexOf(e);return r?c===i.length-1:c>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return Za(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return Qa(this.store.getState().dragOffset)}constructor(e,n){this.store=e,this.registry=n}}const rn=typeof global<"u"?global:self,Pr=rn.MutationObserver||rn.WebKitMutationObserver;function Rr(t){return function(){const n=setTimeout(o,0),r=setInterval(o,50);function o(){clearTimeout(n),clearInterval(r),t()}}}function tc(t){let e=1;const n=new Pr(t),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){e=-e,r.data=e}}const nc=typeof Pr=="function"?tc:Rr;class rc{enqueueTask(e){const{queue:n,requestFlush:r}=this;n.length||(r(),this.flushing=!0),n[n.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const n=this.index;if(this.index++,e[n].call(),this.index>this.capacity){for(let r=0,o=e.length-this.index;r<o;r++)e[r]=e[r+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=nc(this.flush),this.requestErrorThrow=Rr(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class oc{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,n){this.onError=e,this.release=n,this.task=null}}class sc{create(e){const n=this.freeTasks,r=n.length?n.pop():new oc(this.onError,o=>n[n.length]=o);return r.task=e,r}constructor(e){this.onError=e,this.freeTasks=[]}}const Mr=new rc,ic=new sc(Mr.registerPendingError);function ac(t){Mr.enqueueTask(ic.create(t))}const jt="dnd-core/ADD_SOURCE",Ft="dnd-core/ADD_TARGET",Lt="dnd-core/REMOVE_SOURCE",Qe="dnd-core/REMOVE_TARGET";function cc(t){return{type:jt,payload:{sourceId:t}}}function uc(t){return{type:Ft,payload:{targetId:t}}}function lc(t){return{type:Lt,payload:{sourceId:t}}}function dc(t){return{type:Qe,payload:{targetId:t}}}function fc(t){T(typeof t.canDrag=="function","Expected canDrag to be a function."),T(typeof t.beginDrag=="function","Expected beginDrag to be a function."),T(typeof t.endDrag=="function","Expected endDrag to be a function.")}function gc(t){T(typeof t.canDrop=="function","Expected canDrop to be a function."),T(typeof t.hover=="function","Expected hover to be a function."),T(typeof t.drop=="function","Expected beginDrag to be a function.")}function vt(t,e){if(e&&Array.isArray(t)){t.forEach(n=>vt(n,!1));return}T(typeof t=="string"||typeof t=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var z;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(z||(z={}));let hc=0;function pc(){return hc++}function mc(t){const e=pc().toString();switch(t){case z.SOURCE:return`S${e}`;case z.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function on(t){switch(t[0]){case"S":return z.SOURCE;case"T":return z.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function sn(t,e){const n=t.entries();let r=!1;do{const{done:o,value:[,s]}=n.next();if(s===e)return!0;r=!!o}while(!r);return!1}class vc{addSource(e,n){vt(e),fc(n);const r=this.addHandler(z.SOURCE,e,n);return this.store.dispatch(cc(r)),r}addTarget(e,n){vt(e,!0),gc(n);const r=this.addHandler(z.TARGET,e,n);return this.store.dispatch(uc(r)),r}containsHandler(e){return sn(this.dragSources,e)||sn(this.dropTargets,e)}getSource(e,n=!1){return T(this.isSourceId(e),"Expected a valid source ID."),n&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return T(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return T(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return T(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return on(e)===z.SOURCE}isTargetId(e){return on(e)===z.TARGET}removeSource(e){T(this.getSource(e),"Expected an existing source."),this.store.dispatch(lc(e)),ac(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){T(this.getTarget(e),"Expected an existing target."),this.store.dispatch(dc(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const n=this.getSource(e);T(n,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=n}unpinSource(){T(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,n,r){const o=mc(e);return this.types.set(o,n),e===z.SOURCE?this.dragSources.set(o,r):e===z.TARGET&&this.dropTargets.set(o,r),o}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const yc=(t,e)=>t===e;function Cc(t,e){return!t&&!e?!0:!t||!e?!1:t.x===e.x&&t.y===e.y}function xc(t,e,n=yc){if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(!n(t[r],e[r]))return!1;return!0}function Sc(t=be,e){switch(e.type){case ze:break;case jt:case Ft:case Qe:case Lt:return be;case Xe:case At:case Ze:case qe:default:return _t}const{targetIds:n=[],prevTargetIds:r=[]}=e.payload,o=Da(n,r);if(!(o.length>0||!xc(n,r)))return be;const i=r[r.length-1],c=n[n.length-1];return i!==c&&(i&&o.push(i),c&&o.push(c)),o}function bc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ec(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){bc(t,o,n[o])})}return t}const an={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function wc(t=an,e){const{payload:n}=e;switch(e.type){case Nt:case Xe:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case ze:return Cc(t.clientOffset,n.clientOffset)?t:Ec({},t,{clientOffset:n.clientOffset});case Ze:case qe:return an;default:return t}}function Dc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function he(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){Dc(t,o,n[o])})}return t}const Oc={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function Tc(t=Oc,e){const{payload:n}=e;switch(e.type){case Xe:return he({},t,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case At:return he({},t,{isSourcePublic:!0});case ze:return he({},t,{targetIds:n.targetIds});case Qe:return t.targetIds.indexOf(n.targetId)===-1?t:he({},t,{targetIds:wa(t.targetIds,n.targetId)});case qe:return he({},t,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case Ze:return he({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}function Ic(t=0,e){switch(e.type){case jt:case Ft:return t+1;case Lt:case Qe:return t-1;default:return t}}function Pc(t=0){return t+1}function Rc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){Rc(t,o,n[o])})}return t}function Nc(t={},e){return{dirtyHandlerIds:Sc(t.dirtyHandlerIds,{type:e.type,payload:Mc({},e.payload,{prevTargetIds:Ea(t,"dragOperation.targetIds",[])})}),dragOffset:wc(t.dragOffset,e),refCount:Ic(t.refCount,e),dragOperation:Tc(t.dragOperation,e),stateId:Pc(t.stateId)}}function Ac(t,e=void 0,n={},r=!1){const o=_c(r),s=new ec(o,new vc(o)),i=new za(o,s),c=t(i,e,n);return i.receiveBackend(c),i}function _c(t){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Or(Nc,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function jc(t,e){if(t==null)return{};var n=Fc(t,e),r,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(o=0;o<s.length;o++)r=s[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fc(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,s;for(s=0;s<r.length;s++)o=r[s],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}let cn=0;const He=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var Lc=a.memo(function(e){var{children:n}=e,r=jc(e,["children"]);const[o,s]=kc(r);return a.useEffect(()=>{if(s){const i=Nr();return++cn,()=>{--cn===0&&(i[He]=null)}}},[]),u.jsx(Dr.Provider,{value:o,children:n})});function kc(t){if("manager"in t)return[{dragDropManager:t.manager},!1];const e=Uc(t.backend,t.context,t.options,t.debugMode),n=!t.context;return[e,n]}function Uc(t,e=Nr(),n,r){const o=e;return o[He]||(o[He]={dragDropManager:Ac(t,e,n,r)}),o[He]}function Nr(){return typeof global<"u"?global:window}var Hc=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,o,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(o=r;o--!==0;)if(!t(e[o],n[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[o]))return!1;for(o=r;o--!==0;){var i=s[o];if(!t(e[i],n[i]))return!1}return!0}return e!==e&&n!==n};const $c=eo(Hc),ae=typeof window<"u"?a.useLayoutEffect:a.useEffect;function Ar(t,e,n){const[r,o]=a.useState(()=>e(t)),s=a.useCallback(()=>{const i=e(t);$c(r,i)||(o(i),n&&n())},[r,t,n]);return ae(s),[r,s]}function Bc(t,e,n){const[r,o]=Ar(t,e,n);return ae(function(){const i=t.getHandlerId();if(i!=null)return t.subscribeToStateChange(o,{handlerIds:[i]})},[t,o]),r}function _r(t,e,n){return Bc(e,t||(()=>({})),()=>n.reconnect())}function jr(t,e){const n=[...e||[]];return e==null&&typeof t!="function"&&n.push(t),a.useMemo(()=>typeof t=="function"?t():t,n)}function Gc(t){return a.useMemo(()=>t.hooks.dragSource(),[t])}function Kc(t){return a.useMemo(()=>t.hooks.dragPreview(),[t])}let it=!1,at=!1;class Wc{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){T(!it,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return it=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{it=!1}}isDragging(){if(!this.sourceId)return!1;T(!at,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return at=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{at=!1}}subscribeToStateChange(e,n){return this.internalMonitor.subscribeToStateChange(e,n)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,n){return this.internalMonitor.isOverTarget(e,n)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let ct=!1;class Vc{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,n){return this.internalMonitor.subscribeToStateChange(e,n)}canDrop(){if(!this.targetId)return!1;T(!ct,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return ct=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{ct=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function Yc(t,e,n){const r=n.getRegistry(),o=r.addTarget(t,e);return[o,()=>r.removeTarget(o)]}function Xc(t,e,n){const r=n.getRegistry(),o=r.addSource(t,e);return[o,()=>r.removeSource(o)]}function yt(t,e,n,r){let o=n?n.call(r,t,e):void 0;if(o!==void 0)return!!o;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;const s=Object.keys(t),i=Object.keys(e);if(s.length!==i.length)return!1;const c=Object.prototype.hasOwnProperty.bind(e);for(let f=0;f<s.length;f++){const l=s[f];if(!c(l))return!1;const d=t[l],h=e[l];if(o=n?n.call(r,d,h,l):void 0,o===!1||o===void 0&&d!==h)return!1}return!0}function Ct(t){return t!==null&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function zc(t){if(typeof t.type=="string")return;const e=t.type.displayName||t.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function qc(t){return(e=null,n=null)=>{if(!a.isValidElement(e)){const s=e;return t(s,n),s}const r=e;return zc(r),Zc(r,n?s=>t(s,n):t)}}function Fr(t){const e={};return Object.keys(t).forEach(n=>{const r=t[n];if(n.endsWith("Ref"))e[n]=t[n];else{const o=qc(r);e[n]=()=>o}}),e}function un(t,e){typeof t=="function"?t(e):t.current=e}function Zc(t,e){const n=t.ref;return T(typeof n!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?a.cloneElement(t,{ref:r=>{un(n,r),un(e,r)}}):a.cloneElement(t,{ref:e})}class Qc{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return n&&this.disconnectDragSource(),this.handlerId?e?(n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),n):(this.lastConnectedDragSource=e,n):n}reconnectDragPreview(e=!1){const n=this.dragPreview,r=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(r&&this.disconnectDragPreview(),!!this.handlerId){if(!n){this.lastConnectedDragPreview=n;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=n,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,n,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!yt(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!yt(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=Fr({dragSource:(n,r)=>{this.clearDragSource(),this.dragSourceOptions=r||null,Ct(n)?this.dragSourceRef=n:this.dragSourceNode=n,this.reconnectDragSource()},dragPreview:(n,r)=>{this.clearDragPreview(),this.dragPreviewOptions=r||null,Ct(n)?this.dragPreviewRef=n:this.dragPreviewNode=n,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class Jc{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const n=this.dropTarget;if(this.handlerId){if(!n){this.lastConnectedDropTarget=n;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!yt(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=Fr({dropTarget:(n,r)=>{this.clearDropTarget(),this.dropTargetOptions=r,Ct(n)?this.dropTargetRef=n:this.dropTargetNode=n,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function de(){const{dragDropManager:t}=a.useContext(Dr);return T(t!=null,"Expected drag drop context"),t}function eu(t,e){const n=de(),r=a.useMemo(()=>new Qc(n.getBackend()),[n]);return ae(()=>(r.dragSourceOptions=t||null,r.reconnect(),()=>r.disconnectDragSource()),[r,t]),ae(()=>(r.dragPreviewOptions=e||null,r.reconnect(),()=>r.disconnectDragPreview()),[r,e]),r}function tu(){const t=de();return a.useMemo(()=>new Wc(t),[t])}class nu{beginDrag(){const e=this.spec,n=this.monitor;let r=null;return typeof e.item=="object"?r=e.item:typeof e.item=="function"?r=e.item(n):r={},r??null}canDrag(){const e=this.spec,n=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(n):!0}isDragging(e,n){const r=this.spec,o=this.monitor,{isDragging:s}=r;return s?s(o):n===e.getSourceId()}endDrag(){const e=this.spec,n=this.monitor,r=this.connector,{end:o}=e;o&&o(n.getItem(),n),r.reconnect()}constructor(e,n,r){this.spec=e,this.monitor=n,this.connector=r}}function ru(t,e,n){const r=a.useMemo(()=>new nu(t,e,n),[e,n]);return a.useEffect(()=>{r.spec=t},[t]),r}function ou(t){return a.useMemo(()=>{const e=t.type;return T(e!=null,"spec.type must be defined"),e},[t])}function su(t,e,n){const r=de(),o=ru(t,e,n),s=ou(t);ae(function(){if(s!=null){const[c,f]=Xc(s,o,r);return e.receiveHandlerId(c),n.receiveHandlerId(c),f}},[r,e,n,o,s])}function Lr(t,e){const n=jr(t,e);T(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const r=tu(),o=eu(n.options,n.previewOptions);return su(n,r,o),[_r(n.collect,r,o),Gc(o),Kc(o)]}function iu(t){const n=de().getMonitor(),[r,o]=Ar(n,t);return a.useEffect(()=>n.subscribeToOffsetChange(o)),a.useEffect(()=>n.subscribeToStateChange(o)),r}function au(t){return a.useMemo(()=>t.hooks.dropTarget(),[t])}function cu(t){const e=de(),n=a.useMemo(()=>new Jc(e.getBackend()),[e]);return ae(()=>(n.dropTargetOptions=t||null,n.reconnect(),()=>n.disconnectDropTarget()),[t]),n}function uu(){const t=de();return a.useMemo(()=>new Vc(t),[t])}function lu(t){const{accept:e}=t;return a.useMemo(()=>(T(t.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class du{canDrop(){const e=this.spec,n=this.monitor;return e.canDrop?e.canDrop(n.getItem(),n):!0}hover(){const e=this.spec,n=this.monitor;e.hover&&e.hover(n.getItem(),n)}drop(){const e=this.spec,n=this.monitor;if(e.drop)return e.drop(n.getItem(),n)}constructor(e,n){this.spec=e,this.monitor=n}}function fu(t,e){const n=a.useMemo(()=>new du(t,e),[e]);return a.useEffect(()=>{n.spec=t},[t]),n}function gu(t,e,n){const r=de(),o=fu(t,e),s=lu(t);ae(function(){const[c,f]=Yc(s,o,r);return e.receiveHandlerId(c),n.receiveHandlerId(c),f},[r,e,o,n,s.map(i=>i.toString()).join("|")])}function hu(t,e){const n=jr(t,e),r=uu(),o=cu(n.options);return gu(n,r,o),[_r(n.collect,r,o),au(o)]}function kr(t){let e=null;return()=>(e==null&&(e=t()),e)}function pu(t,e){return t.filter(n=>n!==e)}function mu(t,e){const n=new Set,r=s=>n.add(s);t.forEach(r),e.forEach(r);const o=[];return n.forEach(s=>o.push(s)),o}class vu{enter(e){const n=this.entered.length,r=o=>this.isNodeInDocument(o)&&(!o.contains||o.contains(e));return this.entered=mu(this.entered.filter(r),[e]),n===0&&this.entered.length>0}leave(e){const n=this.entered.length;return this.entered=pu(this.entered.filter(this.isNodeInDocument),e),n>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class yu{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const n={};Object.keys(this.config.exposeProperties).forEach(r=>{const o=this.config.exposeProperties[r];o!=null&&(n[r]={value:o(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,n)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,n){return n===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const Ur="__NATIVE_FILE__",Hr="__NATIVE_URL__",$r="__NATIVE_TEXT__",Br="__NATIVE_HTML__",ln=Object.freeze(Object.defineProperty({__proto__:null,FILE:Ur,HTML:Br,TEXT:$r,URL:Hr},Symbol.toStringTag,{value:"Module"}));function ut(t,e,n){const r=e.reduce((o,s)=>o||t.getData(s),"");return r??n}const xt={[Ur]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[Br]:{exposeProperties:{html:(t,e)=>ut(t,e,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[Hr]:{exposeProperties:{urls:(t,e)=>ut(t,e,"").split(`
`),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[$r]:{exposeProperties:{text:(t,e)=>ut(t,e,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function Cu(t,e){const n=xt[t];if(!n)throw new Error(`native type ${t} has no configuration`);const r=new yu(n);return r.loadDataTransfer(e),r}function lt(t){if(!t)return null;const e=Array.prototype.slice.call(t.types||[]);return Object.keys(xt).filter(n=>{const r=xt[n];return r!=null&&r.matchesTypes?r.matchesTypes.some(o=>e.indexOf(o)>-1):!1})[0]||null}const xu=kr(()=>/firefox/i.test(navigator.userAgent)),Gr=kr(()=>!!window.safari);class dn{interpolate(e){const{xs:n,ys:r,c1s:o,c2s:s,c3s:i}=this;let c=n.length-1;if(e===n[c])return r[c];let f=0,l=i.length-1,d;for(;f<=l;){d=Math.floor(.5*(f+l));const m=n[d];if(m<e)f=d+1;else if(m>e)l=d-1;else return r[d]}c=Math.max(0,l);const h=e-n[c],g=h*h;return r[c]+o[c]*h+s[c]*g+i[c]*h*g}constructor(e,n){const{length:r}=e,o=[];for(let m=0;m<r;m++)o.push(m);o.sort((m,C)=>e[m]<e[C]?-1:1);const s=[],i=[];let c,f;for(let m=0;m<r-1;m++)c=e[m+1]-e[m],f=n[m+1]-n[m],s.push(c),i.push(f/c);const l=[i[0]];for(let m=0;m<s.length-1;m++){const C=i[m],p=i[m+1];if(C*p<=0)l.push(0);else{c=s[m];const v=s[m+1],y=c+v;l.push(3*y/((y+v)/C+(y+c)/p))}}l.push(i[i.length-1]);const d=[],h=[];let g;for(let m=0;m<l.length-1;m++){g=i[m];const C=l[m],p=1/s[m],v=C+l[m+1]-g-g;d.push((g-C-v)*p),h.push(v*p*p)}this.xs=e,this.ys=n,this.c1s=l,this.c2s=d,this.c3s=h}}const Su=1;function Kr(t){const e=t.nodeType===Su?t:t.parentElement;if(!e)return null;const{top:n,left:r}=e.getBoundingClientRect();return{x:r,y:n}}function ke(t){return{x:t.clientX,y:t.clientY}}function bu(t){var e;return t.nodeName==="IMG"&&(xu()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(t)))}function Eu(t,e,n,r){let o=t?e.width:n,s=t?e.height:r;return Gr()&&t&&(s/=window.devicePixelRatio,o/=window.devicePixelRatio),{dragPreviewWidth:o,dragPreviewHeight:s}}function wu(t,e,n,r,o){const s=bu(e),c=Kr(s?t:e),f={x:n.x-c.x,y:n.y-c.y},{offsetWidth:l,offsetHeight:d}=t,{anchorX:h,anchorY:g}=r,{dragPreviewWidth:m,dragPreviewHeight:C}=Eu(s,e,l,d),p=()=>{let R=new dn([0,.5,1],[f.y,f.y/d*C,f.y+C-d]).interpolate(g);return Gr()&&s&&(R+=(window.devicePixelRatio-1)*C),R},v=()=>new dn([0,.5,1],[f.x,f.x/l*m,f.x+m-l]).interpolate(h),{offsetX:y,offsetY:E}=o,b=y===0||y,w=E===0||E;return{x:b?y:v(),y:w?E:p()}}class Du{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,n){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=n}}function Ou(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){Ou(t,o,n[o])})}return t}class Tu{profile(){var e,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var n;(n=this.window)===null||n===void 0||n.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,n,r){return this.sourcePreviewNodeOptions.set(e,r),this.sourcePreviewNodes.set(e,n),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,n,r){this.sourceNodes.set(e,n),this.sourceNodeOptions.set(e,r);const o=i=>this.handleDragStart(i,e),s=i=>this.handleSelectStart(i);return n.setAttribute("draggable","true"),n.addEventListener("dragstart",o),n.addEventListener("selectstart",s),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),n.removeEventListener("dragstart",o),n.removeEventListener("selectstart",s),n.setAttribute("draggable","false")}}connectDropTarget(e,n){const r=i=>this.handleDragEnter(i,e),o=i=>this.handleDragOver(i,e),s=i=>this.handleDrop(i,e);return n.addEventListener("dragenter",r),n.addEventListener("dragover",o),n.addEventListener("drop",s),()=>{n.removeEventListener("dragenter",r),n.removeEventListener("dragover",o),n.removeEventListener("drop",s)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(e);return fn({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(e);return fn({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(ln).some(n=>ln[n]===e)}beginDragNativeItem(e,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=Cu(e,n),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const n=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var r;return(r=this.rootElement)===null||r===void 0?void 0:r.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},n)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,n){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}handleDragEnter(e,n){this.dragEnterTargetIds.unshift(n)}handleDragOver(e,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}handleDrop(e,n){this.dropTargetIds.unshift(n)}constructor(e,n,r){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=o=>{const s=this.sourceNodes.get(o);return s&&Kr(s)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=o=>!!(o&&this.document&&this.document.body&&this.document.body.contains(o)),this.endDragIfSourceWasRemovedFromDOM=()=>{const o=this.currentDragSourceNode;o==null||this.isNodeInDocument(o)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=o=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(o||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=o=>{if(o.defaultPrevented)return;const{dragStartSourceIds:s}=this;this.dragStartSourceIds=null;const i=ke(o);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(s||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:i});const{dataTransfer:c}=o,f=lt(c);if(this.monitor.isDragging()){if(c&&typeof c.setDragImage=="function"){const d=this.monitor.getSourceId(),h=this.sourceNodes.get(d),g=this.sourcePreviewNodes.get(d)||h;if(g){const{anchorX:m,anchorY:C,offsetX:p,offsetY:v}=this.getCurrentSourcePreviewNodeOptions(),b=wu(h,g,i,{anchorX:m,anchorY:C},{offsetX:p,offsetY:v});c.setDragImage(g,b.x,b.y)}}try{c==null||c.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(o.target);const{captureDraggingState:l}=this.getCurrentSourcePreviewNodeOptions();l?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(f)this.beginDragNativeItem(f);else{if(c&&!c.types&&(o.target&&!o.target.hasAttribute||!o.target.hasAttribute("draggable")))return;o.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=o=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var s;(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(o.dataTransfer)}if(!this.enterLeaveCounter.enter(o.target)||this.monitor.isDragging())return;const{dataTransfer:c}=o,f=lt(c);f&&this.beginDragNativeItem(f,c)},this.handleTopDragEnter=o=>{const{dragEnterTargetIds:s}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=o.altKey,s.length>0&&this.actions.hover(s,{clientOffset:ke(o)}),s.some(c=>this.monitor.canDropOnTarget(c))&&(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=o=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var s;(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(o.dataTransfer)}},this.handleTopDragOver=o=>{const{dragOverTargetIds:s}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none");return}this.altKeyPressed=o.altKey,this.lastClientOffset=ke(o),this.scheduleHover(s),(s||[]).some(c=>this.monitor.canDropOnTarget(c))?(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?o.preventDefault():(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=o=>{this.isDraggingNativeItem()&&o.preventDefault(),this.enterLeaveCounter.leave(o.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=o=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var s;o.preventDefault(),(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(o.dataTransfer)}else lt(o.dataTransfer)&&o.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=o=>{const{dropTargetIds:s}=this;this.dropTargetIds=[],this.actions.hover(s,{clientOffset:ke(o)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=o=>{const s=o.target;typeof s.dragDrop=="function"&&(s.tagName==="INPUT"||s.tagName==="SELECT"||s.tagName==="TEXTAREA"||s.isContentEditable||(o.preventDefault(),s.dragDrop()))},this.options=new Du(n,r),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new vu(this.isNodeInDocument)}}let Ue;function Wr(){return Ue||(Ue=new Image,Ue.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),Ue}const Iu=function(e,n,r){return new Tu(e,n,r)};function ce({file:t,className:e,style:n}){const r=k(D=>D.selectedFile),o=k(D=>D.setSelectedFile),s=k(D=>D.activeRange),i=k(D=>D.setActiveRange),c=k(D=>D.inActiveRange),f=Je(D=>D.addTab),l=Je(D=>D.selectTab),d=Je(D=>D.createTab),[h,g]=a.useState(!1),m=pn(()=>g(!0),{threshold:50,onFinish(){g(!1)},onCancel(){g(!1)}}),{setArtifactRename:C,renameArtifact:p,artifactRename:v,selectArtifactsInRange:y,removeArtifactWithConfirmation:E}=Ke(),[b,w]=a.useState(!1),[{isDragging:I},R,O]=Lr(()=>({type:"artifact",item:t,end(){g(!1)},canDrag(){return v!==t&&h},collect(D){return{isDragging:D.isDragging()}}}),[t,v,h]);a.useEffect(()=>{O(Wr(),{captureDraggingState:!0})},[O]);function M(D){D.stopPropagation(),D.shiftKey&&D.preventDefault();let A=s;D.metaKey?(c(t)?A=A.filter(G=>G!==t):A.push(t),i(A)):D.shiftKey&&A.length>0?y(t):(A.length>0&&(A=[]),A.push(t),i(A),o(t))}function _(){const D=d(t);f(D),l(D)}const F=s.length>1&&c(t);return u.jsx("div",{...m,ref:R,children:u.jsxs(Q.Container,{artifact:t,isSelected:r===t,className:L(v===t&&"bg-primary-10",b&&"bg-primary-10",h&&"bg-primary-10 !cursor-grabbing outline-2 !outline-primary-500",I&&"opacity-50",e),style:n,onDoubleClick:D=>{D.stopPropagation(),_()},handleSelect:M,children:[u.jsx(ce.Icons,{}),v===t?u.jsx(Q.Rename,{artifact:v,rename:p,close:()=>C(void 0)}):u.jsxs(Q.ContextMenu,{trigger:u.jsx(Q.ContextMenuTrigger,{children:u.jsx(ce.Display,{file:t})}),onOpenChange:w,children:[r!==t&&u.jsxs(Z,{className:L("py-1.5 group leading-none rounded-md flex items-center relative pl-6 pr-2 select-none outline-none font-medium text-xs text-neutral-500 ",F?"opacity-50 cursor-not-allowed":"hover:bg-accent-500 hover:text-light"),disabled:F,onClick:D=>{D.stopPropagation()},onSelect:D=>{D.stopPropagation(),_()},children:["Open in New Tab",u.jsx("div",{className:"ml-auto pl-5"})]}),u.jsxs(Z,{className:L("py-1.5 group leading-none rounded-md flex items-center relative pl-6 pr-2 select-none outline-none font-medium text-xs text-neutral-500 ",F?"opacity-50 cursor-not-allowed":"hover:bg-accent-500 hover:text-light"),disabled:F,onClick:D=>{D.stopPropagation()},onSelect:D=>{D.stopPropagation(),C(t)},children:["Rename",u.jsx("div",{className:"ml-auto pl-5"})]}),u.jsxs(Z,{className:"py-1.5 group leading-none rounded-md flex items-center relative pl-6 pr-2 select-none outline-none font-medium text-xs text-danger-500 hover:bg-danger-500 hover:text-light",onSelect:D=>{D.stopPropagation(),E(t)},children:["Remove ",c(t)?s.length:"",u.jsx("div",{className:"ml-auto pl-5"})]})]})]})})}function Pu({file:t}){return u.jsx("span",{title:t.name,className:L("inline-block overflow-hidden overflow-ellipsis py-[0.125rem]"),children:hn(t.name,50,20)})}function Ru(){return u.jsx("div",{className:"flex items-center",children:u.jsx(No,{className:"inline-block w-3 ml-1 mr-2"})})}ce.Display=Pu;ce.Icons=Ru;const De=function t({directory:e,className:n,style:r}){const o=k(S=>S.selectedFile),s=k(S=>S.activeRange),i=k(S=>S.setActiveRange),c=k(S=>S.inActiveRange),[f,l]=a.useState(e.isOpened),[d,h]=a.useState(!1),[g,m]=a.useState(!1),C=pn(()=>m(!0),{threshold:50,onFinish(){m(!1)},onCancel(){m(!1)}}),{setArtifactRename:p,renameArtifact:v,artifactRename:y,createDirectory:E,createFile:b,moveArtifacts:w,removeArtifactWithConfirmation:I,selectArtifactsInRange:R}=Ke(),[{isOver:O},M]=hu(()=>({accept:"artifact",drop(S,x){if(Y(x.canDrop()))return;const N=c(S)?s:[S];w(N,e),e.open()},canDrop(S,x){const N=c(S)?s:[S];return x.isOver({shallow:!0})&&no(N)&&N.reduce((j,H)=>!(Y(j)||H.parent===e||H===e||H instanceof dt&&H.hasDirectory(e)),!0)},collect(S){return{isOver:S.isOver({shallow:!0})&&S.canDrop()}}}),[s]),[{isDragging:_},F,D]=Lr(()=>({type:"artifact",item:e,end(){m(!1)},canDrag(){return y!==e&&g},collect(S){return{isDragging:S.isDragging()}}}),[e,y,g]),[A,G,ee,te]=a.useMemo(()=>{if(s.length<2)return[!1,!1,!1,!1];let S=!0,x=!0,N=!0;for(const j of Array.from(s))j instanceof dt&&S?(x&&(x=j.isOpened),N&&(N=j.isClosed)):S=!1;return[S,x,N,Y(x)&&Y(N)]},[s]);a.useEffect(()=>{e.syncStateOpen=l},[e]),a.useEffect(()=>{D(Wr(),{captureDraggingState:!0})},[D]),a.useEffect(()=>{to(o)||f||e.hasFile(o)&&e.open()},[o]);function W(S){S.stopPropagation(),S.shiftKey||S.metaKey?S.preventDefault():e.toggle();let x=s;S.metaKey?(c(e)?x=x.filter(N=>N!==e):x.push(e),i(x)):S.shiftKey&&x.length>0?R(e):(x.length>0&&(x=[]),x.push(e),i(x))}const U=s.length>1&&c(e);return u.jsx("div",{className:L("h-full",_&&"opacity-50"),children:u.jsxs("div",{ref:M,className:L(O&&Y(_)&&"bg-primary-5"),children:[e.withParent&&u.jsx("div",{...C,ref:e.withParent?F:void 0,children:u.jsxs(Q.Container,{artifact:e,className:L(y===e&&"bg-primary-10",g&&"bg-primary-10 !cursor-grabbing",d&&"bg-primary-10",n),style:r,handleSelect:W,children:[u.jsx(t.Icons,{isOpen:f||O&&Y(_)}),y===e?u.jsx(Q.Rename,{artifact:y,rename:v,close:()=>p(void 0)}):u.jsxs(Q.ContextMenu,{trigger:u.jsx(Q.ContextMenuTrigger,{children:u.jsx(t.Display,{directory:e})}),onOpenChange:h,children:[u.jsxs(Z,{className:L("py-1.5 group leading-none rounded-md flex items-center relative pl-6 pr-2 select-none outline-none font-medium text-xs text-neutral-500 ",U&&Y(A)?"opacity-50 cursor-not-allowed":"hover:bg-accent-500 hover:text-light"),disabled:U&&Y(A),onSelect:S=>{S.stopPropagation(),s.length>1&&c(e)?s.forEach(x=>{G?x.collapse():ee?x.expand():te&&(x.isOpened?x.collapse():x.expand())}):e.isOpened?e.collapse():e.expand(),i([])},children:[A&&G&&"Collapse All",A&&ee&&"Expand All",A&&te&&"Toggle All",Y(A)&&e.isOpened&&"Collapse",Y(A)&&e.isClosed&&"Expand",u.jsx("div",{className:"ml-auto pl-5"})]}),u.jsx(Jt,{className:"h-[1px] bg-accent-200 m-2"}),u.jsxs(Z,{className:L("py-1.5 group leading-none rounded-md flex items-center relative pl-6 pr-2 select-none outline-none font-medium text-xs text-neutral-500 ",U?"opacity-50 cursor-not-allowed":"hover:bg-accent-500 hover:text-light"),disabled:U,onSelect:S=>{S.stopPropagation(),b(e)},children:["New File",u.jsx("div",{className:"ml-auto pl-5"})]}),u.jsxs(Z,{className:L("py-1.5 group leading-none rounded-md flex items-center relative pl-6 pr-2 select-none outline-none font-medium text-xs text-neutral-500 ",U?"opacity-50 cursor-not-allowed":"hover:bg-accent-500 hover:text-light"),disabled:U,onSelect:S=>{S.stopPropagation(),E(e)},children:["New Folder",u.jsx("div",{className:"ml-auto pl-5"})]}),u.jsx(Jt,{className:"h-[1px] bg-accent-200 m-2"}),u.jsxs(Z,{className:L("py-1.5 group leading-none rounded-md flex items-center relative pl-6 pr-2 select-none outline-none font-medium text-xs text-neutral-500 ",U?"opacity-50 cursor-not-allowed":"hover:bg-accent-500 hover:text-light"),disabled:U,onClick:S=>{S.stopPropagation()},onSelect:S=>{S.stopPropagation(),p(e)},children:["Rename",u.jsx("div",{className:"ml-auto pl-5"})]}),u.jsxs(Z,{className:"py-1.5 group leading-none rounded-md flex items-center relative pl-6 pr-2 select-none outline-none font-medium text-xs text-danger-500 hover:bg-danger-500 hover:text-light",onSelect:S=>{S.stopPropagation(),I(e)},children:["Remove ",c(e)?s.length:"",u.jsx("div",{className:"ml-auto pl-5"})]})]})]})}),(O&&Y(_)||f||!e.withParent)&&e.withDirectories&&u.jsx("ul",{className:L(c(e)&&"bg-primary-5"),children:e.directories.map(S=>u.jsx("li",{title:S.name,children:u.jsx(t,{directory:S,style:{paddingLeft:e.withParent?`${e.level/2+.25}rem`:0}},S.id)},S.id))}),(O&&Y(_)||f||!e.withParent)&&e.withFiles&&u.jsx("ul",{className:L(c(e)&&"bg-primary-5"),children:e.files.map(S=>u.jsx("li",{title:S.name,children:u.jsx(ce,{file:S,style:{paddingLeft:e.withParent?`${e.level/2+.25}rem`:0}},S.id)},S.id))})]})})};function Mu({directory:t}){return u.jsxs("div",{className:"w-full flex justify-between items-center py-[0.125rem]",children:[u.jsx("span",{title:t.name,className:"overflow-hidden overflow-ellipsis whitespace-nowrap",children:hn(t.name,50,20)}),u.jsx("span",{className:"inline-block text-xs rounded-full px-2 bg-neutral-10 ml-2",children:t.directories.length+t.files.length})]})}function Nu({hasChevron:t=!0,hasFolder:e=!0,isOpen:n=!1,className:r}){const o=n?Io:Po,s=n?jo:ko;return u.jsxs("div",{className:L("flex items-center mr-2",r),children:[t&&u.jsx(o,{className:"inline-block w-5"}),e&&u.jsx(s,{className:"inline-block w-4 fill-primary-500"})]})}De.Icons=Nu;De.Display=Mu;const Au={position:"fixed",pointerEvents:"none",zIndex:100,left:0,top:0,width:"100%",height:"100%"};function _u(){const t=k(i=>i.activeRange),e=k(i=>i.inActiveRange),{isDragging:n,currentOffset:r,artifact:o}=iu(i=>({artifact:i.getItem(),isDragging:i.isDragging(),currentOffset:i.getSourceClientOffset()})),s=a.useMemo(()=>Array.from(e(o)?t:new Set([o])).filter(Boolean),[t,o]);return u.jsx(u.Fragment,{children:n&&u.jsx("div",{style:Au,children:u.jsx("div",{style:ju(r),className:"!cursor-grabbing !rounded-lg overflow-hidden",children:s.map(i=>u.jsxs("span",{children:[i instanceof dt&&u.jsxs(Q.Container,{artifact:i,className:"bg-theme",children:[u.jsx(De.Icons,{hasChevron:!1}),u.jsx(De.Display,{directory:i})]},i.path),i instanceof Oo&&u.jsxs(Q.Container,{artifact:i,className:"bg-theme",children:[u.jsx(ce.Icons,{}),u.jsx(ce.Display,{file:i})]},i.path)]},i.id))})})})}function ju(t){if(t==null)return{display:"none"};const{x:e,y:n}=t;return{display:"inline-block",transform:`translate(${e}px, ${n}px)`,filter:"drop-shadow(0 2px 12px rgba(0,0,0,0.45))"}}const Me=function t({className:e}){const n=k(g=>g.project),r=k(g=>g.setSelectedFile),o=k(g=>g.activeRange),s=k(g=>g.setActiveRange),i=ro(g=>g.addConfirmation),{isFetching:c}=oo(),{removeArtifacts:f,createDirectory:l,createFile:d}=Ke();function h(g){g.key==="Escape"&&s([]),g.ctrlKey&&g.key==="Backspace"&&o.length>0&&i({headline:"Removing Selected Files/Directories",description:`Are you sure you want to remove ${o.length} items?`,yesText:"Yes, Remove",noText:"No, Cancel",details:Array.from(o).map(m=>m.path),action:()=>{f(o)}})}return u.jsx("div",{tabIndex:0,className:L("flex flex-col w-full h-full overflow-hidden text-sm text-neutral-500 dark:text-neutral-400 font-regular select-none",e),onKeyDown:h,children:c?u.jsx("div",{className:"flex justify-center items-center w-full h-full",children:u.jsxs(so,{className:"inline-block",children:[u.jsx(io,{className:"w-3 h-3 border border-neutral-10 mr-2"}),u.jsx("h3",{className:"text-md",children:"Getting Project Files..."})]})}):u.jsxs(u.Fragment,{children:[u.jsx(To,{list:n.allFiles,searchBy:"path",displayBy:"name",size:ao.sm,onSelect:r,direction:"top",isFullWidth:!0}),u.jsxs(t.ContextMenu,{trigger:u.jsx(t.ContextMenuTrigger,{className:"h-full pb-1",children:u.jsx(Lc,{backend:Iu,children:u.jsxs("div",{className:"w-full relative h-full px-1 overflow-hidden overflow-y-auto hover:scrollbar scrollbar--vertical",children:[u.jsx(_u,{}),u.jsx(De,{className:"z-20 relative",directory:n},n.id)]})})}),children:[u.jsxs(Z,{className:"py-1.5 group leading-none rounded-md flex items-center relative pl-6 pr-2 select-none outline-none font-medium text-xs text-neutral-500 hover:bg-accent-500 hover:text-light",onSelect:g=>{g.stopPropagation(),d(n)},children:["New File",u.jsx("div",{className:"ml-auto pl-5"})]}),u.jsxs(Z,{className:"py-1.5 group leading-none rounded-md flex items-center relative pl-6 pr-2 select-none outline-none font-medium text-xs text-neutral-500 hover:bg-accent-500 hover:text-light",onSelect:g=>{g.stopPropagation(),l(n)},children:["New Folder",u.jsx("div",{className:"ml-auto pl-5"})]})]},n.id)]})})};function Fu({trigger:t,children:e,onOpenChange:n}){return u.jsxs(va,{onOpenChange:n,children:[t,u.jsx(Ca,{children:u.jsx(xa,{className:"bg-light rounded-md overflow-hidden shadow-lg py-2 px-1 z-50",onClick:r=>{r.stopPropagation()},children:e})})]})}function Lu({children:t,className:e}){return u.jsx(ya,{className:L("flex w-full overflow-hidden",e),onContextMenu:n=>{n.stopPropagation()},children:t})}function ku({artifact:t,rename:e,close:n}){const r=re.useRef(null),[o,s]=a.useState("");return a.useEffect(()=>{s(t.name),setTimeout(()=>{var i;(i=r.current)==null||i.focus()},100)},[t]),u.jsx("div",{className:"w-full flex items-center py-[0.125rem] pr-2",children:u.jsx("input",{ref:r,type:"text",className:"w-full overflow-hidden overflow-ellipsis bg-primary-900 text-primary-100",value:o,onInput:i=>{i.stopPropagation(),s(i.target.value)},onBlur:i=>{i.stopPropagation(),n()},onKeyDown:i=>{i.key==="Enter"&&(i.stopPropagation(),o.trim()!==""&&o!==t.name&&e(t,o),n()),i.key==="Escape"&&(i.stopPropagation(),n())}})})}function Uu({artifact:t,children:e,isSelected:n=!1,className:r,style:o,handleSelect:s,onDoubleClick:i}){const{setArtifactRename:c,isBottomGroupInActiveRange:f,isTopGroupInActiveRange:l,isMiddleGroupInActiveRange:d}=Ke(),h=k(m=>m.activeRange),g=k(m=>m.inActiveRange);return u.jsx("span",{tabIndex:0,className:L("w-full flex items-center group/file px-2",r,l(t)?"rounded-t-md":f(t)?"rounded-b-md":d(t)?"":g(t)&&"rounded-md",g(t)&&h.length>1&&h.indexOf(t)<h.length-1?"border-b border-primary-400":"border-b border-transparent",g(t)?"bg-primary-10 dark:bg-primary-20":n&&"rounded-md bg-neutral-10 text-neutral-600 dark:bg-dark-lighter dark:text-primary-500"),style:o,onClick:s,onDoubleClick:i,onKeyDown:m=>{m.key==="Enter"&&(m.stopPropagation(),c(t),s==null||s(m)),m.key===" "&&(m.stopPropagation(),s==null||s(m))},children:e})}Me.ContextMenu=Fu;Me.ContextMenuTrigger=Lu;Me.Rename=ku;Me.Container=Uu;const Q=Me;export{Q as default};
