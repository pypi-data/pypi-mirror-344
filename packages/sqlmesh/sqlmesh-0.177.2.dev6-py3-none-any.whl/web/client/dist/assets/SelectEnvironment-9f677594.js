import{r as o,R as O,j as n,i as ne,K as ie,c as k,W as et,a as L,h as Ee,I as ue,X as tt,w as $e,J as rt,B as me,m as te,n as re,d as at,Y as nt,b as je,Z as st,$ as ot,G as it}from"./index-cbd2ced8.js";import{L as lt}from"./context-fc6e9b66.js";import ct from"./ModelLineage-b169bff1.js";import{i as K,G as Me,U as B,o as b,I as W,y as G,C as U,j as ke,v as dt,H as ut,u as xe,m as ae,p as ve,T as mt,n as pt,k as ft,J as xt,K as vt,z as h,A as pe,h as fe,_ as gt,M as Q,L as De,P as Oe,O as Ie,N as Ne,b as ht,c as bt,F as wt,Q as yt,R as Rt,D as Et}from"./transition-23195d83.js";import{s as jt,u as kt,c as F,f as It,T as Nt,p as Pt,e as Ct}from"./ListboxShow-1eae146d.js";import{A as le}from"./PlusCircleIcon-ce877688.js";import{I as Pe}from"./Input-87ebe65e.js";import{C as $t}from"./ChevronDownIcon-2f00b696.js";function Mt({title:e,titleId:t,...r},a){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?o.createElement("title",{id:t},e):null,o.createElement("path",{fillRule:"evenodd",d:"M10 4.5c1.215 0 2.417.055 3.604.162a.68.68 0 0 1 .615.597c.124 1.038.208 2.088.25 3.15l-1.689-1.69a.75.75 0 0 0-1.06 1.061l2.999 3a.75.75 0 0 0 1.06 0l3.001-3a.75.75 0 1 0-1.06-1.06l-1.748 1.747a41.31 41.31 0 0 0-.264-3.386 2.18 2.18 0 0 0-1.97-1.913 41.512 41.512 0 0 0-7.477 0 2.18 2.18 0 0 0-1.969 1.913 41.16 41.16 0 0 0-.16 1.61.75.75 0 1 0 1.495.12c.041-.52.093-1.038.154-1.552a.68.68 0 0 1 .615-.597A40.012 40.012 0 0 1 10 4.5ZM5.281 9.22a.75.75 0 0 0-1.06 0l-3.001 3a.75.75 0 1 0 1.06 1.06l1.748-1.747c.042 1.141.13 2.27.264 3.386a2.18 2.18 0 0 0 1.97 1.913 41.533 41.533 0 0 0 7.477 0 2.18 2.18 0 0 0 1.969-1.913c.064-.534.117-1.071.16-1.61a.75.75 0 1 0-1.495-.12c-.041.52-.093 1.037-.154 1.552a.68.68 0 0 1-.615.597 40.013 40.013 0 0 1-7.208 0 .68.68 0 0 1-.615-.597 39.785 39.785 0 0 1-.25-3.15l1.689 1.69a.75.75 0 0 0 1.06-1.061l-2.999-3Z",clipRule:"evenodd"}))}const Dt=o.forwardRef(Mt),Te=Dt;function Ot({title:e,titleId:t,...r},a){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?o.createElement("title",{id:t},e):null,o.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm3.857-9.809a.75.75 0 0 0-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 1 0-1.06 1.061l2.5 2.5a.75.75 0 0 0 1.137-.089l4-5.5Z",clipRule:"evenodd"}))}const Tt=o.forwardRef(Ot),St=Tt;function Ft({title:e,titleId:t,...r},a){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?o.createElement("title",{id:t},e):null,o.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16ZM6.75 9.25a.75.75 0 0 0 0 1.5h6.5a.75.75 0 0 0 0-1.5h-6.5Z",clipRule:"evenodd"}))}const At=o.forwardRef(Ft),Se=At;function _t({title:e,titleId:t,...r},a){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?o.createElement("title",{id:t},e):null,o.createElement("path",{fillRule:"evenodd",d:"M4 10a.75.75 0 0 1 .75-.75h10.5a.75.75 0 0 1 0 1.5H4.75A.75.75 0 0 1 4 10Z",clipRule:"evenodd"}))}const Lt=o.forwardRef(_t),Bt=Lt;function Gt({title:e,titleId:t,...r},a){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?o.createElement("title",{id:t},e):null,o.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm.75-11.25a.75.75 0 0 0-1.5 0v2.5h-2.5a.75.75 0 0 0 0 1.5h2.5v2.5a.75.75 0 0 0 1.5 0v-2.5h2.5a.75.75 0 0 0 0-1.5h-2.5v-2.5Z",clipRule:"evenodd"}))}const Ut=o.forwardRef(Gt),zt=Ut;function Vt({title:e,titleId:t,...r},a){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?o.createElement("title",{id:t},e):null,o.createElement("path",{d:"M10.75 4.75a.75.75 0 0 0-1.5 0v4.5h-4.5a.75.75 0 0 0 0 1.5h4.5v4.5a.75.75 0 0 0 1.5 0v-4.5h4.5a.75.75 0 0 0 0-1.5h-4.5v-4.5Z"}))}const Zt=o.forwardRef(Vt),Kt=Zt;function Wt({title:e,titleId:t,...r},a){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?o.createElement("title",{id:t},e):null,o.createElement("path",{fillRule:"evenodd",d:"M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401Z",clipRule:"evenodd"}))}const Qt=o.forwardRef(Wt),Ht=Qt;function Fe({container:e,accept:t,walk:r,enabled:a=!0}){let c=o.useRef(t),i=o.useRef(r);o.useEffect(()=>{c.current=t,i.current=r},[t,r]),K(()=>{if(!e||!a)return;let l=Me(e);if(!l)return;let s=c.current,u=i.current,x=Object.assign(y=>s(y),{acceptNode:s}),v=l.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,x,!1);for(;v.nextNode();)u(v.currentNode)},[e,a,c,i])}let Ae=o.createContext(null);function _e(){let e=o.useContext(Ae);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,_e),t}return e}function Le(){let[e,t]=o.useState([]);return[e.length>0?e.join(" "):void 0,o.useMemo(()=>function(r){let a=b(i=>(t(l=>[...l,i]),()=>t(l=>{let s=l.slice(),u=s.indexOf(i);return u!==-1&&s.splice(u,1),s}))),c=o.useMemo(()=>({register:a,slot:r.slot,name:r.name,props:r.props}),[a,r.slot,r.name,r.props]);return O.createElement(Ae.Provider,{value:c},r.children)},[t])]}let qt="p";function Jt(e,t){let r=W(),{id:a=`headlessui-description-${r}`,...c}=e,i=_e(),l=G(t);K(()=>i.register(a),[a,i.register]);let s={ref:l,...i.props,id:a};return U({ourProps:s,theirProps:c,slot:i.slot||{},defaultTag:qt,name:i.name||"Description"})}let Yt=B(Jt),Xt=Object.assign(Yt,{});var er=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(er||{}),tr=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(tr||{}),rr=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem",e))(rr||{});function ce(e,t=r=>r){let r=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,a=Oe(t(e.items.slice()),i=>i.dataRef.current.domRef.current),c=r?a.indexOf(r):null;return c===-1&&(c=null),{items:a,activeItemIndex:c}}let ar={1(e){return e.menuState===1?e:{...e,activeItemIndex:null,menuState:1}},0(e){return e.menuState===0?e:{...e,__demoMode:!1,menuState:0}},2:(e,t)=>{var r;let a=ce(e),c=It(t,{resolveItems:()=>a.items,resolveActiveIndex:()=>a.activeItemIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled});return{...e,...a,searchQuery:"",activeItemIndex:c,activationTrigger:(r=t.trigger)!=null?r:1}},3:(e,t)=>{let r=e.searchQuery!==""?0:1,a=e.searchQuery+t.value.toLowerCase(),c=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+r).concat(e.items.slice(0,e.activeItemIndex+r)):e.items).find(l=>{var s;return((s=l.dataRef.current.textValue)==null?void 0:s.startsWith(a))&&!l.dataRef.current.disabled}),i=c?e.items.indexOf(c):-1;return i===-1||i===e.activeItemIndex?{...e,searchQuery:a}:{...e,searchQuery:a,activeItemIndex:i,activationTrigger:1}},4(e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},5:(e,t)=>{let r=ce(e,a=>[...a,{id:t.id,dataRef:t.dataRef}]);return{...e,...r}},6:(e,t)=>{let r=ce(e,a=>{let c=a.findIndex(i=>i.id===t.id);return c!==-1&&a.splice(c,1),a});return{...e,...r,activationTrigger:1}}},ge=o.createContext(null);ge.displayName="MenuContext";function se(e){let t=o.useContext(ge);if(t===null){let r=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,se),r}return t}function nr(e,t){return xe(t.type,ar,e,t)}let sr=o.Fragment;function or(e,t){let{__demoMode:r=!1,...a}=e,c=o.useReducer(nr,{__demoMode:r,menuState:r?0:1,buttonRef:o.createRef(),itemsRef:o.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:i,itemsRef:l,buttonRef:s},u]=c,x=G(t);dt([s,l],(R,p)=>{var d;u({type:1}),xt(p,vt.Loose)||(R.preventDefault(),(d=s.current)==null||d.focus())},i===0);let v=b(()=>{u({type:1})}),y=o.useMemo(()=>({open:i===0,close:v}),[i,v]),g={ref:x};return O.createElement(ge.Provider,{value:c},O.createElement(ut,{value:xe(i,{0:ae.Open,1:ae.Closed})},U({ourProps:g,theirProps:a,slot:y,defaultTag:sr,name:"Menu"})))}let ir="button";function lr(e,t){var r;let a=W(),{id:c=`headlessui-menu-button-${a}`,...i}=e,[l,s]=se("Menu.Button"),u=G(l.buttonRef,t),x=ve(),v=b(d=>{switch(d.key){case h.Space:case h.Enter:case h.ArrowDown:d.preventDefault(),d.stopPropagation(),s({type:0}),x.nextFrame(()=>s({type:2,focus:F.First}));break;case h.ArrowUp:d.preventDefault(),d.stopPropagation(),s({type:0}),x.nextFrame(()=>s({type:2,focus:F.Last}));break}}),y=b(d=>{switch(d.key){case h.Space:d.preventDefault();break}}),g=b(d=>{if(pe(d.currentTarget))return d.preventDefault();e.disabled||(l.menuState===0?(s({type:1}),x.nextFrame(()=>{var E;return(E=l.buttonRef.current)==null?void 0:E.focus({preventScroll:!0})})):(d.preventDefault(),s({type:0})))}),R=o.useMemo(()=>({open:l.menuState===0}),[l]),p={ref:u,id:c,type:mt(e,l.buttonRef),"aria-haspopup":"menu","aria-controls":(r=l.itemsRef.current)==null?void 0:r.id,"aria-expanded":l.menuState===0,onKeyDown:v,onKeyUp:y,onClick:g};return U({ourProps:p,theirProps:i,slot:R,defaultTag:ir,name:"Menu.Button"})}let cr="div",dr=ke.RenderStrategy|ke.Static;function ur(e,t){var r,a;let c=W(),{id:i=`headlessui-menu-items-${c}`,...l}=e,[s,u]=se("Menu.Items"),x=G(s.itemsRef,t),v=pt(s.itemsRef),y=ve(),g=ft(),R=(()=>g!==null?(g&ae.Open)===ae.Open:s.menuState===0)();o.useEffect(()=>{let m=s.itemsRef.current;m&&s.menuState===0&&m!==(v==null?void 0:v.activeElement)&&m.focus({preventScroll:!0})},[s.menuState,s.itemsRef,v]),Fe({container:s.itemsRef.current,enabled:s.menuState===0,accept(m){return m.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:m.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(m){m.setAttribute("role","none")}});let p=b(m=>{var D,T;switch(y.dispose(),m.key){case h.Space:if(s.searchQuery!=="")return m.preventDefault(),m.stopPropagation(),u({type:3,value:m.key});case h.Enter:if(m.preventDefault(),m.stopPropagation(),u({type:1}),s.activeItemIndex!==null){let{dataRef:w}=s.items[s.activeItemIndex];(T=(D=w.current)==null?void 0:D.domRef.current)==null||T.click()}De(s.buttonRef.current);break;case h.ArrowDown:return m.preventDefault(),m.stopPropagation(),u({type:2,focus:F.Next});case h.ArrowUp:return m.preventDefault(),m.stopPropagation(),u({type:2,focus:F.Previous});case h.Home:case h.PageUp:return m.preventDefault(),m.stopPropagation(),u({type:2,focus:F.First});case h.End:case h.PageDown:return m.preventDefault(),m.stopPropagation(),u({type:2,focus:F.Last});case h.Escape:m.preventDefault(),m.stopPropagation(),u({type:1}),fe().nextFrame(()=>{var w;return(w=s.buttonRef.current)==null?void 0:w.focus({preventScroll:!0})});break;case h.Tab:m.preventDefault(),m.stopPropagation(),u({type:1}),fe().nextFrame(()=>{gt(s.buttonRef.current,m.shiftKey?Q.Previous:Q.Next)});break;default:m.key.length===1&&(u({type:3,value:m.key}),y.setTimeout(()=>u({type:4}),350));break}}),d=b(m=>{switch(m.key){case h.Space:m.preventDefault();break}}),E=o.useMemo(()=>({open:s.menuState===0}),[s]),I={"aria-activedescendant":s.activeItemIndex===null||(r=s.items[s.activeItemIndex])==null?void 0:r.id,"aria-labelledby":(a=s.buttonRef.current)==null?void 0:a.id,id:i,onKeyDown:p,onKeyUp:d,role:"menu",tabIndex:0,ref:x};return U({ourProps:I,theirProps:l,slot:E,defaultTag:cr,features:dr,visible:R,name:"Menu.Items"})}let mr=o.Fragment;function pr(e,t){let r=W(),{id:a=`headlessui-menu-item-${r}`,disabled:c=!1,...i}=e,[l,s]=se("Menu.Item"),u=l.activeItemIndex!==null?l.items[l.activeItemIndex].id===a:!1,x=o.useRef(null),v=G(t,x);K(()=>{if(l.__demoMode||l.menuState!==0||!u||l.activationTrigger===0)return;let w=fe();return w.requestAnimationFrame(()=>{var N,z;(z=(N=x.current)==null?void 0:N.scrollIntoView)==null||z.call(N,{block:"nearest"})}),w.dispose},[l.__demoMode,x,u,l.menuState,l.activationTrigger,l.activeItemIndex]);let y=jt(x),g=o.useRef({disabled:c,domRef:x,get textValue(){return y()}});K(()=>{g.current.disabled=c},[g,c]),K(()=>(s({type:5,id:a,dataRef:g}),()=>s({type:6,id:a})),[g,a]);let R=b(()=>{s({type:1})}),p=b(w=>{if(c)return w.preventDefault();s({type:1}),De(l.buttonRef.current)}),d=b(()=>{if(c)return s({type:2,focus:F.Nothing});s({type:2,focus:F.Specific,id:a})}),E=kt(),I=b(w=>E.update(w)),m=b(w=>{E.wasMoved(w)&&(c||u||s({type:2,focus:F.Specific,id:a,trigger:0}))}),D=b(w=>{E.wasMoved(w)&&(c||u&&s({type:2,focus:F.Nothing}))}),T=o.useMemo(()=>({active:u,disabled:c,close:R}),[u,c,R]);return U({ourProps:{id:a,ref:v,role:"menuitem",tabIndex:c===!0?void 0:-1,"aria-disabled":c===!0?!0:void 0,disabled:void 0,onClick:p,onFocus:d,onPointerEnter:I,onMouseEnter:I,onPointerMove:m,onMouseMove:m,onPointerLeave:D,onMouseLeave:D},theirProps:i,slot:T,defaultTag:mr,name:"Menu.Item"})}let fr=B(or),xr=B(lr),vr=B(ur),gr=B(pr),X=Object.assign(fr,{Button:xr,Items:vr,Item:gr}),Be=o.createContext(null);function Ge(){let e=o.useContext(Be);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Ge),t}return e}function Ue(){let[e,t]=o.useState([]);return[e.length>0?e.join(" "):void 0,o.useMemo(()=>function(r){let a=b(i=>(t(l=>[...l,i]),()=>t(l=>{let s=l.slice(),u=s.indexOf(i);return u!==-1&&s.splice(u,1),s}))),c=o.useMemo(()=>({register:a,slot:r.slot,name:r.name,props:r.props}),[a,r.slot,r.name,r.props]);return O.createElement(Be.Provider,{value:c},r.children)},[t])]}let hr="label";function br(e,t){let r=W(),{id:a=`headlessui-label-${r}`,passive:c=!1,...i}=e,l=Ge(),s=G(t);K(()=>l.register(a),[a,l.register]);let u={ref:s,...l.props,id:a};return c&&("onClick"in u&&(delete u.htmlFor,delete u.onClick),"onClick"in i&&delete i.onClick),U({ourProps:u,theirProps:i,slot:l.slot||{},defaultTag:hr,name:l.name||"Label"})}let wr=B(br),yr=Object.assign(wr,{});var Rr=(e=>(e[e.RegisterOption=0]="RegisterOption",e[e.UnregisterOption=1]="UnregisterOption",e))(Rr||{});let Er={0(e,t){let r=[...e.options,{id:t.id,element:t.element,propsRef:t.propsRef}];return{...e,options:Oe(r,a=>a.element.current)}},1(e,t){let r=e.options.slice(),a=e.options.findIndex(c=>c.id===t.id);return a===-1?e:(r.splice(a,1),{...e,options:r})}},he=o.createContext(null);he.displayName="RadioGroupDataContext";function ze(e){let t=o.useContext(he);if(t===null){let r=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,ze),r}return t}let be=o.createContext(null);be.displayName="RadioGroupActionsContext";function Ve(e){let t=o.useContext(be);if(t===null){let r=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Ve),r}return t}function jr(e,t){return xe(t.type,Er,e,t)}let kr="div";function Ir(e,t){let r=W(),{id:a=`headlessui-radiogroup-${r}`,value:c,defaultValue:i,form:l,name:s,onChange:u,by:x=(f,M)=>f===M,disabled:v=!1,...y}=e,g=b(typeof x=="string"?(f,M)=>{let C=x;return(f==null?void 0:f[C])===(M==null?void 0:M[C])}:x),[R,p]=o.useReducer(jr,{options:[]}),d=R.options,[E,I]=Ue(),[m,D]=Le(),T=o.useRef(null),w=G(T,t),[N,z]=Nt(c,u,i),S=o.useMemo(()=>d.find(f=>!f.propsRef.current.disabled),[d]),V=o.useMemo(()=>d.some(f=>g(f.propsRef.current.value,N)),[d,N]),A=b(f=>{var M;if(v||g(f,N))return!1;let C=(M=d.find(Z=>g(Z.propsRef.current.value,f)))==null?void 0:M.propsRef.current;return C!=null&&C.disabled?!1:(z==null||z(f),!0)});Fe({container:T.current,accept(f){return f.getAttribute("role")==="radio"?NodeFilter.FILTER_REJECT:f.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(f){f.setAttribute("role","none")}});let oe=b(f=>{let M=T.current;if(!M)return;let C=Me(M),Z=d.filter(P=>P.propsRef.current.disabled===!1).map(P=>P.element.current);switch(f.key){case h.Enter:Pt(f.currentTarget);break;case h.ArrowLeft:case h.ArrowUp:if(f.preventDefault(),f.stopPropagation(),Ie(Z,Q.Previous|Q.WrapAround)===Ne.Success){let P=d.find(H=>H.element.current===(C==null?void 0:C.activeElement));P&&A(P.propsRef.current.value)}break;case h.ArrowRight:case h.ArrowDown:if(f.preventDefault(),f.stopPropagation(),Ie(Z,Q.Next|Q.WrapAround)===Ne.Success){let P=d.find(H=>H.element.current===(C==null?void 0:C.activeElement));P&&A(P.propsRef.current.value)}break;case h.Space:{f.preventDefault(),f.stopPropagation();let P=d.find(H=>H.element.current===(C==null?void 0:C.activeElement));P&&A(P.propsRef.current.value)}break}}),_=b(f=>(p({type:0,...f}),()=>p({type:1,id:f.id}))),J=o.useMemo(()=>({value:N,firstOption:S,containsCheckedOption:V,disabled:v,compare:g,...R}),[N,S,V,v,g,R]),qe=o.useMemo(()=>({registerOption:_,change:A}),[_,A]),Je={ref:w,id:a,role:"radiogroup","aria-labelledby":E,"aria-describedby":m,onKeyDown:oe},Ye=o.useMemo(()=>({value:N}),[N]),Y=o.useRef(null),Xe=ve();return o.useEffect(()=>{Y.current&&i!==void 0&&Xe.addEventListener(Y.current,"reset",()=>{A(i)})},[Y,A]),O.createElement(D,{name:"RadioGroup.Description"},O.createElement(I,{name:"RadioGroup.Label"},O.createElement(be.Provider,{value:qe},O.createElement(he.Provider,{value:J},s!=null&&N!=null&&Ct({[s]:N}).map(([f,M],C)=>O.createElement(ht,{features:bt.Hidden,ref:C===0?Z=>{var P;Y.current=(P=Z==null?void 0:Z.closest("form"))!=null?P:null}:void 0,...wt({key:f,as:"input",type:"radio",checked:M!=null,hidden:!0,readOnly:!0,form:l,disabled:v,name:f,value:M})})),U({ourProps:Je,theirProps:y,slot:Ye,defaultTag:kr,name:"RadioGroup"})))))}var Nr=(e=>(e[e.Empty=1]="Empty",e[e.Active=2]="Active",e))(Nr||{});let Pr="div";function Cr(e,t){var r;let a=W(),{id:c=`headlessui-radiogroup-option-${a}`,value:i,disabled:l=!1,...s}=e,u=o.useRef(null),x=G(u,t),[v,y]=Ue(),[g,R]=Le(),{addFlag:p,removeFlag:d,hasFlag:E}=yt(1),I=Rt({value:i,disabled:l}),m=ze("RadioGroup.Option"),D=Ve("RadioGroup.Option");K(()=>D.registerOption({id:c,element:u,propsRef:I}),[c,D,u,I]);let T=b(_=>{var J;if(pe(_.currentTarget))return _.preventDefault();D.change(i)&&(p(2),(J=u.current)==null||J.focus())}),w=b(_=>{if(pe(_.currentTarget))return _.preventDefault();p(2)}),N=b(()=>d(2)),z=((r=m.firstOption)==null?void 0:r.id)===c,S=m.disabled||l,V=m.compare(m.value,i),A={ref:x,id:c,role:"radio","aria-checked":V?"true":"false","aria-labelledby":v,"aria-describedby":g,"aria-disabled":S?!0:void 0,tabIndex:(()=>S?-1:V||!m.containsCheckedOption&&z?0:-1)(),onClick:S?void 0:T,onFocus:S?void 0:w,onBlur:S?void 0:N},oe=o.useMemo(()=>({checked:V,disabled:S,active:E(2)}),[V,S,E]);return O.createElement(R,{name:"RadioGroup.Description"},O.createElement(y,{name:"RadioGroup.Label"},U({ourProps:A,theirProps:s,slot:oe,defaultTag:Pr,name:"RadioGroup.Option"})))}let $r=B(Ir),Mr=B(Cr),ee=Object.assign($r,{Option:Mr,Label:yr,Description:Xt});const $={ResetPlanOptions:"reset-plan-options",ResetPlanDates:"reset-plan-dates",ResetCategories:"reset-categories",PlanOptions:"plan-options",Dates:"dates",DateStart:"date-start",DateEnd:"date-end",Category:"category",External:"external",ResetTestsReport:"reset-tests-report",TestsReportErrors:"tests-report-errors",TestsReportMessages:"tests-report-messages"},j={Add:"add",Remove:"remove",Direct:"direct",Indirect:"indirect",Metadata:"metadata",Default:"default"},de={Breaking:"breaking",NonBreaking:"non-breaking",ForwardOnly:"forward-only",IndirectBreaking:"indirect-breaking",IndirectNonBreaking:"indirect-non-breaking"},[Dr,Or]=Ar(),Ze={skip_tests:!1,no_gaps:!1,skip_backfill:!1,forward_only:!1,auto_apply:!1,no_auto_categorization:!1,include_unmodified:!0,restate_models:void 0,create_from:"prod"},Ke={start:void 0,end:void 0},we={...Ke,...Ze,categories:Or,defaultCategory:Dr,change_categorization:new Map,virtualUpdateDescription:"All changes and their downstream dependencies can be fully previewed before they get promoted. If during plan creation no data gaps have been detected and only references to new model versions need to be updated, then such an update is referred to as a Virtual Update. Virtual Updates impose no additional runtime overhead or cost.",isInitialPlanRun:!1,errors:[],testsReportErrors:void 0,testsReportMessages:void 0},We=o.createContext(we),Qe=o.createContext(()=>{});function Jr({children:e}){const[t,r]=o.useReducer(Sr,Object.assign(we));return n.jsx(We.Provider,{value:Object.assign(t),children:n.jsx(Qe.Provider,{value:r,children:e})})}function ye(){return o.useContext(We)}function Tr(){return o.useContext(Qe)}function Sr(e,t){return t=Array.isArray(t)?t:[t],t.reduce(Fr,e)}function Fr(e=we,{type:t,...r}){switch(t){case $.ResetCategories:return Object.assign({},e,{change_categorization:new Map});case $.ResetPlanDates:return Object.assign({},e,Ke);case $.ResetPlanOptions:return Object.assign({},e,Ze);case $.ResetTestsReport:return Object.assign({},e,{testsReportErrors:void 0,testsReportMessages:void 0});case $.PlanOptions:return Object.assign({},e,r);case $.Dates:return Object.assign({},e,{start:r.start,end:r.end});case $.External:return Object.assign({},e,{isInitialPlanRun:r.isInitialPlanRun??!1});case $.DateStart:return Object.assign({},e,{start:r.start});case $.DateEnd:return Object.assign({},e,{end:r.end});case $.TestsReportErrors:return Object.assign({},e,{testsReportErrors:r.testsReportErrors});case $.TestsReportMessages:return Object.assign({},e,{testsReportMessages:r.testsReportMessages});case $.Category:{const{change:a,category:c}=r;return ne(a==null?void 0:a.name)&&e.change_categorization.set(a.name,{category:c,change:a}),Object.assign({},e,{change_categorization:new Map(e.change_categorization)})}default:return Object.assign({},e)}}function Ar(){const e={id:de.Breaking,name:"Breaking Change",description:"It will rebuild all models",value:ie.NUMBER_1},t=[e,{id:de.NonBreaking,name:"Non-Breaking Change",description:"It will exclude all indirect models caused by this change",value:ie.NUMBER_2},{id:de.ForwardOnly,name:"Forward-Only Change",description:"The change requires no rebuilding",value:ie.NUMBER_3}];return[e,t]}function q({children:e,headline:t,type:r,className:a}){return n.jsxs("div",{className:k("flex flex-col rounded-md p-4 text-xs",r===j.Add&&"bg-success-5",r===j.Remove&&"bg-danger-5",r===j.Direct&&"bg-secondary-5",r===j.Indirect&&"bg-warning-5",r===j.Default&&"bg-neutral-5",a),children:[ne(t)&&n.jsx("h4",{className:k("mb-2 font-bold whitespace-nowrap",r===j.Add&&"text-success-600 dark:text-success-300",r===j.Remove&&"text-danger-600 dark:text-danger-300",r===j.Direct&&"text-secondary-600 dark:text-secondary-300",r===j.Indirect&&"text-warning-600 dark:text-warning-300",r===j.Default&&"text-neutral-600 dark:text-neutral-300"),children:t}),e]})}function _r({changes:e=[],type:t}){return n.jsx("ul",{children:e.map(r=>n.jsxs("li",{className:k("flex items-center",t===j.Add&&"text-success-600 dark:text-success-300",t===j.Remove&&"text-danger-600 dark:text-danger-300",t===j.Direct&&"text-secondary-600 dark:text-secondary-300",t===j.Indirect&&"text-warning-600 dark:text-warning-300",t===j.Default&&"text-neutral-600 dark:text-neutral-300"),children:[t===j.Add?n.jsx(Kt,{className:"h-3 mr-2"}):t===j.Remove?n.jsx(Bt,{className:"h-3 mr-2"}):n.jsx(Te,{className:"h-4 mr-2"}),n.jsx("span",{title:r.displayViewName,className:"w-full whitespace-nowrap text-ellipsis overflow-hidden",children:et(r.displayViewName,50,25)})]},r.name))})}function Lr({changes:e=[],disabled:t=!1}){const r=Tr(),{categories:a}=ye(),c=L(i=>i.models);return o.useEffect(()=>{r(e.map(i=>({type:$.Category,category:a.find(({value:l})=>l===i.change_category),change:i})))},[e]),n.jsx("ul",{children:e.map(i=>n.jsx("li",{className:"text-secondary-500 dark:text-primary-500 mt-1",children:n.jsx(le,{children:({open:l})=>n.jsxs(n.Fragment,{children:[n.jsxs(le.Button,{className:"flex items-center w-full justify-between rounded-lg text-left",children:[n.jsx(Re,{className:"w-full",change:i}),(()=>{const s=l?Se:zt;return n.jsx(s,{className:"max-h-[1rem] min-w-[1rem] dark:text-primary-500"})})()]}),n.jsxs(le.Panel,{className:"px-4 mb-4 overflow-hidden",children:[Ee(i.direct)&&n.jsx(Ce,{type:"direct",models:i.direct,className:"mt-2 ml-4"}),Ee(i.indirect)&&n.jsx(Ce,{type:"indirect",models:i.indirect,className:"ml-4"}),n.jsx(ue,{className:"border-secondary-20 mt-2"}),n.jsx(Br,{change:i,disabled:t,onChange:s=>{r({type:$.Category,category:a.find(({value:u})=>u===s),change:i})}}),n.jsx(ue,{className:"border-secondary-20 mt-2"}),n.jsxs("div",{className:"flex flex-col w-full h-full overflow-hidden overflow-y-auto hover:scrollbar scrollbar--vertical scrollbar--horizontal",children:[ne(i)&&tt(i.diff)&&n.jsx(He,{diff:i.diff}),(()=>{var u,x;const s=c.get(i.name);return $e(s)?n.jsx(n.Fragment,{}):n.jsx("div",{className:"h-[16rem] bg-theme-lighter rounded-2xl overflow-hidden my-4",children:n.jsx(lt,{showColumns:!1,showConnected:!1,showControls:!1,children:n.jsx(ct,{model:s,highlightedNodes:{"border-4 border-warning-500 bg-warning-500 text-warning-500":((u=i.indirect)==null?void 0:u.map(v=>v.name))??[],"border-4 border-secondary-500 dark:border-primary-500 bg-secondary-500 dark:bg-primary-500 text-bg-secondary-500 dark:bg-primary-500 ring-8 ring-brand-50":[i.name],"border-4 border-secondary-500 dark:border-primary-500 bg-secondary-500 dark:bg-primary-500 text-bg-secondary-500 dark:bg-primary-500":((x=i.direct)==null?void 0:x.map(v=>v.name))??[],"*":["border-4 border-neutral-500 bg-neutral-500 text-neutral-600 dark:text-light"]}})})})})()]})]})]})})},i.name))})}function Br({change:e,disabled:t=!1,onChange:r}){var i,l;const{change_categorization:a,categories:c}=ye();return n.jsx(ee,{className:k("flex flex-col mt-2",t&&"pointer-events-none opacity-50 cursor-not-allowed"),disabled:t,defaultValue:((l=(i=a.get(e.name))==null?void 0:i.category)==null?void 0:l.value)??e.change_category,onChange:r,children:c.map(s=>n.jsx(ee.Option,{value:s.value,className:()=>k("relative flex rounded-md"),children:({checked:u})=>n.jsxs("div",{className:k("text-sm flex items-center px-2 py-1 w-full rounded-lg",u?"text-secondary-500 dark:text-primary-300":"text-prose"),children:[n.jsx("div",{className:"mt-[0.125rem] mr-2 border-2 border-neutral-400 min-w-[1rem] h-4 rounded-full flex justify-center items-center",children:u&&n.jsx("span",{className:"inline-block w-2 h-2 bg-secondary-500 dark:bg-primary-300 rounded-full"})}),n.jsxs("div",{children:[n.jsx(ee.Label,{as:"p",children:s.name}),n.jsx(ee.Description,{as:"span",className:"text-xs text-neutral-500",children:s.description})]})]})},s.name))})}function Gr({changes:e=[]}){return n.jsx("ul",{children:e.map(t=>n.jsx("li",{className:"text-warning-700 dark:text-warning-500",children:n.jsx(Re,{change:t})},t.name))})}function Re({change:e,className:t}){var c;const{change_categorization:r}=ye(),a=(c=r.get(e.name))==null?void 0:c.category;return n.jsxs("div",{className:k("flex items-center font-bold",t),children:[n.jsxs("span",{className:"flex w-full whitespace-nowrap text-ellipsis overflow-hidden",children:[n.jsx(Te,{className:"h-4 mr-2"}),e.displayViewName]}),$e(a)?ne(e.indirect)&&n.jsx("span",{className:"ml-2 px-1 bg-warning-500 text-warning-100 dark:bg-warning-400 dark:text-warning-800 rounded whitespace-nowrap mr-2",children:"Categorize Manually"}):n.jsx("span",{className:"ml-2 px-1 bg-neutral-400 text-neutral-100 dark:bg-neutral-400 dark:text-neutral-800 rounded whitespace-nowrap mr-2",children:a.name})]})}function Ce({type:e,models:t,className:r}){return n.jsx("ul",{className:k(e==="indirect"&&"text-warning-700 dark:text-warning-500",e==="direct"&&"text-secondary-500 dark:text-primary-500",r),children:t.map(a=>n.jsxs("li",{className:"flex",children:[n.jsx("span",{className:"h-3 w-3 border-l-2 border-b-2 inline-block mr-2"}),a.displayViewName]},a.name))})}function He({diff:e}){return n.jsx("div",{className:"my-4 bg-dark-lighter rounded-2xl overflow-hidden",children:n.jsx("pre",{className:"p-4 text-primary-100 max-h-[30vh] text-xs overflow-auto hover:scrollbar scrollbar--vertical scrollbar--horizontal",children:e.split(`
`).map((t,r)=>n.jsx("p",{className:k(t.startsWith("+")&&"text-success-500 bg-success-500/10 px-2",t.startsWith("-")&&"text-danger-500 bg-danger-500/10 px-2",t.startsWith("@@")&&"text-primary-300 my-5 px-2"),children:t},`${t}-${r}`))})})}q.Default=_r;q.Direct=Lr;q.Indirect=Gr;q.Diff=He;q.Title=Re;function Ur({onAdd:e,className:t,label:r="Add",size:a=re.sm}){const c=L(p=>p.getNextEnvironment),i=L(p=>p.isExistingEnvironment),l=L(p=>p.addLocalEnvironment),[s,u]=o.useState(""),[x,v]=o.useState(c().name);function y(p){p.stopPropagation(),l(s,x),u(""),v(c().name),e==null||e()}function g(p){p.stopPropagation(),u(p.target.value)}const R=rt(s)||i(s);return n.jsxs("div",{className:k("flex w-full items-center bg-secondary-5",t),children:[n.jsx(Pe,{className:"my-0 mx-0 mr-4 min-w-[10rem] w-full",size:a,children:({className:p})=>n.jsx(Pe.Textfield,{className:k(p,"w-full"),placeholder:"Environment",value:s,onInput:g})}),n.jsx(me,{className:"my-0 mx-0 font-bold",variant:te.Secondary,size:a,disabled:R,onClick:y,children:r})]})}function Yr({disabled:e=!1,className:t,showAddEnvironment:r=!0,size:a=re.sm,onSelect:c}){const{addError:i}=at(),l=L(p=>p.environment),s=L(p=>p.environments),u=L(p=>p.setEnvironment),x=L(p=>p.removeLocalEnvironment),v=nt(X.Button);function y(p,d){p.stopPropagation(),u(d),c==null||c()}function g(p,d){p.stopPropagation(),x(d)}function R(p,d){p.stopPropagation(),ot(d.name).then(()=>{x(d)}).catch(E=>{i(it.Environments,E)})}return n.jsx(X,{as:"div",className:k("flex relative",t),children:({close:p})=>n.jsxs(n.Fragment,{children:[n.jsxs(v,{variant:te.Info,size:a,disabled:e,className:"flex justify-between w-full mx-0 pr-1",children:[n.jsxs("span",{className:k("block overflow-hidden truncate",(l.isLocal||e)&&"text-neutral-500",l.isRemote?"text-primary-600 dark:text-primary-300":"text-neutral-600 dark:text-neutral-200"),children:[n.jsx("span",{className:"text-xs text-neutral-300 dark:text-neutral-500 mr-1",children:"Environment:"}),n.jsx("span",{children:l.name})]}),n.jsx("span",{className:"pointer-events-none inset-y-0 right-0 flex items-center pl-1",children:n.jsx($t,{className:k("w-4",e?"text-neutral-400 dark:text-neutral-200":"text-neutral-800 dark:text-neutral-200"),"aria-hidden":"true"})})]}),n.jsx(Et,{as:o.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:n.jsx("div",{className:"!mx-0 absolute top-10 right-0 min-w-[16rem] max-w-[100%] overflow-hidden shadow-2xl bg-theme border-0 border-neutral-100 dark:border-neutral-800 rounded-md flex flex-col z-50",children:n.jsxs(X.Items,{className:"mx-0 overflow-auto max-h-80 hover:scrollbar scrollbar--vertical",children:[Array.from(s).map(d=>n.jsx(X.Item,{disabled:d===l,children:({active:E})=>n.jsxs("div",{onClick:I=>y(I,d),className:k("flex justify-between items-center pl-2 pr-1 py-1 overflow-auto",E?"text-neutral-600 bg-neutral-10":"text-neutral-400",d===l?"cursor-default bg-neutral-5":"cursor-pointer"),children:[n.jsxs("div",{className:"flex items-start",children:[n.jsx(St,{className:k("w-4 h-4 mt-[6px]",d===l?"opacity-100 text-primary-500":"opacity-0")}),n.jsxs("span",{className:"block",children:[n.jsxs("span",{className:"flex items-baseline",children:[n.jsx("span",{className:k("block truncate ml-2",d.isRemote&&"text-primary-500"),children:d.name}),n.jsxs("small",{className:"block ml-2",children:["(",d.type,")"]})]}),d.isProd&&n.jsx("span",{className:"flex ml-2",children:n.jsx("small",{className:"text-xs text-neutral-500",children:"Production Environment"})}),d.isDefault&&n.jsx("span",{className:"flex ml-2",children:n.jsx("small",{className:"text-xs text-neutral-500",children:"Default Environment"})})]})]}),n.jsxs("div",{className:"flex items-center",children:[d.isPinned&&n.jsx(Ht,{title:"Pinned",className:"w-4 text-primary-500 dark:text-primary-100 mx-1"}),je(d.isPinned)&&d.isLocal&&d!==l&&n.jsx(me,{className:"!m-0 !px-1 bg-transparent hover:bg-transparent border-none",size:re.xs,format:st.Ghost,variant:te.Neutral,onClick:I=>g(I,d),children:n.jsx(Se,{className:"w-4 text-neutral-500 dark:text-neutral-100"})}),je(d.isPinned)&&d.isRemote&&d!==l&&n.jsx(me,{className:"!px-2 !my-0",size:re.xs,variant:te.Danger,onClick:I=>R(I,d),children:"Delete"})]})]})},d.name)),r&&n.jsxs(n.Fragment,{children:[n.jsx(ue,{}),n.jsx(Ur,{onAdd:p,className:"p-2 pb-2"})]})]})})})]})})}export{Ur as A,yr as B,j as E,Ue as F,Xt as G,q as P,Yr as S,Tr as a,$ as b,Jr as c,ye as u,Le as w};
