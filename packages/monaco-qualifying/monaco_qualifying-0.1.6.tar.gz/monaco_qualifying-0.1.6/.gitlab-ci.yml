image: python:3.10
stages:
  - build
  - test
  - deploy

build-job:
  stage: build
  script:
    - pip install --upgrade pip
    - pip check

test-job:
  stage: test
  before_script:
    - echo "Sample text for testing."
  script:
    - pip install --upgrade pip
    - pip install pytest
    - echo "Running tests with pytest..."
    - pytest tests/ --maxfail=1 --disable-warnings --verbose
  timeout: 10m

deploy-prod:
  stage: deploy
  script:
    - echo "This job deploys something from the $CI_COMMIT_BRANCH branch."
  environment: production
