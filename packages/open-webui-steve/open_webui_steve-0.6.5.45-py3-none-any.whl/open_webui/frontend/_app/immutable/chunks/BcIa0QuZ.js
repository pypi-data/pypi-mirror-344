import{s as jt,j as Fe,p as Ot,F as On,q as fl,r as Bn,v as qn,w as Fn,x as Un,e as m,c as g,a as b,d as u,f,i as M,k as T,S as Qe,o as C,g as c,B as ce,u as Q,l as Yt,P as Tt,t as q,b as F,h as U,n as Gt,C as Hn,H as ul,y as rt,z as Ln,A as gt,O as zn,N as zs,G as Vt,Q as Kn,V as Ql}from"./25wJL1Su.js";import{S as Bt,i as qt,b as x,d as ee,m as te,t as A,a as B,e as le,g as De,c as Ve,f as vt}from"./CPwzRg77.js";import{e as be}from"./DhTevsA5.js";import{n as xl,m as Rn,u as $n,t as Ks,f as Rs}from"./Cd_5PT-V.js";import{A as Zn}from"./CMd9meZr.js";import{T as Jn}from"./C6is5KQe.js";import{F as Wn}from"./CU2r43ac.js";import"./DNNm3mSk.js";import{D as Yn,M as Gn}from"./CnW1HI6R.js";import{b as Xn}from"./w3uxpEZk.js";import{f as Qn}from"./g5t9vw8M.js";import{F as xn}from"./D4Peta5v.js";import{C as Al}from"./BwPI4MQt.js";import{T as es}from"./CQPtd9kS.js";import{m as $s,t as Zs}from"./8ef81IiG.js";import{T as Tn}from"./iJXdTYox.js";import{g as er}from"./5WZRXWl_.js";import{g as tr}from"./B6tpVwKp.js";import{g as lr}from"./DXxIjooD.js";import{A as sr}from"./BDlbENDR.js";import"./BhcWnQZe.js";function Js(n,e,t){const s=n.slice();return s[14]=e[t],s}function nr(n){let e;const t=n[8].default,s=Bn(t,n,n[12],null);return{c(){s&&s.c()},l(l){s&&s.l(l)},m(l,a){s&&s.m(l,a),e=!0},p(l,a){s&&s.p&&(!e||a&4096)&&qn(s,t,l,l[12],e?Un(t,l[12],a,null):Fn(l[12]),null)},i(l){e||(A(s,l),e=!0)},o(l){B(s,l),e=!1},d(l){s&&s.d(l)}}}function rr(n){let e,t,s=be(n[2]),l=[];for(let r=0;r<s.length;r+=1)l[r]=Ws(Js(n,s,r));const a=r=>B(l[r],1,1,()=>{l[r]=null});return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=Yt()},l(r){for(let o=0;o<l.length;o+=1)l[o].l(r);e=Yt()},m(r,o){for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(r,o);M(r,e,o),t=!0},p(r,o){if(o&36){s=be(r[2]);let i;for(i=0;i<s.length;i+=1){const d=Js(r,s,i);l[i]?(l[i].p(d,o),A(l[i],1)):(l[i]=Ws(d),l[i].c(),A(l[i],1),l[i].m(e.parentNode,e))}for(De(),i=s.length;i<l.length;i+=1)a(i);Ve()}},i(r){if(!t){for(let o=0;o<s.length;o+=1)A(l[o]);t=!0}},o(r){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)B(l[o]);t=!1},d(r){r&&u(e),Tt(l,r)}}}function ar(n){let e,t=n[3].t("No knowledge found")+"",s;return{c(){e=m("div"),s=q(t),this.h()},l(l){e=g(l,"DIV",{class:!0});var a=b(e);s=F(a,t),a.forEach(u),this.h()},h(){f(e,"class","text-center text-sm text-gray-500 dark:text-gray-400")},m(l,a){M(l,e,a),c(e,s)},p(l,a){a&8&&t!==(t=l[3].t("No knowledge found")+"")&&U(s,t)},i:Gt,o:Gt,d(l){l&&u(e)}}}function ir(n){let e,t="Collection";return{c(){e=m("div"),e.textContent=t,this.h()},l(s){e=g(s,"DIV",{class:!0,"data-svelte-h":!0}),Qe(e)!=="svelte-1050po0"&&(e.textContent=t),this.h()},h(){f(e,"class","bg-green-500/20 text-green-700 dark:text-green-200 rounded-sm uppercase text-xs font-bold px-1")},m(s,l){M(s,e,l)},d(s){s&&u(e)}}}function or(n){let e,t="Document";return{c(){e=m("div"),e.textContent=t,this.h()},l(s){e=g(s,"DIV",{class:!0,"data-svelte-h":!0}),Qe(e)!=="svelte-6w1iob"&&(e.textContent=t),this.h()},h(){f(e,"class","bg-gray-500/20 text-gray-700 dark:text-gray-200 rounded-sm uppercase text-xs font-bold px-1")},m(s,l){M(s,e,l)},d(s){s&&u(e)}}}function cr(n){let e,t="Legacy";return{c(){e=m("div"),e.textContent=t,this.h()},l(s){e=g(s,"DIV",{class:!0,"data-svelte-h":!0}),Qe(e)!=="svelte-10msj8x"&&(e.textContent=t),this.h()},h(){f(e,"class","bg-gray-500/20 text-gray-700 dark:text-gray-200 rounded-sm uppercase text-xs font-bold px-1")},m(s,l){M(s,e,l)},d(s){s&&u(e)}}}function fr(n){let e,t,s,l,a,r=n[14].name+"",o,i;function d(h,p){var k,E;return h[14].legacy?cr:(E=(k=h[14])==null?void 0:k.meta)!=null&&E.document?or:ir}let _=d(n),v=_(n);return{c(){e=m("div"),t=m("div"),s=m("div"),v.c(),l=T(),a=m("div"),o=q(r),i=T(),this.h()},l(h){e=g(h,"DIV",{class:!0});var p=b(e);t=g(p,"DIV",{class:!0});var k=b(t);s=g(k,"DIV",{class:!0});var E=b(s);v.l(E),E.forEach(u),l=C(k),a=g(k,"DIV",{class:!0});var I=b(a);o=F(I,r),I.forEach(u),k.forEach(u),p.forEach(u),i=C(h),this.h()},h(){f(s,"class","w-fit mb-0.5"),f(a,"class","line-clamp-1 font-medium pr-0.5"),f(t,"class","flex flex-col"),f(e,"class","flex items-center")},m(h,p){M(h,e,p),c(e,t),c(t,s),v.m(s,null),c(t,l),c(t,a),c(a,o),M(h,i,p)},p(h,p){_!==(_=d(h))&&(v.d(1),v=_(h),v&&(v.c(),v.m(s,null))),p&4&&r!==(r=h[14].name+"")&&U(o,r)},d(h){h&&(u(e),u(i)),v.d()}}}function Ws(n){let e,t;function s(){return n[10](n[14])}return e=new Gn({props:{class:"flex gap-2.5 items-center px-3 py-2 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[fr]},$$scope:{ctx:n}}}),e.$on("click",s),{c(){x(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,a){te(e,l,a),t=!0},p(l,a){n=l;const r={};a&4100&&(r.$$scope={dirty:a,ctx:n}),e.$set(r)},i(l){t||(A(e.$$.fragment,l),t=!0)},o(l){B(e.$$.fragment,l),t=!1},d(l){le(e,l)}}}function ur(n){let e,t,s,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',a,r,o,i,d,_,v,h,p,k,E,I;const V=[ar,rr],j=[];function S(N,P){return N[2].length===0?0:1}return h=S(n),p=j[h]=V[h](n),{c(){e=m("div"),t=m("div"),s=m("div"),s.innerHTML=l,a=T(),r=m("input"),i=T(),d=m("hr"),_=T(),v=m("div"),p.c(),this.h()},l(N){e=g(N,"DIV",{class:!0});var P=b(e);t=g(P,"DIV",{class:!0});var K=b(t);s=g(K,"DIV",{class:!0,"data-svelte-h":!0}),Qe(s)!=="svelte-kinl2y"&&(s.innerHTML=l),a=C(K),r=g(K,"INPUT",{class:!0,placeholder:!0}),K.forEach(u),P.forEach(u),i=C(N),d=g(N,"HR",{class:!0}),_=C(N),v=g(N,"DIV",{class:!0});var R=b(v);p.l(R),R.forEach(u),this.h()},h(){f(s,"class","self-center ml-1 mr-3"),f(r,"class","w-full text-sm pr-4 py-1 rounded-r-xl outline-hidden bg-transparent"),f(r,"placeholder",o=n[3].t("Search Knowledge")),f(t,"class","flex flex-1"),f(e,"class","flex w-full space-x-2 py-0.5 px-2"),f(d,"class","border-gray-50 dark:border-gray-700 my-1.5"),f(v,"class","max-h-48 overflow-y-scroll")},m(N,P){M(N,e,P),c(e,t),c(t,s),c(t,a),c(t,r),ce(r,n[1]),M(N,i,P),M(N,d,P),M(N,_,P),M(N,v,P),j[h].m(v,null),k=!0,E||(I=Q(r,"input",n[9]),E=!0)},p(N,P){(!k||P&8&&o!==(o=N[3].t("Search Knowledge")))&&f(r,"placeholder",o),P&2&&r.value!==N[1]&&ce(r,N[1]);let K=h;h=S(N),h===K?j[h].p(N,P):(De(),B(j[K],1,1,()=>{j[K]=null}),Ve(),p=j[h],p?p.p(N,P):(p=j[h]=V[h](N),p.c()),A(p,1),p.m(v,null))},i(N){k||(A(p),k=!0)},o(N){B(p),k=!1},d(N){N&&(u(e),u(i),u(d),u(_),u(v)),j[h].d(),E=!1,I()}}}function dr(n){let e,t,s;return t=new Xn({props:{class:"w-full max-w-80 rounded-lg px-1 py-1.5 border border-gray-300/30 dark:border-gray-700/50 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg",sideOffset:8,side:"bottom",align:"start",transition:Qn,$$slots:{default:[ur]},$$scope:{ctx:n}}}),{c(){e=m("div"),x(t.$$.fragment),this.h()},l(l){e=g(l,"DIV",{slot:!0});var a=b(e);ee(t.$$.fragment,a),a.forEach(u),this.h()},h(){f(e,"slot","content")},m(l,a){M(l,e,a),te(t,e,null),s=!0},p(l,a){const r={};a&4110&&(r.$$scope={dirty:a,ctx:l}),t.$set(r)},i(l){s||(A(t.$$.fragment,l),s=!0)},o(l){B(t.$$.fragment,l),s=!1},d(l){l&&u(e),le(t)}}}function hr(n){let e,t;return e=new Yn({props:{$$slots:{content:[dr],default:[nr]},$$scope:{ctx:n}}}),e.$on("change",n[11]),{c(){x(e.$$.fragment)},l(s){ee(e.$$.fragment,s)},m(s,l){te(e,s,l),t=!0},p(s,[l]){const a={};l&4110&&(a.$$scope={dirty:l,ctx:s}),e.$set(a)},i(s){t||(A(e.$$.fragment,s),t=!0)},o(s){B(e.$$.fragment,s),t=!1},d(s){le(e,s)}}}function _r(n,e,t){let s,l;Fe(n,xl,V=>t(13,s=V));let{$$slots:a={},$$scope:r}=e;const o=Ot("i18n");Fe(n,o,V=>t(3,l=V));const i=On();let{onClose:d=()=>{}}=e,_="",v=[],h=[],p=null;fl(()=>{let V=s.filter(S=>{var N;return(N=S==null?void 0:S.meta)==null?void 0:N.document}),j=V.length>0?[{name:"All Documents",legacy:!0,type:"collection",description:"Deprecated (legacy collection), please create a new knowledge base.",title:l.t("All Documents"),collection_names:V.map(S=>S.id)},...V.reduce((S,N)=>{var P;return[...new Set([...S,...(((P=N==null?void 0:N.meta)==null?void 0:P.tags)??[]).map(K=>K.name)])]},[]).map(S=>({name:S,legacy:!0,type:"collection",description:"Deprecated (legacy collection), please create a new knowledge base.",collection_names:V.filter(N=>{var P;return(((P=N==null?void 0:N.meta)==null?void 0:P.tags)??[]).map(K=>K.name).includes(S)}).map(N=>N.id)}))]:[];t(6,v=[...s,...j].map(S=>{var N,P,K;return{...S,...S!=null&&S.legacy||(N=S==null?void 0:S.meta)!=null&&N.legacy||(P=S==null?void 0:S.meta)!=null&&P.document?{legacy:!0}:{},type:(K=S==null?void 0:S.meta)!=null&&K.document?"document":"collection"}})),t(7,p=new Wn(v,{keys:["name","description"]}))});function k(){_=this.value,t(1,_)}const E=V=>{i("select",V)},I=V=>{V.detail===!1&&(d(),t(1,_=""))};return n.$$set=V=>{"onClose"in V&&t(0,d=V.onClose),"$$scope"in V&&t(12,r=V.$$scope)},n.$$.update=()=>{n.$$.dirty&194&&p&&t(2,h=_?p.search(_).map(V=>V.item):v)},[d,_,h,l,o,i,v,p,a,k,E,I,r]}class pr extends Bt{constructor(e){super(),qt(this,e,_r,hr,jt,{onClose:0})}}function Ys(n,e,t){const s=n.slice();return s[6]=e[t],s[8]=t,s}function Gs(n){let e,t,s=be(n[0]),l=[];for(let r=0;r<s.length;r+=1)l[r]=Xs(Ys(n,s,r));const a=r=>B(l[r],1,1,()=>{l[r]=null});return{c(){e=m("div");for(let r=0;r<l.length;r+=1)l[r].c();this.h()},l(r){e=g(r,"DIV",{class:!0});var o=b(e);for(let i=0;i<l.length;i+=1)l[i].l(o);o.forEach(u),this.h()},h(){f(e,"class","flex flex-wrap items-center gap-2 mt-2")},m(r,o){M(r,e,o);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null);t=!0},p(r,o){if(o&1){s=be(r[0]);let i;for(i=0;i<s.length;i+=1){const d=Ys(r,s,i);l[i]?(l[i].p(d,o),A(l[i],1)):(l[i]=Xs(d),l[i].c(),A(l[i],1),l[i].m(e,null))}for(De(),i=s.length;i<l.length;i+=1)a(i);Ve()}},i(r){if(!t){for(let o=0;o<s.length;o+=1)A(l[o]);t=!0}},o(r){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)B(l[o]);t=!1},d(r){r&&u(e),Tt(l,r)}}}function Xs(n){var l,a;let e,t;function s(...r){return n[4](n[8],...r)}return e=new xn({props:{file:n[6],name:n[6].name,type:(l=n[6])!=null&&l.legacy?`Legacy${n[6].type?` ${n[6].type}`:""}`:((a=n[6])==null?void 0:a.type)??"Collection",dismissible:!0}}),e.$on("dismiss",s),{c(){x(e.$$.fragment)},l(r){ee(e.$$.fragment,r)},m(r,o){te(e,r,o),t=!0},p(r,o){var d,_;n=r;const i={};o&1&&(i.file=n[6]),o&1&&(i.name=n[6].name),o&1&&(i.type=(d=n[6])!=null&&d.legacy?`Legacy${n[6].type?` ${n[6].type}`:""}`:((_=n[6])==null?void 0:_.type)??"Collection"),e.$set(i)},i(r){t||(A(e.$$.fragment,r),t=!0)},o(r){B(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function mr(n){let e,t=n[1].t("Select Knowledge")+"",s;return{c(){e=m("button"),s=q(t),this.h()},l(l){e=g(l,"BUTTON",{class:!0,type:!0});var a=b(e);s=F(a,t),a.forEach(u),this.h()},h(){f(e,"class","px-3.5 py-1.5 font-medium hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-gray-100 dark:outline-gray-850 rounded-3xl"),f(e,"type","button")},m(l,a){M(l,e,a),c(e,s)},p(l,a){a&2&&t!==(t=l[1].t("Select Knowledge")+"")&&U(s,t)},d(l){l&&u(e)}}}function gr(n){var V;let e,t,s,l=n[1].t("Knowledge")+"",a,r,o,i=n[1].t('To attach knowledge base here, add them to the "Knowledge" workspace first.')+"",d,_,v,h,p,k,E,I=((V=n[0])==null?void 0:V.length)>0&&Gs(n);return k=new pr({props:{$$slots:{default:[mr]},$$scope:{ctx:n}}}),k.$on("select",n[5]),{c(){e=m("div"),t=m("div"),s=m("div"),a=q(l),r=T(),o=m("div"),d=q(i),_=T(),v=m("div"),I&&I.c(),h=T(),p=m("div"),x(k.$$.fragment),this.h()},l(j){e=g(j,"DIV",{});var S=b(e);t=g(S,"DIV",{class:!0});var N=b(t);s=g(N,"DIV",{class:!0});var P=b(s);a=F(P,l),P.forEach(u),N.forEach(u),r=C(S),o=g(S,"DIV",{class:!0});var K=b(o);d=F(K,i),K.forEach(u),_=C(S),v=g(S,"DIV",{class:!0});var R=b(v);I&&I.l(R),h=C(R),p=g(R,"DIV",{class:!0});var y=b(p);ee(k.$$.fragment,y),y.forEach(u),R.forEach(u),S.forEach(u),this.h()},h(){f(s,"class","self-center text-sm font-semibold"),f(t,"class","flex w-full justify-between mb-1"),f(o,"class","text-xs dark:text-gray-500"),f(p,"class","flex flex-wrap text-sm font-medium gap-1.5 mt-2"),f(v,"class","flex flex-col")},m(j,S){M(j,e,S),c(e,t),c(t,s),c(s,a),c(e,r),c(e,o),c(o,d),c(e,_),c(e,v),I&&I.m(v,null),c(v,h),c(v,p),te(k,p,null),E=!0},p(j,[S]){var P;(!E||S&2)&&l!==(l=j[1].t("Knowledge")+"")&&U(a,l),(!E||S&2)&&i!==(i=j[1].t('To attach knowledge base here, add them to the "Knowledge" workspace first.')+"")&&U(d,i),((P=j[0])==null?void 0:P.length)>0?I?(I.p(j,S),S&1&&A(I,1)):(I=Gs(j),I.c(),A(I,1),I.m(v,h)):I&&(De(),B(I,1,1,()=>{I=null}),Ve());const N={};S&514&&(N.$$scope={dirty:S,ctx:j}),k.$set(N)},i(j){E||(A(I),A(k.$$.fragment,j),E=!0)},o(j){B(I),B(k.$$.fragment,j),E=!1},d(j){j&&u(e),I&&I.d(),le(k)}}}function vr(n,e,t){let s,{selectedKnowledge:l=[]}=e,{collections:a=[]}=e;const r=Ot("i18n");Fe(n,r,d=>t(1,s=d));const o=(d,_)=>{t(0,l=l.filter((v,h)=>h!==d))},i=d=>{const _=d.detail;l.find(v=>v.id===_.id)||t(0,l=[...l,{..._}])};return n.$$set=d=>{"selectedKnowledge"in d&&t(0,l=d.selectedKnowledge),"collections"in d&&t(3,a=d.collections)},[l,s,r,a,o,i]}class br extends Bt{constructor(e){super(),qt(this,e,vr,gr,jt,{selectedKnowledge:0,collections:3})}}function Qs(n,e,t){const s=n.slice();return s[6]=e[t],s[8]=t,s}function xs(n){let e,t,s=be(Object.keys(n[2])),l=[];for(let r=0;r<s.length;r+=1)l[r]=en(Qs(n,s,r));const a=r=>B(l[r],1,1,()=>{l[r]=null});return{c(){e=m("div");for(let r=0;r<l.length;r+=1)l[r].c();this.h()},l(r){e=g(r,"DIV",{class:!0});var o=b(e);for(let i=0;i<l.length;i+=1)l[i].l(o);o.forEach(u),this.h()},h(){f(e,"class","flex items-center mt-2 flex-wrap")},m(r,o){M(r,e,o);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null);t=!0},p(r,o){if(o&5){s=be(Object.keys(r[2]));let i;for(i=0;i<s.length;i+=1){const d=Qs(r,s,i);l[i]?(l[i].p(d,o),A(l[i],1)):(l[i]=en(d),l[i].c(),A(l[i],1),l[i].m(e,null))}for(De(),i=s.length;i<l.length;i+=1)a(i);Ve()}},i(r){if(!t){for(let o=0;o<s.length;o+=1)A(l[o]);t=!0}},o(r){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)B(l[o]);t=!1},d(r){r&&u(e),Tt(l,r)}}}function en(n){let e,t,s,l,a,r=n[2][n[6]].name+"",o,i,d;function _(...v){return n[5](n[6],...v)}return s=new Al({props:{state:n[2][n[6]].selected?"checked":"unchecked"}}),s.$on("change",_),{c(){e=m("div"),t=m("div"),x(s.$$.fragment),l=T(),a=m("div"),o=q(r),i=T(),this.h()},l(v){e=g(v,"DIV",{class:!0});var h=b(e);t=g(h,"DIV",{class:!0});var p=b(t);ee(s.$$.fragment,p),p.forEach(u),l=C(h),a=g(h,"DIV",{class:!0});var k=b(a);o=F(k,r),k.forEach(u),i=C(h),h.forEach(u),this.h()},h(){f(t,"class","self-center flex items-center"),f(a,"class","py-0.5 text-sm w-full capitalize font-medium"),f(e,"class","flex items-center gap-2 mr-3")},m(v,h){M(v,e,h),c(e,t),te(s,t,null),c(e,l),c(e,a),c(a,o),c(e,i),d=!0},p(v,h){n=v;const p={};h&4&&(p.state=n[2][n[6]].selected?"checked":"unchecked"),s.$set(p),(!d||h&4)&&r!==(r=n[2][n[6]].name+"")&&U(o,r)},i(v){d||(A(s.$$.fragment,v),d=!0)},o(v){B(s.$$.fragment,v),d=!1},d(v){v&&u(e),le(s)}}}function kr(n){let e,t,s,l=n[3].t("Tools")+"",a,r,o,i=n[3].t('To select toolkits here, add them to the "Tools" workspace first.')+"",d,_,v,h,p=n[1].length>0&&xs(n);return{c(){e=m("div"),t=m("div"),s=m("div"),a=q(l),r=T(),o=m("div"),d=q(i),_=T(),v=m("div"),p&&p.c(),this.h()},l(k){e=g(k,"DIV",{});var E=b(e);t=g(E,"DIV",{class:!0});var I=b(t);s=g(I,"DIV",{class:!0});var V=b(s);a=F(V,l),V.forEach(u),I.forEach(u),r=C(E),o=g(E,"DIV",{class:!0});var j=b(o);d=F(j,i),j.forEach(u),_=C(E),v=g(E,"DIV",{class:!0});var S=b(v);p&&p.l(S),S.forEach(u),E.forEach(u),this.h()},h(){f(s,"class","self-center text-sm font-semibold"),f(t,"class","flex w-full justify-between mb-1"),f(o,"class","text-xs dark:text-gray-500"),f(v,"class","flex flex-col")},m(k,E){M(k,e,E),c(e,t),c(t,s),c(s,a),c(e,r),c(e,o),c(o,d),c(e,_),c(e,v),p&&p.m(v,null),h=!0},p(k,[E]){(!h||E&8)&&l!==(l=k[3].t("Tools")+"")&&U(a,l),(!h||E&8)&&i!==(i=k[3].t('To select toolkits here, add them to the "Tools" workspace first.')+"")&&U(d,i),k[1].length>0?p?(p.p(k,E),E&2&&A(p,1)):(p=xs(k),p.c(),A(p,1),p.m(v,null)):p&&(De(),B(p,1,1,()=>{p=null}),Ve())},i(k){h||(A(p),h=!0)},o(k){B(p),h=!1},d(k){k&&u(e),p&&p.d()}}}function wr(n,e,t){let s,{tools:l=[]}=e,a={},{selectedToolIds:r=[]}=e;const o=Ot("i18n");Fe(n,o,d=>t(3,s=d)),fl(()=>{t(2,a=l.reduce((d,_)=>(d[_.id]={..._,selected:r.includes(_.id)},d),{}))});const i=(d,_)=>{t(2,a[d].selected=_.detail==="checked",a),t(0,r=Object.keys(a).filter(v=>a[v].selected))};return n.$$set=d=>{"tools"in d&&t(1,l=d.tools),"selectedToolIds"in d&&t(0,r=d.selectedToolIds)},[r,l,a,s,o,i]}class Ir extends Bt{constructor(e){super(),qt(this,e,wr,kr,jt,{tools:1,selectedToolIds:0})}}function tn(n,e,t){const s=n.slice();return s[6]=e[t],s[8]=t,s}function ln(n){let e,t,s=be(Object.keys(n[2])),l=[];for(let r=0;r<s.length;r+=1)l[r]=sn(tn(n,s,r));const a=r=>B(l[r],1,1,()=>{l[r]=null});return{c(){e=m("div");for(let r=0;r<l.length;r+=1)l[r].c();this.h()},l(r){e=g(r,"DIV",{class:!0});var o=b(e);for(let i=0;i<l.length;i+=1)l[i].l(o);o.forEach(u),this.h()},h(){f(e,"class","flex items-center mt-2 flex-wrap")},m(r,o){M(r,e,o);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null);t=!0},p(r,o){if(o&5){s=be(Object.keys(r[2]));let i;for(i=0;i<s.length;i+=1){const d=tn(r,s,i);l[i]?(l[i].p(d,o),A(l[i],1)):(l[i]=sn(d),l[i].c(),A(l[i],1),l[i].m(e,null))}for(De(),i=s.length;i<l.length;i+=1)a(i);Ve()}},i(r){if(!t){for(let o=0;o<s.length;o+=1)A(l[o]);t=!0}},o(r){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)B(l[o]);t=!1},d(r){r&&u(e),Tt(l,r)}}}function yr(n){let e=n[2][n[6]].name+"",t;return{c(){t=q(e)},l(s){t=F(s,e)},m(s,l){M(s,t,l)},p(s,l){l&4&&e!==(e=s[2][s[6]].name+"")&&U(t,e)},d(s){s&&u(t)}}}function sn(n){let e,t,s,l,a,r,o,i;function d(..._){return n[5](n[6],..._)}return s=new Al({props:{state:n[2][n[6]].is_global||n[2][n[6]].selected?"checked":"unchecked",disabled:n[2][n[6]].is_global}}),s.$on("change",d),r=new es({props:{content:n[2][n[6]].meta.description,$$slots:{default:[yr]},$$scope:{ctx:n}}}),{c(){e=m("div"),t=m("div"),x(s.$$.fragment),l=T(),a=m("div"),x(r.$$.fragment),o=T(),this.h()},l(_){e=g(_,"DIV",{class:!0});var v=b(e);t=g(v,"DIV",{class:!0});var h=b(t);ee(s.$$.fragment,h),h.forEach(u),l=C(v),a=g(v,"DIV",{class:!0});var p=b(a);ee(r.$$.fragment,p),p.forEach(u),o=C(v),v.forEach(u),this.h()},h(){f(t,"class","self-center flex items-center"),f(a,"class","py-0.5 text-sm w-full capitalize font-medium"),f(e,"class","flex items-center gap-2 mr-3")},m(_,v){M(_,e,v),c(e,t),te(s,t,null),c(e,l),c(e,a),te(r,a,null),c(e,o),i=!0},p(_,v){n=_;const h={};v&4&&(h.state=n[2][n[6]].is_global||n[2][n[6]].selected?"checked":"unchecked"),v&4&&(h.disabled=n[2][n[6]].is_global),s.$set(h);const p={};v&4&&(p.content=n[2][n[6]].meta.description),v&516&&(p.$$scope={dirty:v,ctx:n}),r.$set(p)},i(_){i||(A(s.$$.fragment,_),A(r.$$.fragment,_),i=!0)},o(_){B(s.$$.fragment,_),B(r.$$.fragment,_),i=!1},d(_){_&&u(e),le(s),le(r)}}}function Er(n){let e,t,s,l=n[3].t("Filters")+"",a,r,o,i=n[3].t('To select filters here, add them to the "Functions" workspace first.')+"",d,_,v,h,p=n[1].length>0&&ln(n);return{c(){e=m("div"),t=m("div"),s=m("div"),a=q(l),r=T(),o=m("div"),d=q(i),_=T(),v=m("div"),p&&p.c(),this.h()},l(k){e=g(k,"DIV",{});var E=b(e);t=g(E,"DIV",{class:!0});var I=b(t);s=g(I,"DIV",{class:!0});var V=b(s);a=F(V,l),V.forEach(u),I.forEach(u),r=C(E),o=g(E,"DIV",{class:!0});var j=b(o);d=F(j,i),j.forEach(u),_=C(E),v=g(E,"DIV",{class:!0});var S=b(v);p&&p.l(S),S.forEach(u),E.forEach(u),this.h()},h(){f(s,"class","self-center text-sm font-semibold"),f(t,"class","flex w-full justify-between mb-1"),f(o,"class","text-xs dark:text-gray-500"),f(v,"class","flex flex-col")},m(k,E){M(k,e,E),c(e,t),c(t,s),c(s,a),c(e,r),c(e,o),c(o,d),c(e,_),c(e,v),p&&p.m(v,null),h=!0},p(k,[E]){(!h||E&8)&&l!==(l=k[3].t("Filters")+"")&&U(a,l),(!h||E&8)&&i!==(i=k[3].t('To select filters here, add them to the "Functions" workspace first.')+"")&&U(d,i),k[1].length>0?p?(p.p(k,E),E&2&&A(p,1)):(p=ln(k),p.c(),A(p,1),p.m(v,null)):p&&(De(),B(p,1,1,()=>{p=null}),Ve())},i(k){h||(A(p),h=!0)},o(k){B(p),h=!1},d(k){k&&u(e),p&&p.d()}}}function Dr(n,e,t){let s;const l=Ot("i18n");Fe(n,l,d=>t(3,s=d));let{filters:a=[]}=e,{selectedFilterIds:r=[]}=e,o={};fl(()=>{t(2,o=a.reduce((d,_)=>(d[_.id]={..._,selected:r.includes(_.id)},d),{}))});const i=(d,_)=>{o[d].is_global||(t(2,o[d].selected=_.detail==="checked",o),t(0,r=Object.keys(o).filter(v=>o[v].selected)))};return n.$$set=d=>{"filters"in d&&t(1,a=d.filters),"selectedFilterIds"in d&&t(0,r=d.selectedFilterIds)},[r,a,o,s,l,i]}class Vr extends Bt{constructor(e){super(),qt(this,e,Dr,Er,jt,{filters:1,selectedFilterIds:0})}}function nn(n,e,t){const s=n.slice();return s[6]=e[t],s[8]=t,s}function rn(n){let e,t,s=be(Object.keys(n[2])),l=[];for(let r=0;r<s.length;r+=1)l[r]=an(nn(n,s,r));const a=r=>B(l[r],1,1,()=>{l[r]=null});return{c(){e=m("div");for(let r=0;r<l.length;r+=1)l[r].c();this.h()},l(r){e=g(r,"DIV",{class:!0});var o=b(e);for(let i=0;i<l.length;i+=1)l[i].l(o);o.forEach(u),this.h()},h(){f(e,"class","flex items-center mt-2 flex-wrap")},m(r,o){M(r,e,o);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null);t=!0},p(r,o){if(o&5){s=be(Object.keys(r[2]));let i;for(i=0;i<s.length;i+=1){const d=nn(r,s,i);l[i]?(l[i].p(d,o),A(l[i],1)):(l[i]=an(d),l[i].c(),A(l[i],1),l[i].m(e,null))}for(De(),i=s.length;i<l.length;i+=1)a(i);Ve()}},i(r){if(!t){for(let o=0;o<s.length;o+=1)A(l[o]);t=!0}},o(r){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)B(l[o]);t=!1},d(r){r&&u(e),Tt(l,r)}}}function Tr(n){let e=n[2][n[6]].name+"",t;return{c(){t=q(e)},l(s){t=F(s,e)},m(s,l){M(s,t,l)},p(s,l){l&4&&e!==(e=s[2][s[6]].name+"")&&U(t,e)},d(s){s&&u(t)}}}function an(n){let e,t,s,l,a,r,o,i;function d(..._){return n[5](n[6],..._)}return s=new Al({props:{state:n[2][n[6]].selected?"checked":"unchecked"}}),s.$on("change",d),r=new es({props:{content:n[2][n[6]].meta.description,$$slots:{default:[Tr]},$$scope:{ctx:n}}}),{c(){e=m("div"),t=m("div"),x(s.$$.fragment),l=T(),a=m("div"),x(r.$$.fragment),o=T(),this.h()},l(_){e=g(_,"DIV",{class:!0});var v=b(e);t=g(v,"DIV",{class:!0});var h=b(t);ee(s.$$.fragment,h),h.forEach(u),l=C(v),a=g(v,"DIV",{class:!0});var p=b(a);ee(r.$$.fragment,p),p.forEach(u),o=C(v),v.forEach(u),this.h()},h(){f(t,"class","self-center flex items-center"),f(a,"class","py-0.5 text-sm w-full capitalize font-medium"),f(e,"class","flex items-center gap-2 mr-3")},m(_,v){M(_,e,v),c(e,t),te(s,t,null),c(e,l),c(e,a),te(r,a,null),c(e,o),i=!0},p(_,v){n=_;const h={};v&4&&(h.state=n[2][n[6]].selected?"checked":"unchecked"),s.$set(h);const p={};v&4&&(p.content=n[2][n[6]].meta.description),v&516&&(p.$$scope={dirty:v,ctx:n}),r.$set(p)},i(_){i||(A(s.$$.fragment,_),A(r.$$.fragment,_),i=!0)},o(_){B(s.$$.fragment,_),B(r.$$.fragment,_),i=!1},d(_){_&&u(e),le(s),le(r)}}}function Cr(n){let e,t,s,l=n[3].t("Actions")+"",a,r,o,i=n[3].t('To select actions here, add them to the "Functions" workspace first.')+"",d,_,v,h,p=n[1].length>0&&rn(n);return{c(){e=m("div"),t=m("div"),s=m("div"),a=q(l),r=T(),o=m("div"),d=q(i),_=T(),v=m("div"),p&&p.c(),this.h()},l(k){e=g(k,"DIV",{});var E=b(e);t=g(E,"DIV",{class:!0});var I=b(t);s=g(I,"DIV",{class:!0});var V=b(s);a=F(V,l),V.forEach(u),I.forEach(u),r=C(E),o=g(E,"DIV",{class:!0});var j=b(o);d=F(j,i),j.forEach(u),_=C(E),v=g(E,"DIV",{class:!0});var S=b(v);p&&p.l(S),S.forEach(u),E.forEach(u),this.h()},h(){f(s,"class","self-center text-sm font-semibold"),f(t,"class","flex w-full justify-between mb-1"),f(o,"class","text-xs dark:text-gray-500"),f(v,"class","flex flex-col")},m(k,E){M(k,e,E),c(e,t),c(t,s),c(s,a),c(e,r),c(e,o),c(o,d),c(e,_),c(e,v),p&&p.m(v,null),h=!0},p(k,[E]){(!h||E&8)&&l!==(l=k[3].t("Actions")+"")&&U(a,l),(!h||E&8)&&i!==(i=k[3].t('To select actions here, add them to the "Functions" workspace first.')+"")&&U(d,i),k[1].length>0?p?(p.p(k,E),E&2&&A(p,1)):(p=rn(k),p.c(),A(p,1),p.m(v,null)):p&&(De(),B(p,1,1,()=>{p=null}),Ve())},i(k){h||(A(p),h=!0)},o(k){B(p),h=!1},d(k){k&&u(e),p&&p.d()}}}function Sr(n,e,t){let s;const l=Ot("i18n");Fe(n,l,d=>t(3,s=d));let{actions:a=[]}=e,{selectedActionIds:r=[]}=e,o={};fl(()=>{t(2,o=a.reduce((d,_)=>(d[_.id]={..._,selected:r.includes(_.id)},d),{}))});const i=(d,_)=>{t(2,o[d].selected=_.detail==="checked",o),t(0,r=Object.keys(o).filter(v=>o[v].selected))};return n.$$set=d=>{"actions"in d&&t(1,a=d.actions),"selectedActionIds"in d&&t(0,r=d.selectedActionIds)},[r,a,o,s,l,i]}class Nr extends Bt{constructor(e){super(),qt(this,e,Sr,Cr,jt,{actions:1,selectedActionIds:0})}}function on(n,e,t){const s=n.slice();return s[5]=e[t],s}function Ar(n){let e=n[1].t(n[5])+"",t;return{c(){t=q(e)},l(s){t=F(s,e)},m(s,l){M(s,t,l)},p(s,l){l&3&&e!==(e=s[1].t(s[5])+"")&&U(t,e)},d(s){s&&u(t)}}}function cn(n){let e,t,s,l,a,r,o;function i(...d){return n[4](n[5],...d)}return t=new Al({props:{state:n[0][n[5]]?"checked":"unchecked"}}),t.$on("change",i),a=new es({props:{content:$s.parse(n[3][n[5]]),$$slots:{default:[Ar]},$$scope:{ctx:n}}}),{c(){e=m("div"),x(t.$$.fragment),s=T(),l=m("div"),x(a.$$.fragment),r=T(),this.h()},l(d){e=g(d,"DIV",{class:!0});var _=b(e);ee(t.$$.fragment,_),s=C(_),l=g(_,"DIV",{class:!0});var v=b(l);ee(a.$$.fragment,v),v.forEach(u),r=C(_),_.forEach(u),this.h()},h(){f(l,"class","py-0.5 text-sm capitalize"),f(e,"class","flex items-center gap-2 mr-3")},m(d,_){M(d,e,_),te(t,e,null),c(e,s),c(e,l),te(a,l,null),c(e,r),o=!0},p(d,_){n=d;const v={};_&1&&(v.state=n[0][n[5]]?"checked":"unchecked"),t.$set(v);const h={};_&1&&(h.content=$s.parse(n[3][n[5]])),_&259&&(h.$$scope={dirty:_,ctx:n}),a.$set(h)},i(d){o||(A(t.$$.fragment,d),A(a.$$.fragment,d),o=!0)},o(d){B(t.$$.fragment,d),B(a.$$.fragment,d),o=!1},d(d){d&&u(e),le(t),le(a)}}}function Pr(n){let e,t,s,l=n[1].t("Capabilities")+"",a,r,o,i,d=be(Object.keys(n[0])),_=[];for(let h=0;h<d.length;h+=1)_[h]=cn(on(n,d,h));const v=h=>B(_[h],1,1,()=>{_[h]=null});return{c(){e=m("div"),t=m("div"),s=m("div"),a=q(l),r=T(),o=m("div");for(let h=0;h<_.length;h+=1)_[h].c();this.h()},l(h){e=g(h,"DIV",{});var p=b(e);t=g(p,"DIV",{class:!0});var k=b(t);s=g(k,"DIV",{class:!0});var E=b(s);a=F(E,l),E.forEach(u),k.forEach(u),r=C(p),o=g(p,"DIV",{class:!0});var I=b(o);for(let V=0;V<_.length;V+=1)_[V].l(I);I.forEach(u),p.forEach(u),this.h()},h(){f(s,"class","self-center text-sm font-semibold"),f(t,"class","flex w-full justify-between mb-1"),f(o,"class","flex")},m(h,p){M(h,e,p),c(e,t),c(t,s),c(s,a),c(e,r),c(e,o);for(let k=0;k<_.length;k+=1)_[k]&&_[k].m(o,null);i=!0},p(h,[p]){if((!i||p&2)&&l!==(l=h[1].t("Capabilities")+"")&&U(a,l),p&11){d=be(Object.keys(h[0]));let k;for(k=0;k<d.length;k+=1){const E=on(h,d,k);_[k]?(_[k].p(E,p),A(_[k],1)):(_[k]=cn(E),_[k].c(),A(_[k],1),_[k].m(o,null))}for(De(),k=d.length;k<_.length;k+=1)v(k);Ve()}},i(h){if(!i){for(let p=0;p<d.length;p+=1)A(_[p]);i=!0}},o(h){_=_.filter(Boolean);for(let p=0;p<_.length;p+=1)B(_[p]);i=!1},d(h){h&&u(e),Tt(_,h)}}}function Mr(n,e,t){let s;const l=Ot("i18n");Fe(n,l,i=>t(1,s=i));const a={vision:s.t("Model accepts image inputs"),usage:s.t("Sends `stream_options: { include_usage: true }` in the request.\nSupported providers will return token usage information in the response when set."),citations:s.t("Displays citations in the response")};let{capabilities:r={}}=e;const o=(i,d)=>{t(0,r[i]=d.detail==="checked",r)};return n.$$set=i=>{"capabilities"in i&&t(0,r=i.capabilities)},[r,s,l,a,o]}class jr extends Bt{constructor(e){super(),qt(this,e,Mr,Pr,jt,{capabilities:0})}}function fn(n,e,t){const s=n.slice();return s[67]=e[t],s[68]=e,s[69]=t,s}function un(n,e,t){const s=n.slice();return s[0]=e[t],s}function dn(n){let e,t,s,l,a,r,o,i=n[1]&&hn(n),d=(!n[2]||n[2]&&n[0])&&_n(n);return{c(){i&&i.c(),e=T(),t=m("div"),s=m("input"),l=T(),d&&d.c(),this.h()},l(_){i&&i.l(_),e=C(_),t=g(_,"DIV",{class:!0});var v=b(t);s=g(v,"INPUT",{type:!0,accept:!0}),l=C(v),d&&d.l(v),v.forEach(u),this.h()},h(){f(s,"type","file"),s.hidden=!0,f(s,"accept","image/*"),f(t,"class","w-full max-h-full flex justify-center")},m(_,v){i&&i.m(_,v),M(_,e,v),M(_,t,v),c(t,s),n[32](s),c(t,l),d&&d.m(t,null),a=!0,r||(o=[Q(s,"change",n[33]),Q(s,"change",n[34])],r=!0)},p(_,v){_[1]?i?i.p(_,v):(i=hn(_),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),!_[2]||_[2]&&_[0]?d?(d.p(_,v),v[0]&5&&A(d,1)):(d=_n(_),d.c(),A(d,1),d.m(t,null)):d&&(De(),B(d,1,1,()=>{d=null}),Ve())},i(_){a||(A(d),a=!0)},o(_){B(d),a=!1},d(_){_&&(u(e),u(t)),i&&i.d(_),n[32](null),d&&d.d(),r=!1,ul(o)}}}function hn(n){let e,t,s='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="h-4 w-4"><path fill-rule="evenodd" d="M17 10a.75.75 0 01-.75.75H5.612l4.158 3.96a.75.75 0 11-1.04 1.08l-5.5-5.25a.75.75 0 010-1.08l5.5-5.25a.75.75 0 111.04 1.08L5.612 9.25H16.25A.75.75 0 0117 10z" clip-rule="evenodd"></path></svg>',l,a,r="Back",o,i,d;return{c(){e=m("button"),t=m("div"),t.innerHTML=s,l=T(),a=m("div"),o=q(r),this.h()},l(_){e=g(_,"BUTTON",{class:!0});var v=b(e);t=g(v,"DIV",{class:!0,"data-svelte-h":!0}),Qe(t)!=="svelte-fdogea"&&(t.innerHTML=s),l=C(v),a=g(v,"DIV",{class:!0});var h=b(a);o=F(h,r),h.forEach(u),v.forEach(u),this.h()},h(){f(t,"class","self-center"),f(a,"class","self-center text-sm font-medium"),f(e,"class","flex space-x-1")},m(_,v){M(_,e,v),c(e,t),c(e,l),c(e,a),c(a,o),i||(d=Q(e,"click",n[31]),i=!0)},p:Gt,d(_){_&&u(e),i=!1,d()}}}function _n(n){var ps,ms,gs,vs,bs,ks,ws,Is,ys,Es;let e,t,s,l,a,r,o='<div class="m-1.5"><div class="shadow-xl p-1 rounded-full border-2 border-white bg-gray-800 text-white group-hover:bg-gray-600 transition dark:border-black dark:bg-white dark:group-hover:bg-gray-200 dark:text-black"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-5"><path fill-rule="evenodd" d="M2 4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4Zm10.5 5.707a.5.5 0 0 0-.146-.353l-1-1a.5.5 0 0 0-.708 0L9.354 9.646a.5.5 0 0 1-.708 0L6.354 7.354a.5.5 0 0 0-.708 0l-2 2a.5.5 0 0 0-.146.353V12a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5V9.707ZM12 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z" clip-rule="evenodd"></path></svg></div></div>',i,d,_,v,h,p,k="Reset Image",E,I,V,j,S,N,P,K,R,y,L,ne,Te,Z,ke,J,G,we,Ne=n[22].t("Description")+"",xe,ie,Ie,Ce,Ue,Se,Ae,de,oe,He,Le,z,W,bt,at,fe,Pe,ze,Me,et=n[22].t("Model Params")+"",Ke,kt,ue,je,Oe,tt=n[22].t("System Prompt")+"",Ft,Xt,Ct,Re,Qt,xt,lt,wt,St=n[22].t("Advanced Params")+"",D,se,X,ye,Be,it,st,$,Y,nt,It,Nt=n[22].t("Prompt suggestions")+"",dl,Pl,ot,Ml,jl,Ol,hl,Bl,Ut,ct,ql,Fl,Ht,ft,Ul,Hl,Lt,ut,Ll,zl,zt,dt,Kl,Rl,Kt,ht,$l,Zl,_t,yt,Rt,el=n[22].t("JSON Preview")+"",_l,Jl,pt,Wl,Yl,$t,qe,At,Gl,pl,he,Xl,ts;function ls(w,O){return w[13].meta.profile_image_url?Br:Or}let ml=ls(n),$e=ml(n),_e=n[3]&&pn(n),pe=!n[3]&&gn(n);function ss(w,O){return w[12]?qr:Fr}let gl=ss(n),Ze=gl(n),re=n[12]&&vn(n);de=new Jn({props:{tags:((ms=(ps=n[13])==null?void 0:ps.meta)==null?void 0:ms.tags)??[]}}),de.$on("delete",n[48]),de.$on("add",n[49]);function Cn(w){n[50](w)}let ns={accessRoles:["read","write"],allowPublic:((bs=(vs=(gs=n[23])==null?void 0:gs.permissions)==null?void 0:vs.sharing)==null?void 0:bs.public_models)||((ks=n[23])==null?void 0:ks.role)==="admin"};n[20]!==void 0&&(ns.accessControl=n[20]),z=new sr({props:ns}),rt.push(()=>vt(z,"accessControl",Cn));function Sn(w){n[51](w)}let rs={className:" text-sm w-full bg-transparent outline-hidden resize-none overflow-y-hidden ",placeholder:`Write your model system prompt content here
e.g.) You are Mario from Super Mario Bros, acting as an assistant.`,rows:4};n[13].params.system!==void 0&&(rs.value=n[13].params.system),Re=new Tn({props:rs}),rt.push(()=>vt(Re,"value",Sn));function as(w,O){return w[8]?Hr:Ur}let vl=as(n),Je=vl(n),ae=n[8]&&bn(n);function is(w,O){var Et,Xe;return(((Xe=(Et=w[13])==null?void 0:Et.meta)==null?void 0:Xe.suggestion_prompts)??null)===null?zr:Lr}let bl=is(n),We=bl(n),me=(((Is=(ws=n[13])==null?void 0:ws.meta)==null?void 0:Is.suggestion_prompts)??null)!==null&&kn(n),ge=((Es=(ys=n[13])==null?void 0:ys.meta)==null?void 0:Es.suggestion_prompts)&&wn(n);function Nn(w){n[59](w)}let os={collections:n[24]};n[16]!==void 0&&(os.selectedKnowledge=n[16]),ct=new br({props:os}),rt.push(()=>vt(ct,"selectedKnowledge",Nn));function An(w){n[60](w)}let cs={tools:n[25]};n[17]!==void 0&&(cs.selectedToolIds=n[17]),ft=new Ir({props:cs}),rt.push(()=>vt(ft,"selectedToolIds",An));function Pn(w){n[61](w)}let fs={filters:n[26].filter(Dn)};n[18]!==void 0&&(fs.selectedFilterIds=n[18]),ut=new Vr({props:fs}),rt.push(()=>vt(ut,"selectedFilterIds",Pn));function Mn(w){n[62](w)}let us={actions:n[26].filter(Vn)};n[19]!==void 0&&(us.selectedActionIds=n[19]),dt=new Nr({props:us}),rt.push(()=>vt(dt,"selectedActionIds",Mn));function jn(w){n[63](w)}let ds={};n[15]!==void 0&&(ds.capabilities=n[15]),ht=new jr({props:ds}),rt.push(()=>vt(ht,"capabilities",jn));function hs(w,O){return w[9]?Zr:$r}let kl=hs(n),Ye=kl(n),ve=n[9]&&yn(n);function _s(w,O){return w[2]?Wr:Jr}let wl=_s(n),Ge=wl(n),Ee=n[5]&&En();return{c(){e=m("form"),t=m("div"),s=m("div"),l=m("button"),$e.c(),a=T(),r=m("div"),r.innerHTML=o,i=T(),d=m("div"),v=T(),h=m("div"),p=m("button"),p.textContent=k,E=T(),I=m("div"),V=m("div"),j=m("div"),S=m("div"),N=m("input"),K=T(),R=m("div"),y=m("div"),L=m("input"),Te=T(),_e&&_e.c(),Z=T(),pe&&pe.c(),ke=T(),J=m("div"),G=m("div"),we=m("div"),xe=q(Ne),ie=T(),Ie=m("button"),Ze.c(),Ce=T(),re&&re.c(),Ue=T(),Se=m("div"),Ae=m("div"),x(de.$$.fragment),oe=T(),He=m("div"),Le=m("div"),x(z.$$.fragment),bt=T(),at=m("hr"),fe=T(),Pe=m("div"),ze=m("div"),Me=m("div"),Ke=q(et),kt=T(),ue=m("div"),je=m("div"),Oe=m("div"),Ft=q(tt),Xt=T(),Ct=m("div"),x(Re.$$.fragment),xt=T(),lt=m("div"),wt=m("div"),D=q(St),se=T(),X=m("button"),Je.c(),ye=T(),ae&&ae.c(),Be=T(),it=m("hr"),st=T(),$=m("div"),Y=m("div"),nt=m("div"),It=m("div"),dl=q(Nt),Pl=T(),ot=m("button"),We.c(),Ml=T(),me&&me.c(),jl=T(),ge&&ge.c(),Ol=T(),hl=m("hr"),Bl=T(),Ut=m("div"),x(ct.$$.fragment),Fl=T(),Ht=m("div"),x(ft.$$.fragment),Hl=T(),Lt=m("div"),x(ut.$$.fragment),zl=T(),zt=m("div"),x(dt.$$.fragment),Rl=T(),Kt=m("div"),x(ht.$$.fragment),Zl=T(),_t=m("div"),yt=m("div"),Rt=m("div"),_l=q(el),Jl=T(),pt=m("button"),Ye.c(),Wl=T(),ve&&ve.c(),Yl=T(),$t=m("div"),qe=m("button"),At=m("div"),Ge.c(),Gl=T(),Ee&&Ee.c(),this.h()},l(w){e=g(w,"FORM",{class:!0});var O=b(e);t=g(O,"DIV",{class:!0});var Et=b(t);s=g(Et,"DIV",{class:!0});var Xe=b(s);l=g(Xe,"BUTTON",{class:!0,type:!0});var mt=b(l);$e.l(mt),a=C(mt),r=g(mt,"DIV",{class:!0,"data-svelte-h":!0}),Qe(r)!=="svelte-tn89fj"&&(r.innerHTML=o),i=C(mt),d=g(mt,"DIV",{class:!0}),b(d).forEach(u),mt.forEach(u),v=C(Xe),h=g(Xe,"DIV",{class:!0});var Zt=b(h);p=g(Zt,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Qe(p)!=="svelte-oem7vb"&&(p.textContent=k),Zt.forEach(u),Xe.forEach(u),Et.forEach(u),E=C(O),I=g(O,"DIV",{class:!0});var H=b(I);V=g(H,"DIV",{class:!0});var Dt=b(V);j=g(Dt,"DIV",{class:!0});var Jt=b(j);S=g(Jt,"DIV",{});var tl=b(S);N=g(tl,"INPUT",{class:!0,placeholder:!0}),tl.forEach(u),Jt.forEach(u),K=C(Dt),R=g(Dt,"DIV",{class:!0});var ll=b(R);y=g(ll,"DIV",{});var sl=b(y);L=g(sl,"INPUT",{class:!0,placeholder:!0}),sl.forEach(u),ll.forEach(u),Dt.forEach(u),Te=C(H),_e&&_e.l(H),Z=C(H),pe&&pe.l(H),ke=C(H),J=g(H,"DIV",{class:!0});var Pt=b(J);G=g(Pt,"DIV",{class:!0});var Mt=b(G);we=g(Mt,"DIV",{class:!0});var nl=b(we);xe=F(nl,Ne),nl.forEach(u),ie=C(Mt),Ie=g(Mt,"BUTTON",{class:!0,type:!0});var rl=b(Ie);Ze.l(rl),rl.forEach(u),Mt.forEach(u),Ce=C(Pt),re&&re.l(Pt),Pt.forEach(u),Ue=C(H),Se=g(H,"DIV",{class:!0});var al=b(Se);Ae=g(al,"DIV",{class:!0});var il=b(Ae);ee(de.$$.fragment,il),il.forEach(u),al.forEach(u),oe=C(H),He=g(H,"DIV",{class:!0});var ol=b(He);Le=g(ol,"DIV",{class:!0});var cl=b(Le);ee(z.$$.fragment,cl),cl.forEach(u),ol.forEach(u),bt=C(H),at=g(H,"HR",{class:!0}),fe=C(H),Pe=g(H,"DIV",{class:!0});var Il=b(Pe);ze=g(Il,"DIV",{class:!0});var Ds=b(ze);Me=g(Ds,"DIV",{class:!0});var Vs=b(Me);Ke=F(Vs,et),Vs.forEach(u),Ds.forEach(u),kt=C(Il),ue=g(Il,"DIV",{class:!0});var Wt=b(ue);je=g(Wt,"DIV",{class:!0});var yl=b(je);Oe=g(yl,"DIV",{class:!0});var Ts=b(Oe);Ft=F(Ts,tt),Ts.forEach(u),Xt=C(yl),Ct=g(yl,"DIV",{});var Cs=b(Ct);ee(Re.$$.fragment,Cs),Cs.forEach(u),yl.forEach(u),xt=C(Wt),lt=g(Wt,"DIV",{class:!0});var El=b(lt);wt=g(El,"DIV",{class:!0});var Ss=b(wt);D=F(Ss,St),Ss.forEach(u),se=C(El),X=g(El,"BUTTON",{class:!0,type:!0});var Ns=b(X);Je.l(Ns),Ns.forEach(u),El.forEach(u),ye=C(Wt),ae&&ae.l(Wt),Wt.forEach(u),Il.forEach(u),Be=C(H),it=g(H,"HR",{class:!0}),st=C(H),$=g(H,"DIV",{class:!0});var Dl=b($);Y=g(Dl,"DIV",{class:!0});var Vl=b(Y);nt=g(Vl,"DIV",{class:!0});var Tl=b(nt);It=g(Tl,"DIV",{class:!0});var As=b(It);dl=F(As,Nt),As.forEach(u),Pl=C(Tl),ot=g(Tl,"BUTTON",{class:!0,type:!0});var Ps=b(ot);We.l(Ps),Ps.forEach(u),Tl.forEach(u),Ml=C(Vl),me&&me.l(Vl),Vl.forEach(u),jl=C(Dl),ge&&ge.l(Dl),Dl.forEach(u),Ol=C(H),hl=g(H,"HR",{class:!0}),Bl=C(H),Ut=g(H,"DIV",{class:!0});var Ms=b(Ut);ee(ct.$$.fragment,Ms),Ms.forEach(u),Fl=C(H),Ht=g(H,"DIV",{class:!0});var js=b(Ht);ee(ft.$$.fragment,js),js.forEach(u),Hl=C(H),Lt=g(H,"DIV",{class:!0});var Os=b(Lt);ee(ut.$$.fragment,Os),Os.forEach(u),zl=C(H),zt=g(H,"DIV",{class:!0});var Bs=b(zt);ee(dt.$$.fragment,Bs),Bs.forEach(u),Rl=C(H),Kt=g(H,"DIV",{class:!0});var qs=b(Kt);ee(ht.$$.fragment,qs),qs.forEach(u),Zl=C(H),_t=g(H,"DIV",{class:!0});var Cl=b(_t);yt=g(Cl,"DIV",{class:!0});var Sl=b(yt);Rt=g(Sl,"DIV",{class:!0});var Fs=b(Rt);_l=F(Fs,el),Fs.forEach(u),Jl=C(Sl),pt=g(Sl,"BUTTON",{class:!0,type:!0});var Us=b(pt);Ye.l(Us),Us.forEach(u),Sl.forEach(u),Wl=C(Cl),ve&&ve.l(Cl),Cl.forEach(u),Yl=C(H),$t=g(H,"DIV",{class:!0});var Hs=b($t);qe=g(Hs,"BUTTON",{class:!0,type:!0});var Nl=b(qe);At=g(Nl,"DIV",{class:!0});var Ls=b(At);Ge.l(Ls),Ls.forEach(u),Gl=C(Nl),Ee&&Ee.l(Nl),Nl.forEach(u),Hs.forEach(u),H.forEach(u),O.forEach(u),this.h()},h(){f(r,"class","absolute bottom-0 right-0 z-10"),f(d,"class","absolute top-0 bottom-0 left-0 right-0 bg-white dark:bg-black rounded-lg opacity-0 group-hover:opacity-20 transition"),f(l,"class",_="rounded-xl flex shrink-0 items-center "+(n[13].meta.profile_image_url!=="/static/favicon.png"?"bg-transparent":"bg-white")+" shadow-xl group relative"),f(l,"type","button"),f(p,"class","px-2 py-1 text-gray-500 rounded-lg text-xs"),f(p,"type","button"),f(h,"class","flex w-full mt-1 justify-end"),f(s,"class","self-center"),f(t,"class","self-center md:self-start flex justify-center my-2 shrink-0"),f(N,"class","text-3xl font-semibold w-full bg-transparent outline-hidden"),f(N,"placeholder",P=n[22].t("Model Name")),N.required=!0,f(j,"class","flex-1"),f(L,"class","text-xs w-full bg-transparent text-gray-500 outline-hidden"),f(L,"placeholder",ne=n[22].t("Model ID")),L.disabled=n[2],L.required=!0,f(R,"class","flex-1"),f(V,"class","mt-2 my-2 flex flex-col"),f(we,"class","self-center text-sm font-semibold"),f(Ie,"class","p-1 text-xs flex rounded-sm transition"),f(Ie,"type","button"),f(G,"class","mb-1 flex w-full justify-between items-center"),f(J,"class","my-1"),f(Ae,"class",""),f(Se,"class","mt-2 my-1"),f(Le,"class","px-3 py-2 bg-gray-50 dark:bg-gray-950 rounded-lg"),f(He,"class","my-2"),f(at,"class","border-gray-100 dark:border-gray-850 my-1.5"),f(Me,"class","self-center text-sm font-semibold"),f(ze,"class","flex w-full justify-between"),f(Oe,"class","text-xs font-semibold mb-2"),f(je,"class","my-1"),f(wt,"class","self-center text-xs font-semibold"),f(X,"class","p-1 px-3 text-xs flex rounded-sm transition"),f(X,"type","button"),f(lt,"class","flex w-full justify-between"),f(ue,"class","mt-2"),f(Pe,"class","my-2"),f(it,"class","border-gray-100 dark:border-gray-850 my-1"),f(It,"class","self-center text-sm font-semibold"),f(ot,"class","p-1 text-xs flex rounded-sm transition"),f(ot,"type","button"),f(nt,"class","flex w-full justify-between items-center"),f(Y,"class","flex w-full justify-between items-center"),f($,"class","my-2"),f(hl,"class","border-gray-100 dark:border-gray-850 my-1.5"),f(Ut,"class","my-2"),f(Ht,"class","my-2"),f(Lt,"class","my-2"),f(zt,"class","my-2"),f(Kt,"class","my-2"),f(Rt,"class","self-center text-sm font-semibold"),f(pt,"class","p-1 px-3 text-xs flex rounded-sm transition"),f(pt,"type","button"),f(yt,"class","flex w-full justify-between mb-2"),f(_t,"class","my-2 text-gray-300 dark:text-gray-700"),f(At,"class","self-center font-medium"),f(qe,"class",pl="text-sm px-3 py-2 transition rounded-lg "+(n[5]?" cursor-not-allowed bg-black hover:bg-gray-900 text-white dark:bg-white dark:hover:bg-gray-100 dark:text-black":"bg-black hover:bg-gray-900 text-white dark:bg-white dark:hover:bg-gray-100 dark:text-black")+" flex w-full justify-center"),f(qe,"type","submit"),qe.disabled=n[5],f($t,"class","my-2 flex justify-end pb-20"),f(I,"class","w-full"),f(e,"class","flex flex-col md:flex-row w-full gap-3 md:gap-6")},m(w,O){M(w,e,O),c(e,t),c(t,s),c(s,l),$e.m(l,null),c(l,a),c(l,r),c(l,i),c(l,d),c(s,v),c(s,h),c(h,p),c(e,E),c(e,I),c(I,V),c(V,j),c(j,S),c(S,N),ce(N,n[4]),c(V,K),c(V,R),c(R,y),c(y,L),ce(L,n[11]),c(I,Te),_e&&_e.m(I,null),c(I,Z),pe&&pe.m(I,null),c(I,ke),c(I,J),c(J,G),c(G,we),c(we,xe),c(G,ie),c(G,Ie),Ze.m(Ie,null),c(J,Ce),re&&re.m(J,null),c(I,Ue),c(I,Se),c(Se,Ae),te(de,Ae,null),c(I,oe),c(I,He),c(He,Le),te(z,Le,null),c(I,bt),c(I,at),c(I,fe),c(I,Pe),c(Pe,ze),c(ze,Me),c(Me,Ke),c(Pe,kt),c(Pe,ue),c(ue,je),c(je,Oe),c(Oe,Ft),c(je,Xt),c(je,Ct),te(Re,Ct,null),c(ue,xt),c(ue,lt),c(lt,wt),c(wt,D),c(lt,se),c(lt,X),Je.m(X,null),c(ue,ye),ae&&ae.m(ue,null),c(I,Be),c(I,it),c(I,st),c(I,$),c($,Y),c(Y,nt),c(nt,It),c(It,dl),c(nt,Pl),c(nt,ot),We.m(ot,null),c(Y,Ml),me&&me.m(Y,null),c($,jl),ge&&ge.m($,null),c(I,Ol),c(I,hl),c(I,Bl),c(I,Ut),te(ct,Ut,null),c(I,Fl),c(I,Ht),te(ft,Ht,null),c(I,Hl),c(I,Lt),te(ut,Lt,null),c(I,zl),c(I,zt),te(dt,zt,null),c(I,Rl),c(I,Kt),te(ht,Kt,null),c(I,Zl),c(I,_t),c(_t,yt),c(yt,Rt),c(Rt,_l),c(yt,Jl),c(yt,pt),Ye.m(pt,null),c(_t,Wl),ve&&ve.m(_t,null),c(I,Yl),c(I,$t),c($t,qe),c(qe,At),Ge.m(At,null),c(qe,Gl),Ee&&Ee.m(qe,null),he=!0,Xl||(ts=[Q(l,"click",n[35]),Q(p,"click",n[36]),Q(N,"input",n[37]),Q(L,"input",n[38]),Q(Ie,"click",n[46]),Q(X,"click",n[52]),Q(ot,"click",n[55]),Q(pt,"click",n[64]),Q(e,"submit",Ln(n[65]))],Xl=!0)},p(w,O){var ll,sl,Pt,Mt,nl,rl,al,il,ol,cl;ml===(ml=ls(w))&&$e?$e.p(w,O):($e.d(1),$e=ml(w),$e&&($e.c(),$e.m(l,a))),(!he||O[0]&2105344&&_!==(_="rounded-xl flex shrink-0 items-center "+(w[13].meta.profile_image_url!=="/static/favicon.png"?"bg-transparent":"bg-white")+" shadow-xl group relative"))&&f(l,"class",_),(!he||O[0]&4194304&&P!==(P=w[22].t("Model Name")))&&f(N,"placeholder",P),O[0]&16&&N.value!==w[4]&&ce(N,w[4]),(!he||O[0]&4194304&&ne!==(ne=w[22].t("Model ID")))&&f(L,"placeholder",ne),(!he||O[0]&4)&&(L.disabled=w[2]),O[0]&2048&&L.value!==w[11]&&ce(L,w[11]),w[3]?_e?_e.p(w,O):(_e=pn(w),_e.c(),_e.m(I,Z)):_e&&(_e.d(1),_e=null),w[3]?pe&&(pe.d(1),pe=null):pe?pe.p(w,O):(pe=gn(w),pe.c(),pe.m(I,ke)),(!he||O[0]&4194304)&&Ne!==(Ne=w[22].t("Description")+"")&&U(xe,Ne),gl===(gl=ss(w))&&Ze?Ze.p(w,O):(Ze.d(1),Ze=gl(w),Ze&&(Ze.c(),Ze.m(Ie,null))),w[12]?re?(re.p(w,O),O[0]&4096&&A(re,1)):(re=vn(w),re.c(),A(re,1),re.m(J,null)):re&&(De(),B(re,1,1,()=>{re=null}),Ve());const Et={};O[0]&8192&&(Et.tags=((sl=(ll=w[13])==null?void 0:ll.meta)==null?void 0:sl.tags)??[]),de.$set(Et);const Xe={};O[0]&8388608&&(Xe.allowPublic=((nl=(Mt=(Pt=w[23])==null?void 0:Pt.permissions)==null?void 0:Mt.sharing)==null?void 0:nl.public_models)||((rl=w[23])==null?void 0:rl.role)==="admin"),!W&&O[0]&1048576&&(W=!0,Xe.accessControl=w[20],gt(()=>W=!1)),z.$set(Xe),(!he||O[0]&4194304)&&et!==(et=w[22].t("Model Params")+"")&&U(Ke,et),(!he||O[0]&4194304)&&tt!==(tt=w[22].t("System Prompt")+"")&&U(Ft,tt);const mt={};!Qt&&O[0]&8192&&(Qt=!0,mt.value=w[13].params.system,gt(()=>Qt=!1)),Re.$set(mt),(!he||O[0]&4194304)&&St!==(St=w[22].t("Advanced Params")+"")&&U(D,St),vl===(vl=as(w))&&Je?Je.p(w,O):(Je.d(1),Je=vl(w),Je&&(Je.c(),Je.m(X,null))),w[8]?ae?(ae.p(w,O),O[0]&256&&A(ae,1)):(ae=bn(w),ae.c(),A(ae,1),ae.m(ue,null)):ae&&(De(),B(ae,1,1,()=>{ae=null}),Ve()),(!he||O[0]&4194304)&&Nt!==(Nt=w[22].t("Prompt suggestions")+"")&&U(dl,Nt),bl===(bl=is(w))&&We?We.p(w,O):(We.d(1),We=bl(w),We&&(We.c(),We.m(ot,null))),(((il=(al=w[13])==null?void 0:al.meta)==null?void 0:il.suggestion_prompts)??null)!==null?me?me.p(w,O):(me=kn(w),me.c(),me.m(Y,null)):me&&(me.d(1),me=null),(cl=(ol=w[13])==null?void 0:ol.meta)!=null&&cl.suggestion_prompts?ge?ge.p(w,O):(ge=wn(w),ge.c(),ge.m($,null)):ge&&(ge.d(1),ge=null);const Zt={};O[0]&16777216&&(Zt.collections=w[24]),!ql&&O[0]&65536&&(ql=!0,Zt.selectedKnowledge=w[16],gt(()=>ql=!1)),ct.$set(Zt);const H={};O[0]&33554432&&(H.tools=w[25]),!Ul&&O[0]&131072&&(Ul=!0,H.selectedToolIds=w[17],gt(()=>Ul=!1)),ft.$set(H);const Dt={};O[0]&67108864&&(Dt.filters=w[26].filter(Dn)),!Ll&&O[0]&262144&&(Ll=!0,Dt.selectedFilterIds=w[18],gt(()=>Ll=!1)),ut.$set(Dt);const Jt={};O[0]&67108864&&(Jt.actions=w[26].filter(Vn)),!Kl&&O[0]&524288&&(Kl=!0,Jt.selectedActionIds=w[19],gt(()=>Kl=!1)),dt.$set(Jt);const tl={};!$l&&O[0]&32768&&($l=!0,tl.capabilities=w[15],gt(()=>$l=!1)),ht.$set(tl),(!he||O[0]&4194304)&&el!==(el=w[22].t("JSON Preview")+"")&&U(_l,el),kl===(kl=hs(w))&&Ye?Ye.p(w,O):(Ye.d(1),Ye=kl(w),Ye&&(Ye.c(),Ye.m(pt,null))),w[9]?ve?ve.p(w,O):(ve=yn(w),ve.c(),ve.m(_t,null)):ve&&(ve.d(1),ve=null),wl===(wl=_s(w))&&Ge?Ge.p(w,O):(Ge.d(1),Ge=wl(w),Ge&&(Ge.c(),Ge.m(At,null))),w[5]?Ee||(Ee=En(),Ee.c(),Ee.m(qe,null)):Ee&&(Ee.d(1),Ee=null),(!he||O[0]&32&&pl!==(pl="text-sm px-3 py-2 transition rounded-lg "+(w[5]?" cursor-not-allowed bg-black hover:bg-gray-900 text-white dark:bg-white dark:hover:bg-gray-100 dark:text-black":"bg-black hover:bg-gray-900 text-white dark:bg-white dark:hover:bg-gray-100 dark:text-black")+" flex w-full justify-center"))&&f(qe,"class",pl),(!he||O[0]&32)&&(qe.disabled=w[5])},i(w){he||(A(re),A(de.$$.fragment,w),A(z.$$.fragment,w),A(Re.$$.fragment,w),A(ae),A(ct.$$.fragment,w),A(ft.$$.fragment,w),A(ut.$$.fragment,w),A(dt.$$.fragment,w),A(ht.$$.fragment,w),he=!0)},o(w){B(re),B(de.$$.fragment,w),B(z.$$.fragment,w),B(Re.$$.fragment,w),B(ae),B(ct.$$.fragment,w),B(ft.$$.fragment,w),B(ut.$$.fragment,w),B(dt.$$.fragment,w),B(ht.$$.fragment,w),he=!1},d(w){w&&u(e),$e.d(),_e&&_e.d(),pe&&pe.d(),Ze.d(),re&&re.d(),le(de),le(z),le(Re),Je.d(),ae&&ae.d(),We.d(),me&&me.d(),ge&&ge.d(),le(ct),le(ft),le(ut),le(dt),le(ht),Ye.d(),ve&&ve.d(),Ge.d(),Ee&&Ee.d(),Xl=!1,ul(ts)}}}function Or(n){let e,t;return{c(){e=m("img"),this.h()},l(s){e=g(s,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Ql(e.src,t="/static/favicon.png")||f(e,"src",t),f(e,"alt","model profile"),f(e,"class","rounded-xl size-72 md:size-60 object-cover shrink-0")},m(s,l){M(s,e,l)},p:Gt,d(s){s&&u(e)}}}function Br(n){let e,t;return{c(){e=m("img"),this.h()},l(s){e=g(s,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Ql(e.src,t=n[13].meta.profile_image_url)||f(e,"src",t),f(e,"alt","model profile"),f(e,"class","rounded-xl size-72 md:size-60 object-cover shrink-0")},m(s,l){M(s,e,l)},p(s,l){l[0]&2105344&&!Ql(e.src,t=s[13].meta.profile_image_url)&&f(e,"src",t)},d(s){s&&u(e)}}}function pn(n){let e,t,s=n[22].t("Base Model (From)")+"",l,a,r,o,i,d=n[22].t("Select a base model")+"",_,v,h,p=be(n[21].filter(n[39])),k=[];for(let E=0;E<p.length;E+=1)k[E]=mn(un(n,p,E));return{c(){e=m("div"),t=m("div"),l=q(s),a=T(),r=m("div"),o=m("select"),i=m("option"),_=q(d);for(let E=0;E<k.length;E+=1)k[E].c();this.h()},l(E){e=g(E,"DIV",{class:!0});var I=b(e);t=g(I,"DIV",{class:!0});var V=b(t);l=F(V,s),V.forEach(u),a=C(I),r=g(I,"DIV",{});var j=b(r);o=g(j,"SELECT",{class:!0,placeholder:!0});var S=b(o);i=g(S,"OPTION",{class:!0});var N=b(i);_=F(N,d),N.forEach(u);for(let P=0;P<k.length;P+=1)k[P].l(S);S.forEach(u),j.forEach(u),I.forEach(u),this.h()},h(){f(t,"class","text-sm font-semibold mb-1"),i.__value=null,ce(i,i.__value),f(i,"class","text-gray-900"),f(o,"class","text-sm w-full bg-transparent outline-hidden"),f(o,"placeholder","Select a base model (e.g. llama3, gpt-4o)"),o.required=!0,n[13].base_model_id===void 0&&zn(()=>n[40].call(o)),f(e,"class","my-1")},m(E,I){M(E,e,I),c(e,t),c(t,l),c(e,a),c(e,r),c(r,o),c(o,i),c(i,_);for(let V=0;V<k.length;V+=1)k[V]&&k[V].m(o,null);zs(o,n[13].base_model_id,!0),v||(h=[Q(o,"change",n[40]),Q(o,"change",n[41])],v=!0)},p(E,I){if(I[0]&4194304&&s!==(s=E[22].t("Base Model (From)")+"")&&U(l,s),I[0]&4194304&&d!==(d=E[22].t("Select a base model")+"")&&U(_,d),I[0]&2097153){p=be(E[21].filter(E[39]));let V;for(V=0;V<p.length;V+=1){const j=un(E,p,V);k[V]?k[V].p(j,I):(k[V]=mn(j),k[V].c(),k[V].m(o,null))}for(;V<k.length;V+=1)k[V].d(1);k.length=p.length}I[0]&2105344&&zs(o,E[13].base_model_id)},d(E){E&&u(e),Tt(k,E),v=!1,ul(h)}}}function mn(n){let e,t=n[0].name+"",s,l;return{c(){e=m("option"),s=q(t),this.h()},l(a){e=g(a,"OPTION",{class:!0});var r=b(e);s=F(r,t),r.forEach(u),this.h()},h(){e.__value=l=n[0].id,ce(e,e.__value),f(e,"class","text-gray-900")},m(a,r){M(a,e,r),c(e,s)},p(a,r){r[0]&2097153&&t!==(t=a[0].name+"")&&U(s,t),r[0]&2097153&&l!==(l=a[0].id)&&(e.__value=l,ce(e,e.__value))},d(a){a&&u(e)}}}function gn(n){let e,t,s,l=n[22].t("Price")+"",a,r,o,i,d=n[22].t("Unit: 1M tokens or 1M requests")+"",_,v,h,p=n[22].t("Request price has higher priority than token price")+"",k,E,I,V,j=n[22].t("Prompt Token Price")+"",S,N,P,K,R,y,L=n[22].t("Completion Token Price")+"",ne,Te,Z,ke,J,G,we=n[22].t("Request Price")+"",Ne,xe,ie,Ie,Ce,Ue,Se=n[22].t("Minimum Credit Required")+"",Ae,de,oe,He,Le;return{c(){e=m("div"),t=m("div"),s=m("div"),a=q(l),r=T(),o=m("div"),i=m("div"),_=q(d),v=T(),h=m("div"),k=q(p),E=T(),I=m("div"),V=m("span"),S=q(j),N=T(),P=m("input"),K=T(),R=m("div"),y=m("span"),ne=q(L),Te=T(),Z=m("input"),ke=T(),J=m("div"),G=m("span"),Ne=q(we),xe=T(),ie=m("input"),Ie=T(),Ce=m("div"),Ue=m("span"),Ae=q(Se),de=T(),oe=m("input"),this.h()},l(z){e=g(z,"DIV",{class:!0});var W=b(e);t=g(W,"DIV",{class:!0});var bt=b(t);s=g(bt,"DIV",{class:!0});var at=b(s);a=F(at,l),at.forEach(u),bt.forEach(u),W.forEach(u),r=C(z),o=g(z,"DIV",{class:!0});var fe=b(o);i=g(fe,"DIV",{class:!0});var Pe=b(i);_=F(Pe,d),Pe.forEach(u),v=C(fe),h=g(fe,"DIV",{class:!0});var ze=b(h);k=F(ze,p),ze.forEach(u),E=C(fe),I=g(fe,"DIV",{class:!0});var Me=b(I);V=g(Me,"SPAN",{class:!0});var et=b(V);S=F(et,j),et.forEach(u),N=C(Me),P=g(Me,"INPUT",{class:!0,type:!0,step:!0,min:!0,autocomplete:!0}),Me.forEach(u),K=C(fe),R=g(fe,"DIV",{class:!0});var Ke=b(R);y=g(Ke,"SPAN",{class:!0});var kt=b(y);ne=F(kt,L),kt.forEach(u),Te=C(Ke),Z=g(Ke,"INPUT",{class:!0,type:!0,step:!0,min:!0,autocomplete:!0}),Ke.forEach(u),ke=C(fe),J=g(fe,"DIV",{class:!0});var ue=b(J);G=g(ue,"SPAN",{class:!0});var je=b(G);Ne=F(je,we),je.forEach(u),xe=C(ue),ie=g(ue,"INPUT",{class:!0,type:!0,step:!0,min:!0,autocomplete:!0}),ue.forEach(u),Ie=C(fe),Ce=g(fe,"DIV",{class:!0});var Oe=b(Ce);Ue=g(Oe,"SPAN",{class:!0});var tt=b(Ue);Ae=F(tt,Se),tt.forEach(u),de=C(Oe),oe=g(Oe,"INPUT",{class:!0,type:!0,step:!0,min:!0,autocomplete:!0}),Oe.forEach(u),fe.forEach(u),this.h()},h(){f(s,"class","self-center text-sm font-semibold"),f(t,"class","mb-1 flex w-full justify-between items-center"),f(e,"class","my-1"),f(i,"class","text-xs text-orange-600"),f(h,"class","text-xs text-gray-500"),f(V,"class","min-w-36"),f(P,"class","w-full flex flex-1 text-xs bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),f(P,"type","number"),f(P,"step","0.0001"),f(P,"min","0"),f(P,"autocomplete","off"),P.required=!0,f(I,"class","mt-1 flex justify-between text-xs"),f(y,"class","min-w-36"),f(Z,"class","w-full flex flex-1 text-xs bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),f(Z,"type","number"),f(Z,"step","0.0001"),f(Z,"min","0"),f(Z,"autocomplete","off"),Z.required=!0,f(R,"class","mt-1 flex justify-between text-xs"),f(G,"class","min-w-36"),f(ie,"class","w-full flex flex-1 text-xs bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),f(ie,"type","number"),f(ie,"step","0.0001"),f(ie,"min","0"),f(ie,"autocomplete","off"),ie.required=!0,f(J,"class","mt-1 flex justify-between text-xs"),f(Ue,"class","min-w-36"),f(oe,"class","w-full flex flex-1 text-xs bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),f(oe,"type","number"),f(oe,"step","0.0001"),f(oe,"min","0"),f(oe,"autocomplete","off"),oe.required=!0,f(Ce,"class","mt-1 flex justify-between text-xs"),f(o,"class","my-2")},m(z,W){M(z,e,W),c(e,t),c(t,s),c(s,a),M(z,r,W),M(z,o,W),c(o,i),c(i,_),c(o,v),c(o,h),c(h,k),c(o,E),c(o,I),c(I,V),c(V,S),c(I,N),c(I,P),ce(P,n[13].price.prompt_price),c(o,K),c(o,R),c(R,y),c(y,ne),c(R,Te),c(R,Z),ce(Z,n[13].price.completion_price),c(o,ke),c(o,J),c(J,G),c(G,Ne),c(J,xe),c(J,ie),ce(ie,n[13].price.request_price),c(o,Ie),c(o,Ce),c(Ce,Ue),c(Ue,Ae),c(Ce,de),c(Ce,oe),ce(oe,n[13].price.minimum_credit),He||(Le=[Q(P,"input",n[42]),Q(Z,"input",n[43]),Q(ie,"input",n[44]),Q(oe,"input",n[45])],He=!0)},p(z,W){W[0]&4194304&&l!==(l=z[22].t("Price")+"")&&U(a,l),W[0]&4194304&&d!==(d=z[22].t("Unit: 1M tokens or 1M requests")+"")&&U(_,d),W[0]&4194304&&p!==(p=z[22].t("Request price has higher priority than token price")+"")&&U(k,p),W[0]&4194304&&j!==(j=z[22].t("Prompt Token Price")+"")&&U(S,j),W[0]&2105344&&Vt(P.value)!==z[13].price.prompt_price&&ce(P,z[13].price.prompt_price),W[0]&4194304&&L!==(L=z[22].t("Completion Token Price")+"")&&U(ne,L),W[0]&2105344&&Vt(Z.value)!==z[13].price.completion_price&&ce(Z,z[13].price.completion_price),W[0]&4194304&&we!==(we=z[22].t("Request Price")+"")&&U(Ne,we),W[0]&2105344&&Vt(ie.value)!==z[13].price.request_price&&ce(ie,z[13].price.request_price),W[0]&4194304&&Se!==(Se=z[22].t("Minimum Credit Required")+"")&&U(Ae,Se),W[0]&2105344&&Vt(oe.value)!==z[13].price.minimum_credit&&ce(oe,z[13].price.minimum_credit)},d(z){z&&(u(e),u(r),u(o)),He=!1,ul(Le)}}}function qr(n){let e,t=n[22].t("Custom")+"",s;return{c(){e=m("span"),s=q(t),this.h()},l(l){e=g(l,"SPAN",{class:!0});var a=b(e);s=F(a,t),a.forEach(u),this.h()},h(){f(e,"class","ml-2 self-center")},m(l,a){M(l,e,a),c(e,s)},p(l,a){a[0]&4194304&&t!==(t=l[22].t("Custom")+"")&&U(s,t)},d(l){l&&u(e)}}}function Fr(n){let e,t=n[22].t("Default")+"",s;return{c(){e=m("span"),s=q(t),this.h()},l(l){e=g(l,"SPAN",{class:!0});var a=b(e);s=F(a,t),a.forEach(u),this.h()},h(){f(e,"class","ml-2 self-center")},m(l,a){M(l,e,a),c(e,s)},p(l,a){a[0]&4194304&&t!==(t=l[22].t("Default")+"")&&U(s,t)},d(l){l&&u(e)}}}function vn(n){let e,t,s;function l(r){n[47](r)}let a={className:" text-sm w-full bg-transparent outline-hidden resize-none overflow-y-hidden ",placeholder:n[22].t("Add a short description about what this model does")};return n[13].meta.description!==void 0&&(a.value=n[13].meta.description),e=new Tn({props:a}),rt.push(()=>vt(e,"value",l)),{c(){x(e.$$.fragment)},l(r){ee(e.$$.fragment,r)},m(r,o){te(e,r,o),s=!0},p(r,o){const i={};o[0]&4194304&&(i.placeholder=r[22].t("Add a short description about what this model does")),!t&&o[0]&8192&&(t=!0,i.value=r[13].meta.description,gt(()=>t=!1)),e.$set(i)},i(r){s||(A(e.$$.fragment,r),s=!0)},o(r){B(e.$$.fragment,r),s=!1},d(r){le(e,r)}}}function Ur(n){let e,t=n[22].t("Show")+"",s;return{c(){e=m("span"),s=q(t),this.h()},l(l){e=g(l,"SPAN",{class:!0});var a=b(e);s=F(a,t),a.forEach(u),this.h()},h(){f(e,"class","ml-2 self-center")},m(l,a){M(l,e,a),c(e,s)},p(l,a){a[0]&4194304&&t!==(t=l[22].t("Show")+"")&&U(s,t)},d(l){l&&u(e)}}}function Hr(n){let e,t=n[22].t("Hide")+"",s;return{c(){e=m("span"),s=q(t),this.h()},l(l){e=g(l,"SPAN",{class:!0});var a=b(e);s=F(a,t),a.forEach(u),this.h()},h(){f(e,"class","ml-2 self-center")},m(l,a){M(l,e,a),c(e,s)},p(l,a){a[0]&4194304&&t!==(t=l[22].t("Hide")+"")&&U(s,t)},d(l){l&&u(e)}}}function bn(n){let e,t,s,l;function a(o){n[53](o)}let r={admin:!0};return n[14]!==void 0&&(r.params=n[14]),t=new Zn({props:r}),rt.push(()=>vt(t,"params",a)),t.$on("change",n[54]),{c(){e=m("div"),x(t.$$.fragment),this.h()},l(o){e=g(o,"DIV",{class:!0});var i=b(e);ee(t.$$.fragment,i),i.forEach(u),this.h()},h(){f(e,"class","my-2")},m(o,i){M(o,e,i),te(t,e,null),l=!0},p(o,i){const d={};!s&&i[0]&16384&&(s=!0,d.params=o[14],gt(()=>s=!1)),t.$set(d)},i(o){l||(A(t.$$.fragment,o),l=!0)},o(o){B(t.$$.fragment,o),l=!1},d(o){o&&u(e),le(t)}}}function Lr(n){let e,t=n[22].t("Custom")+"",s;return{c(){e=m("span"),s=q(t),this.h()},l(l){e=g(l,"SPAN",{class:!0});var a=b(e);s=F(a,t),a.forEach(u),this.h()},h(){f(e,"class","ml-2 self-center")},m(l,a){M(l,e,a),c(e,s)},p(l,a){a[0]&4194304&&t!==(t=l[22].t("Custom")+"")&&U(s,t)},d(l){l&&u(e)}}}function zr(n){let e,t=n[22].t("Default")+"",s;return{c(){e=m("span"),s=q(t),this.h()},l(l){e=g(l,"SPAN",{class:!0});var a=b(e);s=F(a,t),a.forEach(u),this.h()},h(){f(e,"class","ml-2 self-center")},m(l,a){M(l,e,a),c(e,s)},p(l,a){a[0]&4194304&&t!==(t=l[22].t("Default")+"")&&U(s,t)},d(l){l&&u(e)}}}function kn(n){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg>',s,l;return{c(){e=m("button"),e.innerHTML=t,this.h()},l(a){e=g(a,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Qe(e)!=="svelte-1dicl8h"&&(e.innerHTML=t),this.h()},h(){f(e,"class","p-1 px-2 text-xs flex rounded-sm transition"),f(e,"type","button")},m(a,r){M(a,e,r),s||(l=Q(e,"click",n[56]),s=!0)},p:Gt,d(a){a&&u(e),s=!1,l()}}}function wn(n){let e;function t(a,r){return a[13].meta.suggestion_prompts.length>0?Rr:Kr}let s=t(n),l=s(n);return{c(){e=m("div"),l.c(),this.h()},l(a){e=g(a,"DIV",{class:!0});var r=b(e);l.l(r),r.forEach(u),this.h()},h(){f(e,"class","flex flex-col space-y-1 mt-1 mb-3")},m(a,r){M(a,e,r),l.m(e,null)},p(a,r){s===(s=t(a))&&l?l.p(a,r):(l.d(1),l=s(a),l&&(l.c(),l.m(e,null)))},d(a){a&&u(e),l.d()}}}function Kr(n){let e,t="No suggestion prompts";return{c(){e=m("div"),e.textContent=t,this.h()},l(s){e=g(s,"DIV",{class:!0,"data-svelte-h":!0}),Qe(e)!=="svelte-18dnedh"&&(e.textContent=t),this.h()},h(){f(e,"class","text-xs text-center")},m(s,l){M(s,e,l)},p:Gt,d(s){s&&u(e)}}}function Rr(n){let e,t=be(n[13].meta.suggestion_prompts),s=[];for(let l=0;l<t.length;l+=1)s[l]=In(fn(n,t,l));return{c(){for(let l=0;l<s.length;l+=1)s[l].c();e=Yt()},l(l){for(let a=0;a<s.length;a+=1)s[a].l(l);e=Yt()},m(l,a){for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(l,a);M(l,e,a)},p(l,a){if(a[0]&4202496){t=be(l[13].meta.suggestion_prompts);let r;for(r=0;r<t.length;r+=1){const o=fn(l,t,r);s[r]?s[r].p(o,a):(s[r]=In(o),s[r].c(),s[r].m(e.parentNode,e))}for(;r<s.length;r+=1)s[r].d(1);s.length=t.length}},d(l){l&&u(e),Tt(s,l)}}}function In(n){let e,t,s,l,a,r='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',o,i,d;function _(){n[57].call(t,n[68],n[69])}function v(){return n[58](n[69])}return{c(){e=m("div"),t=m("input"),l=T(),a=m("button"),a.innerHTML=r,o=T(),this.h()},l(h){e=g(h,"DIV",{class:!0});var p=b(e);t=g(p,"INPUT",{class:!0,placeholder:!0}),l=C(p),a=g(p,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Qe(a)!=="svelte-1jlemba"&&(a.innerHTML=r),o=C(p),p.forEach(u),this.h()},h(){f(t,"class","text-sm w-full bg-transparent outline-hidden border-r border-gray-100 dark:border-gray-850"),f(t,"placeholder",s=n[22].t("Write a prompt suggestion (e.g. Who are you?)")),f(a,"class","px-2"),f(a,"type","button"),f(e,"class","flex rounded-lg")},m(h,p){M(h,e,p),c(e,t),ce(t,n[67].content),c(e,l),c(e,a),c(e,o),i||(d=[Q(t,"input",_),Q(a,"click",v)],i=!0)},p(h,p){n=h,p[0]&4194304&&s!==(s=n[22].t("Write a prompt suggestion (e.g. Who are you?)"))&&f(t,"placeholder",s),p[0]&2105344&&t.value!==n[67].content&&ce(t,n[67].content)},d(h){h&&u(e),i=!1,ul(d)}}}function $r(n){let e,t=n[22].t("Show")+"",s;return{c(){e=m("span"),s=q(t),this.h()},l(l){e=g(l,"SPAN",{class:!0});var a=b(e);s=F(a,t),a.forEach(u),this.h()},h(){f(e,"class","ml-2 self-center")},m(l,a){M(l,e,a),c(e,s)},p(l,a){a[0]&4194304&&t!==(t=l[22].t("Show")+"")&&U(s,t)},d(l){l&&u(e)}}}function Zr(n){let e,t=n[22].t("Hide")+"",s;return{c(){e=m("span"),s=q(t),this.h()},l(l){e=g(l,"SPAN",{class:!0});var a=b(e);s=F(a,t),a.forEach(u),this.h()},h(){f(e,"class","ml-2 self-center")},m(l,a){M(l,e,a),c(e,s)},p(l,a){a[0]&4194304&&t!==(t=l[22].t("Hide")+"")&&U(s,t)},d(l){l&&u(e)}}}function yn(n){let e,t,s;return{c(){e=m("div"),t=m("textarea"),this.h()},l(l){e=g(l,"DIV",{});var a=b(e);t=g(a,"TEXTAREA",{class:!0,rows:!0}),b(t).forEach(u),a.forEach(u),this.h()},h(){f(t,"class","text-sm w-full bg-transparent outline-hidden resize-none"),f(t,"rows","10"),t.value=s=JSON.stringify(n[13],null,2),t.disabled=!0,t.readOnly=!0},m(l,a){M(l,e,a),c(e,t)},p(l,a){a[0]&2105344&&s!==(s=JSON.stringify(l[13],null,2))&&(t.value=s)},d(l){l&&u(e)}}}function Jr(n){let e=n[22].t("Save & Create")+"",t;return{c(){t=q(e)},l(s){t=F(s,e)},m(s,l){M(s,t,l)},p(s,l){l[0]&4194304&&e!==(e=s[22].t("Save & Create")+"")&&U(t,e)},d(s){s&&u(t)}}}function Wr(n){let e=n[22].t("Save & Update")+"",t;return{c(){t=q(e)},l(s){t=F(s,e)},m(s,l){M(s,t,l)},p(s,l){l[0]&4194304&&e!==(e=s[22].t("Save & Update")+"")&&U(t,e)},d(s){s&&u(t)}}}function En(n){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=m("div"),e.innerHTML=t,this.h()},l(s){e=g(s,"DIV",{class:!0,"data-svelte-h":!0}),Qe(e)!=="svelte-1bpzrva"&&(e.innerHTML=t),this.h()},h(){f(e,"class","ml-1.5 self-center")},m(s,l){M(s,e,l)},d(s){s&&u(e)}}}function Yr(n){let e,t,s=n[10]&&dn(n);return{c(){s&&s.c(),e=Yt()},l(l){s&&s.l(l),e=Yt()},m(l,a){s&&s.m(l,a),M(l,e,a),t=!0},p(l,a){l[10]?s?(s.p(l,a),a[0]&1024&&A(s,1)):(s=dn(l),s.c(),A(s,1),s.m(e.parentNode,e)):s&&(De(),B(s,1,1,()=>{s=null}),Ve())},i(l){t||(A(s),t=!0)},o(l){B(s),t=!1},d(l){l&&u(e),s&&s.d(l)}}}const Dn=n=>n.type==="filter",Vn=n=>n.type==="action";function Gr(n,e,t){let s,l,a,r,o,i;Fe(n,Rn,D=>t(21,s=D)),Fe(n,$n,D=>t(23,a=D)),Fe(n,xl,D=>t(24,r=D)),Fe(n,Ks,D=>t(25,o=D)),Fe(n,Rs,D=>t(26,i=D));const d=Ot("i18n");Fe(n,d,D=>t(22,l=D));let{onSubmit:_}=e,{onBack:v=null}=e,{model:h=null}=e,{edit:p=!1}=e,{preset:k=!0}=e,E=!1,I,V,j=!1,S=!1,N=!1,P="",K="",R=!0,y={id:"",base_model_id:null,name:"",meta:{profile_image_url:"/static/favicon.png",description:"",suggestion_prompts:null,tags:[]},params:{system:""},price:{prompt_price:0,completion_price:0,request_price:0,minimum_credit:0}},L={system:""},ne={vision:!0,usage:void 0,citations:!0},Te=[],Z=[],ke=[],J=[],G={};const we=D=>{var X,ye;const se=s.find(Be=>Be.id===D);se&&(se.owned_by==="openai"?t(15,ne.usage=((ye=(X=se==null?void 0:se.meta)==null?void 0:X.capabilities)==null?void 0:ye.usage)??!1,ne):delete ne.usage,t(15,ne))},Ne=async()=>{t(5,E=!0),t(13,y.id=P,y),t(13,y.name=K,y),P===""&&Zs.error("Model ID is required."),K===""&&Zs.error("Model Name is required."),t(13,y.access_control=G,y),t(13,y.meta.capabilities=ne,y),R?t(13,y.meta.description=y.meta.description.trim()===""?null:y.meta.description,y):t(13,y.meta.description=null,y),Te.length>0?t(13,y.meta.knowledge=Te,y):y.meta.knowledge&&delete y.meta.knowledge,Z.length>0?t(13,y.meta.toolIds=Z,y):y.meta.toolIds&&delete y.meta.toolIds,ke.length>0?t(13,y.meta.filterIds=ke,y):y.meta.filterIds&&delete y.meta.filterIds,J.length>0?t(13,y.meta.actionIds=J,y):y.meta.actionIds&&delete y.meta.actionIds,t(13,y.params.stop=L.stop?L.stop.split(",").filter(D=>D.trim()):null,y),Object.keys(y.params).forEach(D=>{(y.params[D]===""||y.params[D]===null)&&delete y.params[D]}),await _(y),t(5,E=!1)};fl(async()=>{var se,X,ye,Be,it,st;await Ks.set(await er(localStorage.token)),await Rs.set(await tr(localStorage.token)),await xl.set(await lr(localStorage.token));const D=document.getElementById("workspace-container");if(D&&(D.scrollTop=0),h){if(t(4,K=h.name),await Hn(),t(11,P=h.id),t(12,R=((se=h==null?void 0:h.meta)==null?void 0:se.description)!==null),h.base_model_id){const $=s.filter(Y=>!(Y!=null&&Y.preset)&&!((Y==null?void 0:Y.arena)??!1)).find(Y=>[h.base_model_id,`${h.base_model_id}:latest`].includes(Y.id));$?t(0,h.base_model_id=$.id,h):t(0,h.base_model_id=null,h)}t(14,L={...L,...h==null?void 0:h.params}),t(14,L.stop=L!=null&&L.stop?(typeof L.stop=="string"?L.stop.split(","):(L==null?void 0:L.stop)??[]).join(","):null,L),t(17,Z=((X=h==null?void 0:h.meta)==null?void 0:X.toolIds)??[]),t(18,ke=((ye=h==null?void 0:h.meta)==null?void 0:ye.filterIds)??[]),t(19,J=((Be=h==null?void 0:h.meta)==null?void 0:Be.actionIds)??[]),t(16,Te=(((it=h==null?void 0:h.meta)==null?void 0:it.knowledge)??[]).map($=>$!=null&&$.collection_name?{id:$.collection_name,name:$.name,legacy:!0}:$!=null&&$.collection_names?{name:$.name,type:"collection",collection_names:$.collection_names,legacy:!0}:$)),t(15,ne={...ne,...((st=h==null?void 0:h.meta)==null?void 0:st.capabilities)??{}}),"access_control"in h?t(20,G=h.access_control):t(20,G={}),t(13,y={...y,...JSON.parse(JSON.stringify(h||{id:h.id,name:h.name}))}),y.price||t(13,y.price={prompt_price:0,completion_price:0,request_price:0,minimum_credit:0},y)}t(10,N=!0)});const xe=()=>{v()};function ie(D){rt[D?"unshift":"push"](()=>{I=D,t(6,I)})}function Ie(){V=this.files,t(7,V)}const Ce=()=>{let D=new FileReader;D.onload=se=>{let X=`${se.target.result}`;const ye=new Image;ye.src=X,ye.onload=function(){const Be=document.createElement("canvas"),it=Be.getContext("2d"),st=ye.width/ye.height;let $,Y;st>1?($=250*st,Y=250):($=250,Y=250/st),Be.width=250,Be.height=250;const nt=(250-$)/2,It=(250-Y)/2;it.drawImage(ye,nt,It,$,Y);const Nt=Be.toDataURL();t(13,y.meta.profile_image_url=Nt,y),t(7,V=null),t(6,I.value="",I)}},V&&V.length>0&&["image/gif","image/webp","image/jpeg","image/png","image/svg+xml"].includes(V[0].type)?D.readAsDataURL(V[0]):t(7,V=null)},Ue=()=>{I.click()},Se=()=>{t(13,y.meta.profile_image_url="/static/favicon.png",y)};function Ae(){K=this.value,t(4,K)}function de(){P=this.value,t(11,P),t(2,p),t(4,K)}const oe=D=>(h?D.id!==h.id:!0)&&!(D!=null&&D.preset)&&(D==null?void 0:D.owned_by)!=="arena";function He(){y.base_model_id=Kn(this),t(13,y)}const Le=D=>{we(D.target.value)};function z(){y.price.prompt_price=Vt(this.value),t(13,y)}function W(){y.price.completion_price=Vt(this.value),t(13,y)}function bt(){y.price.request_price=Vt(this.value),t(13,y)}function at(){y.price.minimum_credit=Vt(this.value),t(13,y)}const fe=()=>{t(12,R=!R)};function Pe(D){n.$$.not_equal(y.meta.description,D)&&(y.meta.description=D,t(13,y))}const ze=D=>{const se=D.detail;t(13,y.meta.tags=y.meta.tags.filter(X=>X.name!==se),y)},Me=D=>{var X;const se=D.detail;((X=y==null?void 0:y.meta)==null?void 0:X.tags)??null?t(13,y.meta.tags=[...y.meta.tags,{name:se}],y):t(13,y.meta.tags=[{name:se}],y)};function et(D){G=D,t(20,G)}function Ke(D){n.$$.not_equal(y.params.system,D)&&(y.params.system=D,t(13,y))}const kt=()=>{t(8,j=!j)};function ue(D){L=D,t(14,L)}const je=D=>{t(13,y.params={...y.params,...L},y)},Oe=()=>{var D;(((D=y==null?void 0:y.meta)==null?void 0:D.suggestion_prompts)??null)===null?t(13,y.meta.suggestion_prompts=[{content:""}],y):t(13,y.meta.suggestion_prompts=null,y)},tt=()=>{(y.meta.suggestion_prompts.length===0||y.meta.suggestion_prompts.at(-1).content!=="")&&t(13,y.meta.suggestion_prompts=[...y.meta.suggestion_prompts,{content:""}],y)};function Ft(D,se){D[se].content=this.value,t(13,y)}const Xt=D=>{y.meta.suggestion_prompts.splice(D,1),t(13,y)};function Ct(D){Te=D,t(16,Te)}function Re(D){Z=D,t(17,Z)}function Qt(D){ke=D,t(18,ke)}function xt(D){J=D,t(19,J)}function lt(D){ne=D,t(15,ne)}const wt=()=>{t(9,S=!S)},St=()=>{Ne()};return n.$$set=D=>{"onSubmit"in D&&t(30,_=D.onSubmit),"onBack"in D&&t(1,v=D.onBack),"model"in D&&t(0,h=D.model),"edit"in D&&t(2,p=D.edit),"preset"in D&&t(3,k=D.preset)},n.$$.update=()=>{n.$$.dirty[0]&20&&(p||K&&t(11,P=K.replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-]/g,"").toLowerCase()))},[h,v,p,k,K,E,I,V,j,S,N,P,R,y,L,ne,Te,Z,ke,J,G,s,l,a,r,o,i,d,we,Ne,_,xe,ie,Ie,Ce,Ue,Se,Ae,de,oe,He,Le,z,W,bt,at,fe,Pe,ze,Me,et,Ke,kt,ue,je,Oe,tt,Ft,Xt,Ct,Re,Qt,xt,lt,wt,St]}class va extends Bt{constructor(e){super(),qt(this,e,Gr,Yr,jt,{onSubmit:30,onBack:1,model:0,edit:2,preset:3},null,[-1,-1,-1])}}export{va as M};
//# sourceMappingURL=BcIa0QuZ.js.map
