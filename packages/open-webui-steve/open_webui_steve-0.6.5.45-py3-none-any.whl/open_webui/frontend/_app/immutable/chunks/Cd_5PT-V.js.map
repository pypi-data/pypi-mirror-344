{"version":3,"file":"Cd_5PT-V.js","sources":["../../../../../../src/lib/constants.ts","../../../../../../src/lib/stores/index.ts"],"sourcesContent":["import { browser, dev } from '$app/environment';\r\n// import { version } from '../../package.json';\r\n\r\nexport const APP_NAME = 'Open WebUI';\r\n\r\nexport const WEBUI_HOSTNAME = browser ? (dev ? `${location.hostname}:8080` : ``) : '';\r\nexport const WEBUI_BASE_URL = browser ? (dev ? `http://${WEBUI_HOSTNAME}` : ``) : ``;\r\nexport const WEBUI_API_BASE_URL = `${WEBUI_BASE_URL}/api/v1`;\r\n\r\nexport const OLLAMA_API_BASE_URL = `${WEBUI_BASE_URL}/ollama`;\r\nexport const OPENAI_API_BASE_URL = `${WEBUI_BASE_URL}/openai`;\r\nexport const AUDIO_API_BASE_URL = `${WEBUI_BASE_URL}/api/v1/audio`;\r\nexport const IMAGES_API_BASE_URL = `${WEBUI_BASE_URL}/api/v1/images`;\r\nexport const RETRIEVAL_API_BASE_URL = `${WEBUI_BASE_URL}/api/v1/retrieval`;\r\n\r\nexport const WEBUI_VERSION = APP_VERSION;\r\nexport const WEBUI_BUILD_HASH = APP_BUILD_HASH;\r\nexport const REQUIRED_OLLAMA_VERSION = '0.1.16';\r\n\r\nexport const SUPPORTED_FILE_TYPE = [\r\n\t'application/epub+zip',\r\n\t'application/pdf',\r\n\t'text/plain',\r\n\t'text/csv',\r\n\t'text/xml',\r\n\t'text/html',\r\n\t'text/x-python',\r\n\t'text/css',\r\n\t'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\r\n\t'application/octet-stream',\r\n\t'application/x-javascript',\r\n\t'text/markdown',\r\n\t'audio/mpeg',\r\n\t'audio/wav',\r\n\t'audio/ogg',\r\n\t'audio/x-m4a'\r\n];\r\n\r\nexport const SUPPORTED_FILE_EXTENSIONS = [\r\n\t'md',\r\n\t'rst',\r\n\t'go',\r\n\t'py',\r\n\t'java',\r\n\t'sh',\r\n\t'bat',\r\n\t'ps1',\r\n\t'cmd',\r\n\t'js',\r\n\t'ts',\r\n\t'css',\r\n\t'cpp',\r\n\t'hpp',\r\n\t'h',\r\n\t'c',\r\n\t'cs',\r\n\t'htm',\r\n\t'html',\r\n\t'sql',\r\n\t'log',\r\n\t'ini',\r\n\t'pl',\r\n\t'pm',\r\n\t'r',\r\n\t'dart',\r\n\t'dockerfile',\r\n\t'env',\r\n\t'php',\r\n\t'hs',\r\n\t'hsc',\r\n\t'lua',\r\n\t'nginxconf',\r\n\t'conf',\r\n\t'm',\r\n\t'mm',\r\n\t'plsql',\r\n\t'perl',\r\n\t'rb',\r\n\t'rs',\r\n\t'db2',\r\n\t'scala',\r\n\t'bash',\r\n\t'swift',\r\n\t'vue',\r\n\t'svelte',\r\n\t'doc',\r\n\t'docx',\r\n\t'pdf',\r\n\t'csv',\r\n\t'txt',\r\n\t'xls',\r\n\t'xlsx',\r\n\t'pptx',\r\n\t'ppt',\r\n\t'msg'\r\n];\r\n\r\nexport const PASTED_TEXT_CHARACTER_LIMIT = 1000;\r\n\r\n// Source: https://kit.svelte.dev/docs/modules#$env-static-public\r\n// This feature, akin to $env/static/private, exclusively incorporates environment variables\r\n// that are prefixed with config.kit.env.publicPrefix (usually set to PUBLIC_).\r\n// Consequently, these variables can be securely exposed to client-side code.\r\n","import { APP_NAME } from '$lib/constants';\r\nimport { type Writable, writable } from 'svelte/store';\r\nimport type { ModelConfig } from '$lib/apis';\r\nimport type { Banner } from '$lib/types';\r\nimport type { Socket } from 'socket.io-client';\r\n\r\nimport emojiShortCodes from '$lib/emoji-shortcodes.json';\r\n\r\n// Backend\r\nexport const WEBUI_NAME = writable(APP_NAME);\r\nexport const config: Writable<Config | undefined> = writable(undefined);\r\nexport const user: Writable<SessionUser | undefined> = writable(undefined);\r\n\r\n// Electron App\r\nexport const isApp = writable(false);\r\nexport const appInfo = writable(null);\r\nexport const appData = writable(null);\r\n\r\n// Frontend\r\nexport const MODEL_DOWNLOAD_POOL = writable({});\r\n\r\nexport const mobile = writable(false);\r\n\r\nexport const socket: Writable<null | Socket> = writable(null);\r\nexport const activeUserIds: Writable<null | string[]> = writable(null);\r\nexport const USAGE_POOL: Writable<null | string[]> = writable(null);\r\n\r\nexport const theme = writable('system');\r\n\r\nexport const shortCodesToEmojis = writable(\r\n\tObject.entries(emojiShortCodes).reduce((acc, [key, value]) => {\r\n\t\tif (typeof value === 'string') {\r\n\t\t\tacc[value] = key;\r\n\t\t} else {\r\n\t\t\tfor (const v of value) {\r\n\t\t\t\tacc[v] = key;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn acc;\r\n\t}, {})\r\n);\r\n\r\nexport const TTSWorker = writable(null);\r\n\r\nexport const chatId = writable('');\r\nexport const chatTitle = writable('');\r\n\r\nexport const channels = writable([]);\r\nexport const chats = writable(null);\r\nexport const pinnedChats = writable([]);\r\nexport const tags = writable([]);\r\n\r\nexport const models: Writable<Model[]> = writable([]);\r\n\r\nexport const prompts: Writable<null | Prompt[]> = writable(null);\r\nexport const knowledge: Writable<null | Document[]> = writable(null);\r\nexport const tools = writable(null);\r\nexport const functions = writable(null);\r\n\r\nexport const toolServers = writable([]);\r\n\r\nexport const banners: Writable<Banner[]> = writable([]);\r\n\r\nexport const settings: Writable<Settings> = writable({});\r\n\r\nexport const showSidebar = writable(false);\r\nexport const showSettings = writable(false);\r\nexport const showArchivedChats = writable(false);\r\nexport const showChangelog = writable(false);\r\n\r\nexport const showControls = writable(false);\r\nexport const showOverview = writable(false);\r\nexport const showArtifacts = writable(false);\r\nexport const showCallOverlay = writable(false);\r\n\r\nexport const temporaryChatEnabled = writable(false);\r\nexport const scrollPaginationEnabled = writable(false);\r\nexport const currentChatPage = writable(1);\r\n\r\nexport const isLastActiveTab = writable(true);\r\nexport const playingNotificationSound = writable(false);\r\n\r\nexport type Model = OpenAIModel | OllamaModel;\r\n\r\ntype BaseModel = {\r\n\tid: string;\r\n\tname: string;\r\n\tinfo?: ModelConfig;\r\n\towned_by: 'ollama' | 'openai' | 'arena';\r\n};\r\n\r\nexport interface OpenAIModel extends BaseModel {\r\n\towned_by: 'openai';\r\n\texternal: boolean;\r\n\tsource?: string;\r\n}\r\n\r\nexport interface OllamaModel extends BaseModel {\r\n\towned_by: 'ollama';\r\n\tdetails: OllamaModelDetails;\r\n\tsize: number;\r\n\tdescription: string;\r\n\tmodel: string;\r\n\tmodified_at: string;\r\n\tdigest: string;\r\n\tollama?: {\r\n\t\tname?: string;\r\n\t\tmodel?: string;\r\n\t\tmodified_at: string;\r\n\t\tsize?: number;\r\n\t\tdigest?: string;\r\n\t\tdetails?: {\r\n\t\t\tparent_model?: string;\r\n\t\t\tformat?: string;\r\n\t\t\tfamily?: string;\r\n\t\t\tfamilies?: string[];\r\n\t\t\tparameter_size?: string;\r\n\t\t\tquantization_level?: string;\r\n\t\t};\r\n\t\turls?: number[];\r\n\t};\r\n}\r\n\r\ntype OllamaModelDetails = {\r\n\tparent_model: string;\r\n\tformat: string;\r\n\tfamily: string;\r\n\tfamilies: string[] | null;\r\n\tparameter_size: string;\r\n\tquantization_level: string;\r\n};\r\n\r\ntype Settings = {\r\n\tmodels?: string[];\r\n\tconversationMode?: boolean;\r\n\tspeechAutoSend?: boolean;\r\n\tresponseAutoPlayback?: boolean;\r\n\taudio?: AudioSettings;\r\n\tshowUsername?: boolean;\r\n\tnotificationEnabled?: boolean;\r\n\ttitle?: TitleSettings;\r\n\tsplitLargeDeltas?: boolean;\r\n\tchatDirection: 'LTR' | 'RTL' | 'auto';\r\n\tctrlEnterToSend?: boolean;\r\n\r\n\tsystem?: string;\r\n\trequestFormat?: string;\r\n\tkeepAlive?: string;\r\n\tseed?: number;\r\n\ttemperature?: string;\r\n\trepeat_penalty?: string;\r\n\ttop_k?: string;\r\n\ttop_p?: string;\r\n\tnum_ctx?: string;\r\n\tnum_batch?: string;\r\n\tnum_keep?: string;\r\n\toptions?: ModelOptions;\r\n\r\n\t// Opacity settings\r\n\tsidebarOpacity?: number;\r\n\tbubbleOpacity?: number;\r\n\tbackgroundOpacity?: number;\r\n\twidescreenMode?: boolean;\r\n};\r\n\r\ntype ModelOptions = {\r\n\tstop?: boolean;\r\n};\r\n\r\ntype AudioSettings = {\r\n\tSTTEngine?: string;\r\n\tTTSEngine?: string;\r\n\tspeaker?: string;\r\n\tmodel?: string;\r\n\tnonLocalVoices?: boolean;\r\n};\r\n\r\ntype TitleSettings = {\r\n\tauto?: boolean;\r\n\tmodel?: string;\r\n\tmodelExternal?: string;\r\n\tprompt?: string;\r\n};\r\n\r\ntype Prompt = {\r\n\tcommand: string;\r\n\tuser_id: string;\r\n\ttitle: string;\r\n\tcontent: string;\r\n\ttimestamp: number;\r\n};\r\n\r\ntype Document = {\r\n\tcollection_name: string;\r\n\tfilename: string;\r\n\tname: string;\r\n\ttitle: string;\r\n};\r\n\r\ntype Config = {\r\n\tstatus: boolean;\r\n\tname: string;\r\n\tversion: string;\r\n\tdefault_locale: string;\r\n\tdefault_models: string;\r\n\tdefault_prompt_suggestions: PromptSuggestion[];\r\n\tfeatures: {\r\n\t\tauth: boolean;\r\n\t\tauth_trusted_header: boolean;\r\n\t\tenable_api_key: boolean;\r\n\t\tenable_signup: boolean;\r\n\t\tenable_login_form: boolean;\r\n\t\tenable_web_search?: boolean;\r\n\t\tenable_google_drive_integration: boolean;\r\n\t\tenable_onedrive_integration: boolean;\r\n\t\tenable_image_generation: boolean;\r\n\t\tenable_admin_export: boolean;\r\n\t\tenable_admin_chat_access: boolean;\r\n\t\tenable_community_sharing: boolean;\r\n\t\tenable_autocomplete_generation: boolean;\r\n\t};\r\n\toauth: {\r\n\t\tproviders: {\r\n\t\t\t[key: string]: string;\r\n\t\t};\r\n\t};\r\n};\r\n\r\ntype PromptSuggestion = {\r\n\tcontent: string;\r\n\ttitle: [string, string];\r\n};\r\n\r\ntype SessionUser = {\r\n\tid: string;\r\n\temail: string;\r\n\tname: string;\r\n\trole: string;\r\n\tprofile_image_url: string;\r\n\tcredit: number;\r\n};\r\n"],"names":["APP_NAME","WEBUI_BASE_URL","WEBUI_API_BASE_URL","OLLAMA_API_BASE_URL","OPENAI_API_BASE_URL","AUDIO_API_BASE_URL","IMAGES_API_BASE_URL","RETRIEVAL_API_BASE_URL","WEBUI_VERSION","WEBUI_BUILD_HASH","PASTED_TEXT_CHARACTER_LIMIT","WEBUI_NAME","writable","config","user","isApp","appInfo","appData","MODEL_DOWNLOAD_POOL","mobile","socket","activeUserIds","USAGE_POOL","theme","shortCodesToEmojis","emojiShortCodes","acc","key","value","v","TTSWorker","chatId","chatTitle","channels","chats","pinnedChats","tags","models","prompts","knowledge","tools","functions","toolServers","banners","settings","showSidebar","showSettings","showArchivedChats","showChangelog","showControls","showOverview","showArtifacts","showCallOverlay","temporaryChatEnabled","scrollPaginationEnabled","currentChatPage","isLastActiveTab","playingNotificationSound"],"mappings":"kCAGO,MAAMA,EAAW,aAGXC,EAA+D,GAC/DC,EAAqB,GAAGD,CAAc,UAEtCE,EAAsB,GAAGF,CAAc,UACvCG,EAAsB,GAAGH,CAAc,UACvCI,EAAqB,GAAGJ,CAAc,gBACtCK,EAAsB,GAAGL,CAAc,iBACvCM,EAAyB,GAAGN,CAAc,oBAE1CO,EAAgB,WAChBC,EAAmB,WAiFnBC,EAA8B,6k9CCxF9BC,EAAaC,EAASZ,CAAQ,EAC9Ba,EAAuCD,EAAS,MAAS,EACzDE,EAA0CF,EAAS,MAAS,EAG5DG,EAAQH,EAAS,EAAK,EACtBI,EAAUJ,EAAS,IAAI,EACvBK,EAAUL,EAAS,IAAI,EAGvBM,EAAsBN,EAAS,EAAE,EAEjCO,EAASP,EAAS,EAAK,EAEvBQ,EAAkCR,EAAS,IAAI,EAC/CS,EAA2CT,EAAS,IAAI,EACxDU,EAAwCV,EAAS,IAAI,EAErDW,EAAQX,EAAS,QAAQ,EAEzBY,EAAqBZ,EACjC,OAAO,QAAQa,CAAe,EAAE,OAAO,CAACC,EAAK,CAACC,EAAKC,CAAK,IAAM,CACzD,GAAA,OAAOA,GAAU,SACpBF,EAAIE,CAAK,EAAID,MAEb,WAAWE,KAAKD,EACfF,EAAIG,CAAC,EAAIF,EAIJ,OAAAD,CACR,EAAG,EAAE,CACN,EAEaI,EAAYlB,EAAS,IAAI,EAEzBmB,EAASnB,EAAS,EAAE,EACpBoB,EAAYpB,EAAS,EAAE,EAEvBqB,EAAWrB,EAAS,EAAE,EACtBsB,EAAQtB,EAAS,IAAI,EACrBuB,EAAcvB,EAAS,EAAE,EACzBwB,EAAOxB,EAAS,EAAE,EAElByB,EAA4BzB,EAAS,EAAE,EAEvC0B,EAAqC1B,EAAS,IAAI,EAClD2B,EAAyC3B,EAAS,IAAI,EACtD4B,EAAQ5B,EAAS,IAAI,EACrB6B,EAAY7B,EAAS,IAAI,EAEzB8B,EAAc9B,EAAS,EAAE,EAEzB+B,EAA8B/B,EAAS,EAAE,EAEzCgC,EAA+BhC,EAAS,EAAE,EAE1CiC,EAAcjC,EAAS,EAAK,EAC5BkC,EAAelC,EAAS,EAAK,EAC7BmC,EAAoBnC,EAAS,EAAK,EAClCoC,EAAgBpC,EAAS,EAAK,EAE9BqC,EAAerC,EAAS,EAAK,EAC7BsC,EAAetC,EAAS,EAAK,EAC7BuC,EAAgBvC,EAAS,EAAK,EAC9BwC,EAAkBxC,EAAS,EAAK,EAEhCyC,GAAuBzC,EAAS,EAAK,EACrC0C,GAA0B1C,EAAS,EAAK,EACxC2C,GAAkB3C,EAAS,CAAC,EAE5B4C,GAAkB5C,EAAS,EAAI,EAC/B6C,GAA2B7C,EAAS,EAAK"}