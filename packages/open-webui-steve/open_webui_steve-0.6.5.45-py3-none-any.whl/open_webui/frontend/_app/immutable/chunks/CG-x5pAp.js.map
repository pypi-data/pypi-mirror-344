{"version":3,"file":"CG-x5pAp.js","sources":["../../../../../../src/lib/components/common/Modal.svelte"],"sourcesContent":["<script lang=\"ts\">\r\n\timport { onDestroy, onMount } from 'svelte';\r\n\timport { fade } from 'svelte/transition';\r\n\r\n\timport { flyAndScale } from '$lib/utils/transitions';\r\n\r\n\texport let show = true;\r\n\texport let size = 'md';\r\n\texport let containerClassName = 'p-3';\r\n\texport let className = 'bg-white dark:bg-gray-900 rounded-2xl';\r\n\r\n\tlet modalElement = null;\r\n\tlet mounted = false;\r\n\r\n\tconst sizeToWidth = (size) => {\r\n\t\tif (size === 'full') {\r\n\t\t\treturn 'w-full';\r\n\t\t}\r\n\t\tif (size === 'xs') {\r\n\t\t\treturn 'w-[16rem]';\r\n\t\t} else if (size === 'sm') {\r\n\t\t\treturn 'w-[30rem]';\r\n\t\t} else if (size === 'md') {\r\n\t\t\treturn 'w-[42rem]';\r\n\t\t} else {\r\n\t\t\treturn 'w-[56rem]';\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleKeyDown = (event: KeyboardEvent) => {\r\n\t\tif (event.key === 'Escape' && isTopModal()) {\r\n\t\t\tconsole.log('Escape');\r\n\t\t\tshow = false;\r\n\t\t}\r\n\t};\r\n\r\n\tconst isTopModal = () => {\r\n\t\tconst modals = document.getElementsByClassName('modal');\r\n\t\treturn modals.length && modals[modals.length - 1] === modalElement;\r\n\t};\r\n\r\n\tonMount(() => {\r\n\t\tmounted = true;\r\n\t});\r\n\r\n\t$: if (show && modalElement) {\r\n\t\tdocument.body.appendChild(modalElement);\r\n\t\twindow.addEventListener('keydown', handleKeyDown);\r\n\t\tdocument.body.style.overflow = 'hidden';\r\n\t} else if (modalElement) {\r\n\t\twindow.removeEventListener('keydown', handleKeyDown);\r\n\t\tdocument.body.removeChild(modalElement);\r\n\t\tdocument.body.style.overflow = 'unset';\r\n\t}\r\n\r\n\tonDestroy(() => {\r\n\t\tshow = false;\r\n\t\tif (modalElement) {\r\n\t\t\tdocument.body.removeChild(modalElement);\r\n\t\t}\r\n\t});\r\n</script>\r\n\r\n{#if show}\r\n\t<!-- svelte-ignore a11y-click-events-have-key-events -->\r\n\t<!-- svelte-ignore a11y-no-static-element-interactions -->\r\n\t<div\r\n\t\tbind:this={modalElement}\r\n\t\tclass=\"modal fixed top-0 right-0 left-0 bottom-0 bg-black/60 w-full h-screen max-h-[100dvh] {containerClassName} flex justify-center z-9999 overflow-y-auto overscroll-contain\"\r\n\t\tin:fade={{ duration: 10 }}\r\n\t\ton:mousedown={() => {\r\n\t\t\tshow = false;\r\n\t\t}}\r\n\t>\r\n\t\t<div\r\n\t\t\tclass=\"m-auto max-w-full {sizeToWidth(size)} {size !== 'full'\r\n\t\t\t\t? 'mx-2'\r\n\t\t\t\t: ''} shadow-3xl min-h-fit scrollbar-hidden {className}\"\r\n\t\t\tin:flyAndScale\r\n\t\t\ton:mousedown={(e) => {\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<slot />\r\n\t\t</div>\r\n\t</div>\r\n{/if}\r\n\r\n<style>\r\n\t.modal-content {\r\n\t\tanimation: scaleUp 0.1s ease-out forwards;\r\n\t}\r\n\r\n\t@keyframes scaleUp {\r\n\t\tfrom {\r\n\t\t\ttransform: scale(0.985);\r\n\t\t\topacity: 0;\r\n\t\t}\r\n\t\tto {\r\n\t\t\ttransform: scale(1);\r\n\t\t\topacity: 1;\r\n\t\t}\r\n\t}\r\n</style>\r\n"],"names":["ctx","insert_hydration","target","div1","anchor","append_hydration","div0","div1_intro","create_in_transition","fade","create_if_block","e","show","$$props","size","containerClassName","className","modalElement","sizeToWidth","handleKeyDown","event","isTopModal","modals","onMount","onDestroy","$$value","$$invalidate"],"mappings":"glBA2E6BA,EAAW,CAAA,EAACA,EAAI,CAAA,CAAA,EAAA,KAAIA,EAAI,CAAA,IAAK,OACpD,OACA,IAAE,0CAAyCA,EAAS,CAAA,EAAA,gBAAA,wGATqCA,EAAkB,CAAA,EAAA,8EAAA,UAFhHC,EAmBMC,EAAAC,EAAAC,CAAA,EAXLC,EAUMF,EAAAG,CAAA,sMATqBN,EAAW,CAAA,EAACA,EAAI,CAAA,CAAA,EAAA,KAAIA,EAAI,CAAA,IAAK,OACpD,OACA,IAAE,0CAAyCA,EAAS,CAAA,EAAA,4IATqCA,EAAkB,CAAA,EAAA,uKACpGO,EAAAC,EAAAL,EAAAM,EAAA,CAAA,SAAU,EAAE,CAAA,8GANpBT,EAAI,CAAA,GAAAU,EAAAV,CAAA,8FAAJA,EAAI,CAAA,+KAgBSW,GAAC,CACfA,EAAE,gBAAe,oDA1ET,KAAAC,EAAO,EAAA,EAAAC,GACP,KAAAC,EAAO,IAAA,EAAAD,GACP,mBAAAE,EAAqB,KAAA,EAAAF,GACrB,UAAAG,EAAY,uCAAA,EAAAH,EAEnBI,EAAe,WAGbC,EAAeJ,GAChBA,IAAS,OACL,SAEJA,IAAS,KACL,YACGA,IAAS,KACZ,YACGA,IAAS,KACZ,YAEA,YAIHK,EAAiBC,GAAA,CAClBA,EAAM,MAAQ,UAAYC,EAAA,IAC7B,QAAQ,IAAI,QAAQ,MACpBT,EAAO,EAAA,IAIHS,EAAA,IAAA,OACCC,EAAS,SAAS,uBAAuB,OAAO,EAC/C,OAAAA,EAAO,QAAUA,EAAOA,EAAO,OAAS,CAAC,IAAML,GAGvDM,EAAA,IAAA,IAcAC,EAAA,IAAA,KACCZ,EAAO,EAAA,EACHK,GACH,SAAS,KAAK,YAAYA,CAAY,6CAS5BA,EAAYQ,wBAItBC,EAAA,EAAAd,EAAO,EAAK,sOA1BPA,GAAQK,GACd,SAAS,KAAK,YAAYA,CAAY,EACtC,OAAO,iBAAiB,UAAWE,CAAa,EAChD,SAAS,KAAK,MAAM,SAAW,UACrBF,IACV,OAAO,oBAAoB,UAAWE,CAAa,EACnD,SAAS,KAAK,YAAYF,CAAY,EACtC,SAAS,KAAK,MAAM,SAAW"}