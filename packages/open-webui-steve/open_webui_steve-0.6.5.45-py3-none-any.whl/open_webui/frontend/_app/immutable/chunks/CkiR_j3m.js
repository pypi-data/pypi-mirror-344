import{s as Pt,D as Re,E as Ye,a as O,d,f as _,i as S,g as $,n as de,y as Bt,A as qt,j as pe,p as Ht,F as jt,q as Ft,k as F,o as U,C as Ge,e as C,c as T,r as Ut,v as Zt,w as Wt,x as Rt,P as ye,t as J,b as K,h as Q,B as Je,u as ie,H as St,S as we,V as Ke}from"./25wJL1Su.js";import{S as At,i as Lt,f as Yt,b as X,d as x,m as ee,t as M,a as A,e as te,g as oe,c as se}from"./CPwzRg77.js";import{e as ce}from"./DhTevsA5.js";import"./DNNm3mSk.js";import{M as Gt,a as Jt,b as Kt}from"./w3uxpEZk.js";import{t as he,m as Qe}from"./8ef81IiG.js";import{F as Qt}from"./CU2r43ac.js";import{f as Xt}from"./g5t9vw8M.js";import{C as xt}from"./D5EPYQvq.js";import{C as el}from"./TxagYYJX.js";import{S as tl}from"./D908UVn8.js";import{g as ll,p as rl,d as nl}from"./BmSKczVs.js";import{M as be,a as al,c as ol,i as sl,u as il,l as Xe,m as fl}from"./Cd_5PT-V.js";import{s as ul,f as xe}from"./ZGe3o3eu.js";import{g as cl}from"./B6Smsz5d.js";import{T as me}from"./CQPtd9kS.js";import{S as dl}from"./B_7p7aPB.js";import{g as ml}from"./CJqw8RZz.js";function hl(r){let e,t;return{c(){e=Re("svg"),t=Re("path"),this.h()},l(l){e=Ye(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var n=O(e);t=Ye(n,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),O(t).forEach(d),n.forEach(d),this.h()},h(){_(t,"stroke-linecap","round"),_(t,"stroke-linejoin","round"),_(t,"d","M12 20.25c4.97 0 9-3.694 9-8.25s-4.03-8.25-9-8.25S3 7.444 3 12c0 2.104.859 4.023 2.273 5.48.432.447.74 1.04.586 1.641a4.483 4.483 0 0 1-.923 1.785A5.969 5.969 0 0 0 6 21c1.282 0 2.47-.402 3.445-1.087.81.22 1.668.337 2.555.337Z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"fill","none"),_(e,"viewBox","0 0 24 24"),_(e,"stroke-width",r[1]),_(e,"stroke","currentColor"),_(e,"class",r[0])},m(l,n){S(l,e,n),$(e,t)},p(l,[n]){n&2&&_(e,"stroke-width",l[1]),n&1&&_(e,"class",l[0])},i:de,o:de,d(l){l&&d(e)}}}function _l(r,e,t){let{className:l="size-4"}=e,{strokeWidth:n="1.5"}=e;return r.$$set=a=>{"className"in a&&t(0,l=a.className),"strokeWidth"in a&&t(1,n=a.strokeWidth)},[l,n]}class pl extends At{constructor(e){super(),Lt(this,e,_l,hl,Pt,{className:0,strokeWidth:1})}}function et(r,e,t){const l=r.slice();return l[48]=e[t],l}function tt(r,e,t){const l=r.slice();return l[51]=e[t],l[53]=t,l}function lt(r,e,t){const l=r.slice();return l[54]=e[t],l}function rt(r,e,t){const l=r.slice();return l[54]=e[t],l}function nt(r,e,t){const l=r.slice();return l[54]=e[t],l}function gl(r){let e;return{c(){e=J(r[2])},l(t){e=K(t,r[2])},m(t,l){S(t,e,l)},p(t,l){l[0]&4&&Q(e,t[2])},d(t){t&&d(e)}}}function vl(r){let e=r[15].label+"",t;return{c(){t=J(e)},l(l){t=K(l,e)},m(l,n){S(l,t,n)},p(l,n){n[0]&32768&&e!==(e=l[15].label+"")&&Q(t,e)},d(l){l&&d(t)}}}function bl(r){let e,t,l,n,a;function o(c,f){return c[15]?vl:gl}let s=o(r),i=s(r);return l=new xt({props:{className:" self-center ml-2 size-3",strokeWidth:"2.5"}}),{c(){e=C("div"),i.c(),t=F(),X(l.$$.fragment),this.h()},l(c){e=T(c,"DIV",{class:!0});var f=O(e);i.l(f),t=U(f),x(l.$$.fragment,f),f.forEach(d),this.h()},h(){_(e,"class",n="flex w-full text-left px-0.5 outline-hidden bg-transparent truncate "+r[8]+" justify-between font-medium placeholder-gray-400 focus:outline-hidden")},m(c,f){S(c,e,f),i.m(e,null),$(e,t),ee(l,e,null),a=!0},p(c,f){s===(s=o(c))&&i?i.p(c,f):(i.d(1),i=s(c),i&&(i.c(),i.m(e,t))),(!a||f[0]&256&&n!==(n="flex w-full text-left px-0.5 outline-hidden bg-transparent truncate "+c[8]+" justify-between font-medium placeholder-gray-400 focus:outline-hidden"))&&_(e,"class",n)},i(c){a||(M(l.$$.fragment,c),a=!0)},o(c){A(l.$$.fragment,c),a=!1},d(c){c&&d(e),i.d(),te(l)}}}function at(r){let e,t,l,n,a,o,s;return t=new tl({props:{className:"size-4",strokeWidth:"2.5"}}),{c(){e=C("div"),X(t.$$.fragment),l=F(),n=C("input"),this.h()},l(i){e=T(i,"DIV",{class:!0});var c=O(e);x(t.$$.fragment,c),l=U(c),n=T(c,"INPUT",{id:!0,class:!0,placeholder:!0,autocomplete:!0}),c.forEach(d),this.h()},h(){_(n,"id","model-search-input"),_(n,"class","w-full text-sm bg-transparent outline-hidden"),_(n,"placeholder",r[4]),_(n,"autocomplete","off"),_(e,"class","flex items-center gap-2.5 px-5 mt-3.5 mb-1.5")},m(i,c){S(i,e,c),ee(t,e,null),$(e,l),$(e,n),Je(n,r[9]),a=!0,o||(s=[ie(n,"input",r[29]),ie(n,"keydown",r[30])],o=!0)},p(i,c){(!a||c[0]&16)&&_(n,"placeholder",i[4]),c[0]&512&&n.value!==i[9]&&Je(n,i[9])},i(i){a||(M(t.$$.fragment,i),a=!0)},o(i){A(t.$$.fragment,i),a=!1},d(i){i&&d(e),te(t),o=!1,St(s)}}}function ot(r){let e,t,l=r[6].find(Tt)&&r[6].find(It)||r[6].find(zt)||r[14].length>0,n,a=r[6].find(Mt)&&r[6].find(Ct),o,s=r[6].find(Vt),i,c,f,g=l&&st(r),y=a&&it(r),v=s&&ft(r),b=ce(r[14]),p=[];for(let h=0;h<b.length;h+=1)p[h]=ut(nt(r,b,h));return{c(){e=C("div"),t=C("div"),g&&g.c(),n=F(),y&&y.c(),o=F(),v&&v.c(),i=F();for(let h=0;h<p.length;h+=1)p[h].c();this.h()},l(h){e=T(h,"DIV",{class:!0});var D=O(e);t=T(D,"DIV",{class:!0});var E=O(t);g&&g.l(E),n=U(E),y&&y.l(E),o=U(E),v&&v.l(E),i=U(E);for(let V=0;V<p.length;V+=1)p[V].l(E);E.forEach(d),D.forEach(d),this.h()},h(){_(t,"class","flex gap-1 w-fit text-center text-sm font-medium rounded-full bg-transparent px-1.5 pb-0.5"),_(e,"class","flex w-full sticky top-0 z-10 bg-white dark:bg-gray-850 overflow-x-auto scrollbar-none")},m(h,D){S(h,e,D),$(e,t),g&&g.m(t,null),$(t,n),y&&y.m(t,null),$(t,o),v&&v.m(t,null),$(t,i);for(let E=0;E<p.length;E+=1)p[E]&&p[E].m(t,null);r[36](t),c||(f=ie(e,"wheel",Al),c=!0)},p(h,D){if(D[0]&16448&&(l=h[6].find(Tt)&&h[6].find(It)||h[6].find(zt)||h[14].length>0),l?g?g.p(h,D):(g=st(h),g.c(),g.m(t,n)):g&&(g.d(1),g=null),D[0]&64&&(a=h[6].find(Mt)&&h[6].find(Ct)),a?y?y.p(h,D):(y=it(h),y.c(),y.m(t,o)):y&&(y.d(1),y=null),D[0]&64&&(s=h[6].find(Vt)),s?v?v.p(h,D):(v=ft(h),v.c(),v.m(t,i)):v&&(v.d(1),v=null),D[0]&19456){b=ce(h[14]);let E;for(E=0;E<b.length;E+=1){const V=nt(h,b,E);p[E]?p[E].p(V,D):(p[E]=ut(V),p[E].c(),p[E].m(t,null))}for(;E<p.length;E+=1)p[E].d(1);p.length=b.length}},d(h){h&&d(e),g&&g.d(),y&&y.d(),v&&v.d(),ye(p,h),r[36](null),c=!1,f()}}}function st(r){let e,t=r[20].t("All")+"",l,n,a,o;return{c(){e=C("button"),l=J(t),this.h()},l(s){e=T(s,"BUTTON",{class:!0});var i=O(e);l=K(i,t),i.forEach(d),this.h()},h(){_(e,"class",n="min-w-fit outline-none py-2 px-3 "+(r[10]===""&&r[11]===""?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")},m(s,i){S(s,e,i),$(e,l),a||(o=ie(e,"click",r[31]),a=!0)},p(s,i){i[0]&1048576&&t!==(t=s[20].t("All")+"")&&Q(l,t),i[0]&3072&&n!==(n="min-w-fit outline-none py-2 px-3 "+(s[10]===""&&s[11]===""?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&_(e,"class",n)},d(s){s&&d(e),a=!1,o()}}}function it(r){let e,t=r[20].t("Local")+"",l,n,a,o,s=r[20].t("External")+"",i,c,f,g;return{c(){e=C("button"),l=J(t),a=F(),o=C("button"),i=J(s),this.h()},l(y){e=T(y,"BUTTON",{class:!0});var v=O(e);l=K(v,t),v.forEach(d),a=U(y),o=T(y,"BUTTON",{class:!0});var b=O(o);i=K(b,s),b.forEach(d),this.h()},h(){_(e,"class",n="min-w-fit outline-none py-2 px-3 "+(r[11]==="ollama"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize"),_(o,"class",c="min-w-fit outline-none py-2 px-3 "+(r[11]==="openai"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")},m(y,v){S(y,e,v),$(e,l),S(y,a,v),S(y,o,v),$(o,i),f||(g=[ie(e,"click",r[32]),ie(o,"click",r[33])],f=!0)},p(y,v){v[0]&1048576&&t!==(t=y[20].t("Local")+"")&&Q(l,t),v[0]&2048&&n!==(n="min-w-fit outline-none py-2 px-3 "+(y[11]==="ollama"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&_(e,"class",n),v[0]&1048576&&s!==(s=y[20].t("External")+"")&&Q(i,s),v[0]&2048&&c!==(c="min-w-fit outline-none py-2 px-3 "+(y[11]==="openai"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&_(o,"class",c)},d(y){y&&(d(e),d(a),d(o)),f=!1,St(g)}}}function ft(r){let e,t=r[20].t("Direct")+"",l,n,a,o;return{c(){e=C("button"),l=J(t),this.h()},l(s){e=T(s,"BUTTON",{class:!0});var i=O(e);l=K(i,t),i.forEach(d),this.h()},h(){_(e,"class",n="min-w-fit outline-none py-2 px-3 "+(r[11]==="direct"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")},m(s,i){S(s,e,i),$(e,l),a||(o=ie(e,"click",r[34]),a=!0)},p(s,i){i[0]&1048576&&t!==(t=s[20].t("Direct")+"")&&Q(l,t),i[0]&2048&&n!==(n="min-w-fit outline-none py-2 px-3 "+(s[11]==="direct"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&_(e,"class",n)},d(s){s&&d(e),a=!1,o()}}}function ut(r){let e,t=r[54]+"",l,n,a,o,s;function i(){return r[35](r[54])}return{c(){e=C("button"),l=J(t),n=F(),this.h()},l(c){e=T(c,"BUTTON",{class:!0});var f=O(e);l=K(f,t),n=U(f),f.forEach(d),this.h()},h(){_(e,"class",a="min-w-fit outline-none py-2 px-3 "+(r[10]===r[54]?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")},m(c,f){S(c,e,f),$(e,l),$(e,n),o||(s=ie(e,"click",i),o=!0)},p(c,f){r=c,f[0]&16384&&t!==(t=r[54]+"")&&Q(l,t),f[0]&17408&&a!==(a="min-w-fit outline-none py-2 px-3 "+(r[10]===r[54]?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&_(e,"class",a)},d(c){c&&d(e),o=!1,s()}}}function ct(r){let e,t,l=r[20].t("No results found")+"",n;return{c(){e=C("div"),t=C("div"),n=J(l),this.h()},l(a){e=T(a,"DIV",{class:!0});var o=O(e);t=T(o,"DIV",{class:!0});var s=O(t);n=K(s,l),s.forEach(d),o.forEach(d),this.h()},h(){_(t,"class","block px-3 py-2 text-sm text-gray-700 dark:text-gray-100"),_(e,"class","")},m(a,o){S(a,e,o),$(e,t),$(t,n)},p(a,o){o[0]&1048576&&l!==(l=a[20].t("No results found")+"")&&Q(n,l)},d(a){a&&d(e)}}}function dt(r){var n;let e,t=ce((n=r[51].model)==null?void 0:n.tags.sort(Nt)),l=[];for(let a=0;a<t.length;a+=1)l[a]=mt(rt(r,t,a));return{c(){e=C("div");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=T(a,"DIV",{class:!0});var o=O(e);for(let s=0;s<l.length;s+=1)l[s].l(o);o.forEach(d),this.h()},h(){_(e,"class","flex gap-0.5 self-start h-full mb-1.5 -translate-x-1")},m(a,o){S(a,e,o);for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(e,null)},p(a,o){var s;if(o[0]&262144){t=ce((s=a[51].model)==null?void 0:s.tags.sort(Nt));let i;for(i=0;i<t.length;i+=1){const c=rt(a,t,i);l[i]?l[i].p(c,o):(l[i]=mt(c),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(a){a&&d(e),ye(l,a)}}}function mt(r){let e,t=r[54].name+"",l,n;return{c(){e=C("div"),l=J(t),n=F(),this.h()},l(a){e=T(a,"DIV",{class:!0});var o=O(e);l=K(o,t),n=U(o),o.forEach(d),this.h()},h(){_(e,"class","text-xs font-bold px-1 rounded-sm uppercase line-clamp-1 bg-gray-500/20 text-gray-700 dark:text-gray-200")},m(a,o){S(a,e,o),$(e,l),$(e,n)},p(a,o){o[0]&262144&&t!==(t=a[54].name+"")&&Q(l,t)},d(a){a&&d(e)}}}function ht(r){var n,a,o,s,i,c;let e,t,l;return t=new me({props:{content:`${(a=(n=r[51].model.ollama)==null?void 0:n.details)!=null&&a.quantization_level?((s=(o=r[51].model.ollama)==null?void 0:o.details)==null?void 0:s.quantization_level)+" ":""}${(i=r[51].model.ollama)!=null&&i.size?`(${(((c=r[51].model.ollama)==null?void 0:c.size)/1024**3).toFixed(1)}GB)`:""}`,className:"self-end",$$slots:{default:[wl]},$$scope:{ctx:r}}}),{c(){e=C("div"),X(t.$$.fragment),this.h()},l(f){e=T(f,"DIV",{class:!0});var g=O(e);x(t.$$.fragment,g),g.forEach(d),this.h()},h(){_(e,"class","flex ml-1 items-center translate-y-[0.5px]")},m(f,g){S(f,e,g),ee(t,e,null),l=!0},p(f,g){var v,b,p,h,D,E;const y={};g[0]&262144&&(y.content=`${(b=(v=f[51].model.ollama)==null?void 0:v.details)!=null&&b.quantization_level?((h=(p=f[51].model.ollama)==null?void 0:p.details)==null?void 0:h.quantization_level)+" ":""}${(D=f[51].model.ollama)!=null&&D.size?`(${(((E=f[51].model.ollama)==null?void 0:E.size)/1024**3).toFixed(1)}GB)`:""}`),g[0]&262144|g[1]&4096&&(y.$$scope={dirty:g,ctx:f}),t.$set(y)},i(f){l||(M(t.$$.fragment,f),l=!0)},o(f){A(t.$$.fragment,f),l=!1},d(f){f&&d(e),te(t)}}}function wl(r){var n,a;let e,t=(((a=(n=r[51].model.ollama)==null?void 0:n.details)==null?void 0:a.parameter_size)??"")+"",l;return{c(){e=C("span"),l=J(t),this.h()},l(o){e=T(o,"SPAN",{class:!0});var s=O(e);l=K(s,t),s.forEach(d),this.h()},h(){_(e,"class","text-xs font-medium text-gray-600 dark:text-gray-400 line-clamp-1")},m(o,s){S(o,e,s),$(e,l)},p(o,s){var i,c;s[0]&262144&&t!==(t=(((c=(i=o[51].model.ollama)==null?void 0:i.details)==null?void 0:c.parameter_size)??"")+"")&&Q(l,t)},d(o){o&&d(e)}}}function kl(r){var g,y;let e,t,l,n,a,o=r[51].label+"",s,i,c,f=r[51].model.owned_by==="ollama"&&(((y=(g=r[51].model.ollama)==null?void 0:g.details)==null?void 0:y.parameter_size)??"")!==""&&ht(r);return{c(){e=C("img"),l=F(),n=C("div"),a=C("div"),s=J(o),i=F(),f&&f.c(),this.h()},l(v){e=T(v,"IMG",{src:!0,alt:!0,class:!0}),l=U(v),n=T(v,"DIV",{class:!0});var b=O(n);a=T(b,"DIV",{class:!0});var p=O(a);s=K(p,o),p.forEach(d),i=U(b),f&&f.l(b),b.forEach(d),this.h()},h(){var v,b,p;Ke(e.src,t=((p=(b=(v=r[51].model)==null?void 0:v.info)==null?void 0:b.meta)==null?void 0:p.profile_image_url)??"/static/favicon.png")||_(e,"src",t),_(e,"alt","Model"),_(e,"class","rounded-full size-5 flex items-center mr-2"),_(a,"class","line-clamp-1"),_(n,"class","flex items-center line-clamp-1")},m(v,b){S(v,e,b),S(v,l,b),S(v,n,b),$(n,a),$(a,s),$(n,i),f&&f.m(n,null),c=!0},p(v,b){var p,h,D,E,V;(!c||b[0]&262144&&!Ke(e.src,t=((D=(h=(p=v[51].model)==null?void 0:p.info)==null?void 0:h.meta)==null?void 0:D.profile_image_url)??"/static/favicon.png"))&&_(e,"src",t),(!c||b[0]&262144)&&o!==(o=v[51].label+"")&&Q(s,o),v[51].model.owned_by==="ollama"&&(((V=(E=v[51].model.ollama)==null?void 0:E.details)==null?void 0:V.parameter_size)??"")!==""?f?(f.p(v,b),b[0]&262144&&M(f,1)):(f=ht(v),f.c(),M(f,1),f.m(n,null)):f&&(oe(),A(f,1,1,()=>{f=null}),se())},i(v){c||(M(f),c=!0)},o(v){A(f),c=!1},d(v){v&&(d(e),d(l),d(n)),f&&f.d()}}}function yl(r){let e,t;return e=new me({props:{content:"External",$$slots:{default:[El]},$$scope:{ctx:r}}}),{c(){X(e.$$.fragment)},l(l){x(e.$$.fragment,l)},m(l,n){ee(e,l,n),t=!0},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){te(e,l)}}}function $l(r){let e,t;return e=new me({props:{content:"Direct",$$slots:{default:[Dl]},$$scope:{ctx:r}}}),{c(){X(e.$$.fragment)},l(l){x(e.$$.fragment,l)},m(l,n){ee(e,l,n),t=!0},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){te(e,l)}}}function El(r){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-3"><path fill-rule="evenodd" d="M8.914 6.025a.75.75 0 0 1 1.06 0 3.5 3.5 0 0 1 0 4.95l-2 2a3.5 3.5 0 0 1-5.396-4.402.75.75 0 0 1 1.251.827 2 2 0 0 0 3.085 2.514l2-2a2 2 0 0 0 0-2.828.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M7.086 9.975a.75.75 0 0 1-1.06 0 3.5 3.5 0 0 1 0-4.95l2-2a3.5 3.5 0 0 1 5.396 4.402.75.75 0 0 1-1.251-.827 2 2 0 0 0-3.085-2.514l-2 2a2 2 0 0 0 0 2.828.75.75 0 0 1 0 1.06Z" clip-rule="evenodd"></path></svg>';return{c(){e=C("div"),e.innerHTML=t,this.h()},l(l){e=T(l,"DIV",{class:!0,"data-svelte-h":!0}),we(e)!=="svelte-n3uai6"&&(e.innerHTML=t),this.h()},h(){_(e,"class","translate-y-[1px]")},m(l,n){S(l,e,n)},p:de,d(l){l&&d(e)}}}function Dl(r){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-3"><path fill-rule="evenodd" d="M2 2.75A.75.75 0 0 1 2.75 2C8.963 2 14 7.037 14 13.25a.75.75 0 0 1-1.5 0c0-5.385-4.365-9.75-9.75-9.75A.75.75 0 0 1 2 2.75Zm0 4.5a.75.75 0 0 1 .75-.75 6.75 6.75 0 0 1 6.75 6.75.75.75 0 0 1-1.5 0C8 10.35 5.65 8 2.75 8A.75.75 0 0 1 2 7.25ZM3.5 11a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z" clip-rule="evenodd"></path></svg>';return{c(){e=C("div"),e.innerHTML=t,this.h()},l(l){e=T(l,"DIV",{class:!0,"data-svelte-h":!0}),we(e)!=="svelte-1dup7go"&&(e.innerHTML=t),this.h()},h(){_(e,"class","translate-y-[1px]")},m(l,n){S(l,e,n)},p:de,d(l){l&&d(e)}}}function _t(r){var l,n,a,o,s,i,c,f,g,y,v,b;let e,t;return e=new me({props:{content:(a=(n=(l=r[51].model)==null?void 0:l.info)==null?void 0:n.price)!=null&&a.request_price?`${r[20].t("Price For 1M Requests")}: ${((i=(s=(o=r[51].model)==null?void 0:o.info)==null?void 0:s.price)==null?void 0:i.request_price)??0}`:`${r[20].t("Prompt Price For 1M Tokens")}: ${((g=(f=(c=r[51].model)==null?void 0:c.info)==null?void 0:f.price)==null?void 0:g.prompt_price)??0}<br/>${r[20].t("Completion Price For 1M Tokens")}: ${((b=(v=(y=r[51].model)==null?void 0:y.info)==null?void 0:v.price)==null?void 0:b.completion_price)??0}<br/>`,$$slots:{default:[Vl]},$$scope:{ctx:r}}}),{c(){X(e.$$.fragment)},l(p){x(e.$$.fragment,p)},m(p,h){ee(e,p,h),t=!0},p(p,h){var E,V,Y,Z,z,j,k,W,q,P,B,N;const D={};h[0]&1310720&&(D.content=(Y=(V=(E=p[51].model)==null?void 0:E.info)==null?void 0:V.price)!=null&&Y.request_price?`${p[20].t("Price For 1M Requests")}: ${((j=(z=(Z=p[51].model)==null?void 0:Z.info)==null?void 0:z.price)==null?void 0:j.request_price)??0}`:`${p[20].t("Prompt Price For 1M Tokens")}: ${((q=(W=(k=p[51].model)==null?void 0:k.info)==null?void 0:W.price)==null?void 0:q.prompt_price)??0}<br/>${p[20].t("Completion Price For 1M Tokens")}: ${((N=(B=(P=p[51].model)==null?void 0:P.info)==null?void 0:B.price)==null?void 0:N.completion_price)??0}<br/>`),h[1]&4096&&(D.$$scope={dirty:h,ctx:p}),e.$set(D)},i(p){t||(M(e.$$.fragment,p),t=!0)},o(p){A(e.$$.fragment,p),t=!1},d(p){te(e,p)}}}function Vl(r){let e,t='<svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="13" height="13"><path d="M512 0C229.23 0 0 229.23 0 512s229.23 512 512 512 512-229.23 512-512S794.77 0 512 0z m316.78 828.78a446.4 446.4 0 1 1 96-142.42 446.59 446.59 0 0 1-96 142.42z" fill="#1F1F21"></path><path d="M672 512a32 32 0 0 0 0-64H557.25l137.38-137.37a32 32 0 0 0-45.25-45.25L512 402.75 374.63 265.37a32 32 0 0 0-45.25 45.25L466.75 448H352a32 32 0 0 0 0 64h128v64H352a32 32 0 0 0 0 64h128v96a32 32 0 0 0 64 0v-96h128a32 32 0 0 0 0-64H544v-64h128z" fill="#1F1F21"></path></svg>';return{c(){e=C("div"),e.innerHTML=t,this.h()},l(l){e=T(l,"DIV",{class:!0,"data-svelte-h":!0}),we(e)!=="svelte-1qhp8jn"&&(e.innerHTML=t),this.h()},h(){_(e,"class","translate-y-[1px]")},m(l,n){S(l,e,n)},p:de,d(l){l&&d(e)}}}function pt(r){var l,n,a;let e,t;return e=new me({props:{content:`${Qe.parse(xe((a=(n=(l=r[51].model)==null?void 0:l.info)==null?void 0:n.meta)==null?void 0:a.description).replaceAll(`
`,"<br>"))}`,$$slots:{default:[Ml]},$$scope:{ctx:r}}}),{c(){X(e.$$.fragment)},l(o){x(e.$$.fragment,o)},m(o,s){ee(e,o,s),t=!0},p(o,s){var c,f,g;const i={};s[0]&262144&&(i.content=`${Qe.parse(xe((g=(f=(c=o[51].model)==null?void 0:c.info)==null?void 0:f.meta)==null?void 0:g.description).replaceAll(`
`,"<br>"))}`),s[1]&4096&&(i.$$scope={dirty:s,ctx:o}),e.$set(i)},i(o){t||(M(e.$$.fragment,o),t=!0)},o(o){A(e.$$.fragment,o),t=!1},d(o){te(e,o)}}}function Ml(r){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"></path></svg>';return{c(){e=C("div"),e.innerHTML=t,this.h()},l(l){e=T(l,"DIV",{class:!0,"data-svelte-h":!0}),we(e)!=="svelte-1mqbvzr"&&(e.innerHTML=t),this.h()},h(){_(e,"class","translate-y-[1px]")},m(l,n){S(l,e,n)},p:de,d(l){l&&d(e)}}}function gt(r){var o;let e,t,l=ce((o=r[51].model)==null?void 0:o.tags.sort(Ot)),n=[];for(let s=0;s<l.length;s+=1)n[s]=vt(lt(r,l,s));const a=s=>A(n[s],1,1,()=>{n[s]=null});return{c(){e=C("div");for(let s=0;s<n.length;s+=1)n[s].c();this.h()},l(s){e=T(s,"DIV",{class:!0});var i=O(e);for(let c=0;c<n.length;c+=1)n[c].l(i);i.forEach(d),this.h()},h(){_(e,"class","flex flex-wrap gap-0.5 self-center items-center h-full translate-y-[0.5px]")},m(s,i){S(s,e,i);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(e,null);t=!0},p(s,i){var c;if(i[0]&262144){l=ce((c=s[51].model)==null?void 0:c.tags.sort(Ot));let f;for(f=0;f<l.length;f+=1){const g=lt(s,l,f);n[f]?(n[f].p(g,i),M(n[f],1)):(n[f]=vt(g),n[f].c(),M(n[f],1),n[f].m(e,null))}for(oe(),f=l.length;f<n.length;f+=1)a(f);se()}},i(s){if(!t){for(let i=0;i<l.length;i+=1)M(n[i]);t=!0}},o(s){n=n.filter(Boolean);for(let i=0;i<n.length;i+=1)A(n[i]);t=!1},d(s){s&&d(e),ye(n,s)}}}function Cl(r){let e,t=r[54].name+"",l,n;return{c(){e=C("div"),l=J(t),n=F(),this.h()},l(a){e=T(a,"DIV",{class:!0});var o=O(e);l=K(o,t),o.forEach(d),n=U(a),this.h()},h(){_(e,"class","text-xs font-bold px-1.5 py-0.5 rounded-sm uppercase bg-gray-500/20 text-gray-700 dark:text-gray-200")},m(a,o){S(a,e,o),$(e,l),S(a,n,o)},p(a,o){o[0]&262144&&t!==(t=a[54].name+"")&&Q(l,t)},d(a){a&&(d(e),d(n))}}}function vt(r){let e,t;return e=new me({props:{content:r[54].name,className:"flex-shrink-0",$$slots:{default:[Cl]},$$scope:{ctx:r}}}),{c(){X(e.$$.fragment)},l(l){x(e.$$.fragment,l)},m(l,n){ee(e,l,n),t=!0},p(l,n){const a={};n[0]&262144&&(a.content=l[54].name),n[0]&262144|n[1]&4096&&(a.$$scope={dirty:n,ctx:l}),e.$set(a)},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){te(e,l)}}}function bt(r){let e,t,l;return t=new el({}),{c(){e=C("div"),X(t.$$.fragment),this.h()},l(n){e=T(n,"DIV",{class:!0});var a=O(e);x(t.$$.fragment,a),a.forEach(d),this.h()},h(){_(e,"class","ml-auto pl-2 pr-2 md:pr-0")},m(n,a){S(n,e,a),ee(t,e,null),l=!0},i(n){l||(M(t.$$.fragment,n),l=!0)},o(n){A(t.$$.fragment,n),l=!1},d(n){n&&d(e),te(t)}}}function wt(r){var w,R,ue,H,fe,$e,Ee,De,Ve,Me,Ce,Te,Ie,ze,Ne,Oe,Pe,Be;let e,t,l,n,a,o,s,i,c,f,g,y,v,b,p,h,D,E,V,Y,Z,z=r[21]&&(((R=(w=r[51])==null?void 0:w.model)==null?void 0:R.tags)??[]).length>0&&dt(r);i=new me({props:{content:((ue=r[22])==null?void 0:ue.role)==="admin"?((H=r[51])==null?void 0:H.value)??"":"",placement:"top-start",$$slots:{default:[kl]},$$scope:{ctx:r}}});const j=[$l,yl],k=[];function W(le,u){var I;return(I=le[51].model)!=null&&I.direct&&Et?0:le[51].model.owned_by==="openai"&&Et?1:-1}~(f=W(r))&&(g=k[f]=j[f](r));let q=(((Ee=($e=(fe=r[51].model)==null?void 0:fe.info)==null?void 0:$e.price)==null?void 0:Ee.request_price)||((Me=(Ve=(De=r[51].model)==null?void 0:De.info)==null?void 0:Ve.price)==null?void 0:Me.prompt_price)||((Ie=(Te=(Ce=r[51].model)==null?void 0:Ce.info)==null?void 0:Te.price)==null?void 0:Ie.completion_price))&&_t(r),P=((Oe=(Ne=(ze=r[51].model)==null?void 0:ze.info)==null?void 0:Ne.meta)==null?void 0:Oe.description)&&pt(r),B=!r[21]&&(((Be=(Pe=r[51])==null?void 0:Pe.model)==null?void 0:Be.tags)??[]).length>0&&gt(r),N=r[0]===r[51].value&&bt();function m(){return r[37](r[51],r[53])}return{c(){e=C("button"),t=C("div"),z&&z.c(),l=F(),n=C("div"),a=C("div"),o=C("div"),s=C("div"),X(i.$$.fragment),c=F(),g&&g.c(),y=F(),q&&q.c(),v=F(),P&&P.c(),b=F(),B&&B.c(),p=F(),N&&N.c(),this.h()},l(le){e=T(le,"BUTTON",{"aria-label":!0,class:!0,"data-arrow-selected":!0,"data-value":!0});var u=O(e);t=T(u,"DIV",{class:!0});var I=O(t);z&&z.l(I),l=U(I),n=T(I,"DIV",{class:!0});var L=O(n);a=T(L,"DIV",{class:!0});var G=O(a);o=T(G,"DIV",{class:!0});var ae=O(o);s=T(ae,"DIV",{class:!0});var re=O(s);x(i.$$.fragment,re),re.forEach(d),ae.forEach(d),G.forEach(d),c=U(L),g&&g.l(L),y=U(L),q&&q.l(L),v=U(L),P&&P.l(L),b=U(L),B&&B.l(L),L.forEach(d),I.forEach(d),p=U(u),N&&N.l(u),u.forEach(d),this.h()},h(){_(s,"class","flex items-center min-w-fit"),_(o,"class","line-clamp-1"),_(a,"class","flex items-center min-w-fit"),_(n,"class","flex items-center gap-2"),_(t,"class","flex flex-col"),_(e,"aria-label","model-item"),_(e,"class",h="flex w-full text-left font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted "+(r[53]===r[17]?"bg-gray-100 dark:bg-gray-800 group-hover:bg-transparent":"")),_(e,"data-arrow-selected",D=r[53]===r[17]),_(e,"data-value",E=r[51].value)},m(le,u){S(le,e,u),$(e,t),z&&z.m(t,null),$(t,l),$(t,n),$(n,a),$(a,o),$(o,s),ee(i,s,null),$(n,c),~f&&k[f].m(n,null),$(n,y),q&&q.m(n,null),$(n,v),P&&P.m(n,null),$(n,b),B&&B.m(n,null),$(e,p),N&&N.m(e,null),V=!0,Y||(Z=ie(e,"click",m),Y=!0)},p(le,u){var G,ae,re,_e,ge,ke,ne,ve,Se,Ae,Le,qe,He,je,Fe,Ue,Ze,We;r=le,r[21]&&(((ae=(G=r[51])==null?void 0:G.model)==null?void 0:ae.tags)??[]).length>0?z?z.p(r,u):(z=dt(r),z.c(),z.m(t,l)):z&&(z.d(1),z=null);const I={};u[0]&4456448&&(I.content=((re=r[22])==null?void 0:re.role)==="admin"?((_e=r[51])==null?void 0:_e.value)??"":""),u[0]&262144|u[1]&4096&&(I.$$scope={dirty:u,ctx:r}),i.$set(I);let L=f;f=W(r),f!==L&&(g&&(oe(),A(k[L],1,1,()=>{k[L]=null}),se()),~f?(g=k[f],g||(g=k[f]=j[f](r),g.c()),M(g,1),g.m(n,y)):g=null),(ne=(ke=(ge=r[51].model)==null?void 0:ge.info)==null?void 0:ke.price)!=null&&ne.request_price||(Ae=(Se=(ve=r[51].model)==null?void 0:ve.info)==null?void 0:Se.price)!=null&&Ae.prompt_price||(He=(qe=(Le=r[51].model)==null?void 0:Le.info)==null?void 0:qe.price)!=null&&He.completion_price?q?(q.p(r,u),u[0]&262144&&M(q,1)):(q=_t(r),q.c(),M(q,1),q.m(n,v)):q&&(oe(),A(q,1,1,()=>{q=null}),se()),(Ue=(Fe=(je=r[51].model)==null?void 0:je.info)==null?void 0:Fe.meta)!=null&&Ue.description?P?(P.p(r,u),u[0]&262144&&M(P,1)):(P=pt(r),P.c(),M(P,1),P.m(n,b)):P&&(oe(),A(P,1,1,()=>{P=null}),se()),!r[21]&&(((We=(Ze=r[51])==null?void 0:Ze.model)==null?void 0:We.tags)??[]).length>0?B?(B.p(r,u),u[0]&2359296&&M(B,1)):(B=gt(r),B.c(),M(B,1),B.m(n,null)):B&&(oe(),A(B,1,1,()=>{B=null}),se()),r[0]===r[51].value?N?u[0]&262145&&M(N,1):(N=bt(),N.c(),M(N,1),N.m(e,null)):N&&(oe(),A(N,1,1,()=>{N=null}),se()),(!V||u[0]&131072&&h!==(h="flex w-full text-left font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted "+(r[53]===r[17]?"bg-gray-100 dark:bg-gray-800 group-hover:bg-transparent":"")))&&_(e,"class",h),(!V||u[0]&131072&&D!==(D=r[53]===r[17]))&&_(e,"data-arrow-selected",D),(!V||u[0]&262144&&E!==(E=r[51].value))&&_(e,"data-value",E)},i(le){V||(M(i.$$.fragment,le),M(g),M(q),M(P),M(B),M(N),V=!0)},o(le){A(i.$$.fragment,le),A(g),A(q),A(P),A(B),A(N),V=!1},d(le){le&&d(e),z&&z.d(),te(i),~f&&k[f].d(),q&&q.d(),P&&P.d(),B&&B.d(),N&&N.d(),Y=!1,Z()}}}function kt(r){let e,t;return e=new me({props:{content:r[20].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:r[9]}),placement:"top-start",$$slots:{default:[Tl]},$$scope:{ctx:r}}}),{c(){X(e.$$.fragment)},l(l){x(e.$$.fragment,l)},m(l,n){ee(e,l,n),t=!0},p(l,n){const a={};n[0]&1049088&&(a.content=l[20].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:l[9]})),n[0]&1049088|n[1]&4096&&(a.$$scope={dirty:n,ctx:l}),e.$set(a)},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){te(e,l)}}}function Tl(r){let e,t,l=r[20].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:r[9]})+"",n,a,o;return{c(){e=C("button"),t=C("div"),n=J(l),this.h()},l(s){e=T(s,"BUTTON",{class:!0});var i=O(e);t=T(i,"DIV",{class:!0});var c=O(t);n=K(c,l),c.forEach(d),i.forEach(d),this.h()},h(){_(t,"class","truncate"),_(e,"class","flex w-full font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted")},m(s,i){S(s,e,i),$(e,t),$(t,n),a||(o=ie(e,"click",r[38]),a=!0)},p(s,i){i[0]&1049088&&l!==(l=s[20].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:s[9]})+"")&&Q(n,l)},d(s){s&&d(e),a=!1,o()}}}function yt(r){let e,t=r[19][r[48]].digest+"",l;return{c(){e=C("div"),l=J(t),this.h()},l(n){e=T(n,"DIV",{class:!0});var a=O(e);l=K(a,t),a.forEach(d),this.h()},h(){_(e,"class","-mt-1 h-fit text-[0.7rem] dark:text-gray-500 line-clamp-1")},m(n,a){S(n,e,a),$(e,l)},p(n,a){a[0]&524288&&t!==(t=n[19][n[48]].digest+"")&&Q(l,t)},d(n){n&&d(e)}}}function Il(r){let e,t='<svg class="w-4 h-4 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 17.94 6M18 18 6.06 6"></path></svg>',l,n;function a(){return r[39](r[48])}return{c(){e=C("button"),e.innerHTML=t,this.h()},l(o){e=T(o,"BUTTON",{class:!0,"data-svelte-h":!0}),we(e)!=="svelte-19bzgft"&&(e.innerHTML=t),this.h()},h(){_(e,"class","text-gray-800 dark:text-gray-100")},m(o,s){S(o,e,s),l||(n=ie(e,"click",a),l=!0)},p(o,s){r=o},d(o){o&&d(e),l=!1,n()}}}function $t(r){let e,t,l,n=`<svg class="size-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
											transform-origin: center;
											animation: spinner_AtaB 0.75s infinite linear;
										}
										@keyframes spinner_AtaB {
											100% {
												transform: rotate(360deg);
											}
										}
									</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`,a,o,s,i,c,f=r[48]+"",g,y,v,b,p="pullProgress"in r[19][r[48]]?`(${r[19][r[48]].pullProgress}%)`:"",h,D,E,V,Y,Z,z,j="digest"in r[19][r[48]]&&r[19][r[48]].digest&&yt(r);return Y=new me({props:{content:r[20].t("Cancel"),$$slots:{default:[Il]},$$scope:{ctx:r}}}),{c(){e=C("div"),t=C("div"),l=C("div"),l.innerHTML=n,a=F(),o=C("div"),s=C("div"),i=C("div"),c=J('Downloading "'),g=J(f),y=J('"'),v=F(),b=C("div"),h=J(p),D=F(),j&&j.c(),E=F(),V=C("div"),X(Y.$$.fragment),Z=F(),this.h()},l(k){e=T(k,"DIV",{class:!0});var W=O(e);t=T(W,"DIV",{class:!0});var q=O(t);l=T(q,"DIV",{class:!0,"data-svelte-h":!0}),we(l)!=="svelte-102rp4j"&&(l.innerHTML=n),a=U(q),o=T(q,"DIV",{class:!0});var P=O(o);s=T(P,"DIV",{class:!0});var B=O(s);i=T(B,"DIV",{class:!0});var N=O(i);c=K(N,'Downloading "'),g=K(N,f),y=K(N,'"'),N.forEach(d),v=U(B),b=T(B,"DIV",{class:!0});var m=O(b);h=K(m,p),m.forEach(d),B.forEach(d),D=U(P),j&&j.l(P),P.forEach(d),q.forEach(d),E=U(W),V=T(W,"DIV",{class:!0});var w=O(V);x(Y.$$.fragment,w),w.forEach(d),Z=U(W),W.forEach(d),this.h()},h(){_(l,"class","-ml-2 mr-2.5 translate-y-0.5"),_(i,"class","line-clamp-1"),_(b,"class","shrink-0"),_(s,"class","flex gap-1"),_(o,"class","flex flex-col self-start"),_(t,"class","flex"),_(V,"class","mr-2 ml-1 translate-y-0.5"),_(e,"class","flex w-full justify-between font-medium select-none rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 rounded-lg cursor-pointer data-highlighted:bg-muted")},m(k,W){S(k,e,W),$(e,t),$(t,l),$(t,a),$(t,o),$(o,s),$(s,i),$(i,c),$(i,g),$(i,y),$(s,v),$(s,b),$(b,h),$(o,D),j&&j.m(o,null),$(e,E),$(e,V),ee(Y,V,null),$(e,Z),z=!0},p(k,W){(!z||W[0]&524288)&&f!==(f=k[48]+"")&&Q(g,f),(!z||W[0]&524288)&&p!==(p="pullProgress"in k[19][k[48]]?`(${k[19][k[48]].pullProgress}%)`:"")&&Q(h,p),"digest"in k[19][k[48]]&&k[19][k[48]].digest?j?j.p(k,W):(j=yt(k),j.c(),j.m(o,null)):j&&(j.d(1),j=null);const q={};W[0]&1048576&&(q.content=k[20].t("Cancel")),W[0]&524288|W[1]&4096&&(q.$$scope={dirty:W,ctx:k}),Y.$set(q)},i(k){z||(M(Y.$$.fragment,k),z=!0)},o(k){A(Y.$$.fragment,k),z=!1},d(k){k&&d(e),j&&j.d(),te(Y)}}}function zl(r){let e;return{c(){e=C("div"),this.h()},l(t){e=T(t,"DIV",{class:!0}),O(e).forEach(d),this.h()},h(){_(e,"class","mb-3")},m(t,l){S(t,e,l)},p:de,i:de,o:de,d(t){t&&d(e)}}}function Nl(r){let e,t,l,n,a,o=r[20].t("Temporary Chat")+"",s,i,c,f,g,y,v;return n=new pl({props:{className:"size-4",strokeWidth:"2.5"}}),f=new dl({props:{state:r[23]}}),{c(){e=C("div"),t=C("button"),l=C("div"),X(n.$$.fragment),a=F(),s=J(o),i=F(),c=C("div"),X(f.$$.fragment),this.h()},l(b){e=T(b,"DIV",{class:!0});var p=O(e);t=T(p,"BUTTON",{class:!0});var h=O(t);l=T(h,"DIV",{class:!0});var D=O(l);x(n.$$.fragment,D),a=U(D),s=K(D,o),D.forEach(d),i=U(h),c=T(h,"DIV",{});var E=O(c);x(f.$$.fragment,E),E.forEach(d),h.forEach(d),p.forEach(d),this.h()},h(){_(l,"class","flex gap-2.5 items-center"),_(t,"class","flex justify-between w-full font-medium line-clamp-1 select-none items-center rounded-button py-2 px-3 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted"),_(e,"class","flex items-center mx-2 mb-2")},m(b,p){S(b,e,p),$(e,t),$(t,l),ee(n,l,null),$(l,a),$(l,s),$(t,i),$(t,c),ee(f,c,null),g=!0,y||(v=ie(t,"click",r[40]),y=!0)},p(b,p){(!g||p[0]&1048576)&&o!==(o=b[20].t("Temporary Chat")+"")&&Q(s,o);const h={};p[0]&8388608&&(h.state=b[23]),f.$set(h)},i(b){g||(M(n.$$.fragment,b),M(f.$$.fragment,b),g=!0)},o(b){A(n.$$.fragment,b),A(f.$$.fragment,b),g=!1},d(b){b&&d(e),te(n),te(f),y=!1,v()}}}function Ol(r){var N;let e,t,l=r[14]&&r[6].filter(Dt).length>0,n,a,o=!(r[9].trim()in r[19])&&r[9]&&r[16]&&((N=r[22])==null?void 0:N.role)==="admin",s,i,c,f,g,y,v,b,p,h=r[3]&&at(r),D=l&&ot(r),E=ce(r[18]),V=[];for(let m=0;m<E.length;m+=1)V[m]=wt(tt(r,E,m));const Y=m=>A(V[m],1,1,()=>{V[m]=null});let Z=null;E.length||(Z=ct(r));let z=o&&kt(r),j=ce(Object.keys(r[19])),k=[];for(let m=0;m<j.length;m+=1)k[m]=$t(et(r,j,m));const W=m=>A(k[m],1,1,()=>{k[m]=null}),q=[Nl,zl],P=[];function B(m,w){return m[5]?0:m[18].length===0?1:-1}return~(c=B(r))&&(f=P[c]=q[c](r)),{c(){h&&h.c(),e=F(),t=C("div"),D&&D.c(),n=F();for(let m=0;m<V.length;m+=1)V[m].c();Z&&Z.c(),a=F(),z&&z.c(),s=F();for(let m=0;m<k.length;m+=1)k[m].c();i=F(),f&&f.c(),g=F(),y=C("div"),v=F(),b=C("div"),this.h()},l(m){h&&h.l(m),e=U(m),t=T(m,"DIV",{class:!0});var w=O(t);D&&D.l(w),n=U(w);for(let R=0;R<V.length;R+=1)V[R].l(w);Z&&Z.l(w),a=U(w),z&&z.l(w),s=U(w);for(let R=0;R<k.length;R+=1)k[R].l(w);w.forEach(d),i=U(m),f&&f.l(m),g=U(m),y=T(m,"DIV",{class:!0}),O(y).forEach(d),v=U(m),b=T(m,"DIV",{class:!0}),O(b).forEach(d),this.h()},h(){_(t,"class","px-3 max-h-64 overflow-y-auto scrollbar-hidden group relative"),_(y,"class","hidden w-[42rem]"),_(b,"class","hidden w-[32rem]")},m(m,w){h&&h.m(m,w),S(m,e,w),S(m,t,w),D&&D.m(t,null),$(t,n);for(let R=0;R<V.length;R+=1)V[R]&&V[R].m(t,null);Z&&Z.m(t,null),$(t,a),z&&z.m(t,null),$(t,s);for(let R=0;R<k.length;R+=1)k[R]&&k[R].m(t,null);S(m,i,w),~c&&P[c].m(m,w),S(m,g,w),S(m,y,w),S(m,v,w),S(m,b,w),p=!0},p(m,w){var ue;if(m[3]?h?(h.p(m,w),w[0]&8&&M(h,1)):(h=at(m),h.c(),M(h,1),h.m(e.parentNode,e)):h&&(oe(),A(h,1,1,()=>{h=null}),se()),w[0]&16448&&(l=m[14]&&m[6].filter(Dt).length>0),l?D?D.p(m,w):(D=ot(m),D.c(),D.m(t,n)):D&&(D.d(1),D=null),w[0]&7741441){E=ce(m[18]);let H;for(H=0;H<E.length;H+=1){const fe=tt(m,E,H);V[H]?(V[H].p(fe,w),M(V[H],1)):(V[H]=wt(fe),V[H].c(),M(V[H],1),V[H].m(t,a))}for(oe(),H=E.length;H<V.length;H+=1)Y(H);se(),!E.length&&Z?Z.p(m,w):E.length?Z&&(Z.d(1),Z=null):(Z=ct(m),Z.c(),Z.m(t,a))}if(w[0]&4784640&&(o=!(m[9].trim()in m[19])&&m[9]&&m[16]&&((ue=m[22])==null?void 0:ue.role)==="admin"),o?z?(z.p(m,w),w[0]&4784640&&M(z,1)):(z=kt(m),z.c(),M(z,1),z.m(t,s)):z&&(oe(),A(z,1,1,()=>{z=null}),se()),w[0]&135790592){j=ce(Object.keys(m[19]));let H;for(H=0;H<j.length;H+=1){const fe=et(m,j,H);k[H]?(k[H].p(fe,w),M(k[H],1)):(k[H]=$t(fe),k[H].c(),M(k[H],1),k[H].m(t,null))}for(oe(),H=j.length;H<k.length;H+=1)W(H);se()}let R=c;c=B(m),c===R?~c&&P[c].p(m,w):(f&&(oe(),A(P[R],1,1,()=>{P[R]=null}),se()),~c?(f=P[c],f?f.p(m,w):(f=P[c]=q[c](m),f.c()),M(f,1),f.m(g.parentNode,g)):f=null)},i(m){if(!p){M(h);for(let w=0;w<E.length;w+=1)M(V[w]);M(z);for(let w=0;w<j.length;w+=1)M(k[w]);M(f),p=!0}},o(m){A(h),V=V.filter(Boolean);for(let w=0;w<V.length;w+=1)A(V[w]);A(z),k=k.filter(Boolean);for(let w=0;w<k.length;w+=1)A(k[w]);A(f),p=!1},d(m){m&&(d(e),d(t),d(i),d(g),d(y),d(v),d(b)),h&&h.d(m),D&&D.d(),ye(V,m),Z&&Z.d(),z&&z.d(),ye(k,m),~c&&P[c].d(m)}}}function Pl(r){let e;const t=r[28].default,l=Ut(t,r,r[43],null),n=l||Ol(r);return{c(){n&&n.c()},l(a){n&&n.l(a)},m(a,o){n&&n.m(a,o),e=!0},p(a,o){l?l.p&&(!e||o[1]&4096)&&Zt(l,t,a,a[43],e?Rt(t,a[43],o,null):Wt(a[43]),null):n&&n.p&&(!e||o[0]&16744057)&&n.p(a,e?o:[-1,-1])},i(a){e||(M(n,a),e=!0)},o(a){A(n,a),e=!1},d(a){n&&n.d(a)}}}function Bl(r){let e,t,l,n;return e=new Jt({props:{class:"relative w-full font-primary","aria-label":r[2],id:"model-selector-"+r[1]+"-button",$$slots:{default:[bl]},$$scope:{ctx:r}}}),l=new Kt({props:{class:" z-40 "+(r[21]?"w-full":`${r[7]}`)+" max-w-[calc(100vw-1rem)] justify-start rounded-xl  bg-white dark:bg-gray-850 dark:text-white shadow-lg  outline-hidden",transition:Xt,side:r[21]?"bottom":"bottom-start",sideOffset:3,$$slots:{default:[Pl]},$$scope:{ctx:r}}}),{c(){X(e.$$.fragment),t=F(),X(l.$$.fragment)},l(a){x(e.$$.fragment,a),t=U(a),x(l.$$.fragment,a)},m(a,o){ee(e,a,o),S(a,t,o),ee(l,a,o),n=!0},p(a,o){const s={};o[0]&4&&(s["aria-label"]=a[2]),o[0]&2&&(s.id="model-selector-"+a[1]+"-button"),o[0]&33028|o[1]&4096&&(s.$$scope={dirty:o,ctx:a}),e.$set(s);const i={};o[0]&2097280&&(i.class=" z-40 "+(a[21]?"w-full":`${a[7]}`)+" max-w-[calc(100vw-1rem)] justify-start rounded-xl  bg-white dark:bg-gray-850 dark:text-white shadow-lg  outline-hidden"),o[0]&2097152&&(i.side=a[21]?"bottom":"bottom-start"),o[0]&16744057|o[1]&4096&&(i.$$scope={dirty:o,ctx:a}),l.$set(i)},i(a){n||(M(e.$$.fragment,a),M(l.$$.fragment,a),n=!0)},o(a){A(e.$$.fragment,a),A(l.$$.fragment,a),n=!1},d(a){a&&d(t),te(e,a),te(l,a)}}}function Sl(r){let e,t,l;function n(o){r[42](o)}let a={onOpenChange:r[41],closeFocus:!1,$$slots:{default:[Bl]},$$scope:{ctx:r}};return r[13]!==void 0&&(a.open=r[13]),e=new Gt({props:a}),Bt.push(()=>Yt(e,"open",n)),{c(){X(e.$$.fragment)},l(o){x(e.$$.fragment,o)},m(o,s){ee(e,o,s),l=!0},p(o,s){const i={};s[0]&512&&(i.onOpenChange=o[41]),s[0]&16777215|s[1]&4096&&(i.$$scope={dirty:s,ctx:o}),!t&&s[0]&8192&&(t=!0,i.open=o[13],qt(()=>t=!1)),e.$set(i)},i(o){l||(M(e.$$.fragment,o),l=!0)},o(o){A(e.$$.fragment,o),l=!1},d(o){te(e,o)}}}let Et=!1;const Dt=r=>{var e,t,l;return!(((l=(t=(e=r.model)==null?void 0:e.info)==null?void 0:t.meta)==null?void 0:l.hidden)??!1)},Vt=r=>{var e;return(e=r.model)==null?void 0:e.direct},Mt=r=>{var e;return((e=r.model)==null?void 0:e.owned_by)==="ollama"},Ct=r=>{var e;return((e=r.model)==null?void 0:e.owned_by)==="openai"},Tt=r=>{var e;return((e=r.model)==null?void 0:e.owned_by)==="ollama"},It=r=>{var e;return((e=r.model)==null?void 0:e.owned_by)==="openai"},zt=r=>{var e;return(e=r.model)==null?void 0:e.direct},Al=r=>{r.deltaY!==0&&(r.preventDefault(),r.currentTarget.scrollLeft+=r.deltaY)},Nt=(r,e)=>r.name.localeCompare(e.name),Ot=(r,e)=>r.name.localeCompare(e.name);function Ll(r,e,t){let l,n,a,o,s,i,c,f;pe(r,be,u=>t(19,n=u)),pe(r,al,u=>t(44,o=u)),pe(r,ol,u=>t(45,s=u)),pe(r,sl,u=>t(21,i=u)),pe(r,il,u=>t(22,c=u)),pe(r,Xe,u=>t(23,f=u));let{$$slots:g={},$$scope:y}=e;const v=Ht("i18n");pe(r,v,u=>t(20,a=u)),jt();let{id:b=""}=e,{value:p=""}=e,{placeholder:h="Select a model"}=e,{searchEnabled:D=!0}=e,{searchPlaceholder:E=a.t("Search a model")}=e,{showTemporaryChatControl:V=!1}=e,{items:Y=[]}=e,{className:Z="w-[32rem]"}=e,{triggerClassName:z="text-lg"}=e,j,k=!1,W=[],q="",P="",B="",N="",m=null,w=0;const R=new Qt(Y.map(u=>{var L,G,ae,re,_e;return{...u,modelName:(L=u.model)==null?void 0:L.name,tags:(((G=u.model)==null?void 0:G.tags)??[]).map(ge=>ge.name).join(" "),desc:(_e=(re=(ae=u.model)==null?void 0:ae.info)==null?void 0:re.meta)==null?void 0:_e.description}}),{keys:["value","tags","modelName"],threshold:.4}),ue=async()=>{await Ge();const u=l.findIndex(L=>L.value===p);u>=0?t(17,w=u):t(17,w=0),await Ge();const I=document.querySelector('[data-arrow-selected="true"]');I==null||I.scrollIntoView({block:"center",inline:"nearest",behavior:"instant"})},H=async()=>{var G;const u=P.trim().replace(/^ollama\s+(run|pull)\s+/,"");if(console.log(n),n[u]){he.error(a.t("Model '{{modelTag}}' is already in queue for downloading.",{modelTag:u}));return}if(Object.keys(n).length===3){he.error(a.t("Maximum of 3 models can be downloaded simultaneously. Please try again later."));return}const[I,L]=await rl(localStorage.token,u,"0").catch(ae=>(he.error(`${ae}`),null));if(I){const ae=I.body.pipeThrough(new TextDecoderStream).pipeThrough(ul(`
`)).getReader();for(be.set({...n,[u]:{...n[u],abortController:L,reader:ae,done:!1}});;)try{const{value:re,done:_e}=await ae.read();if(_e)break;let ge=re.split(`
`);for(const ke of ge)if(ke!==""){let ne=JSON.parse(ke);if(console.log(ne),ne.error)throw ne.error;if(ne.detail)throw ne.detail;if(ne.status)if(ne.digest){let ve=0;ne.completed?ve=Math.round(ne.completed/ne.total*1e3)/10:ve=100,be.set({...n,[u]:{...n[u],pullProgress:ve,digest:ne.digest}})}else he.success(ne.status),be.set({...n,[u]:{...n[u],done:ne.status==="success"}})}}catch(re){console.log(re),typeof re!="string"&&(re=re.message),he.error(`${re}`);break}n[u].done?(he.success(a.t("Model '{{modelName}}' has been successfully downloaded.",{modelName:u})),fl.set(await cl(localStorage.token,((G=s==null?void 0:s.features)==null?void 0:G.enable_direct_connections)&&((o==null?void 0:o.directConnections)??null)))):he.error(a.t("Download canceled")),delete n[u],be.set({...n})}};Ft(async()=>{t(16,m=await ll(localStorage.token).catch(u=>!1)),Y&&(t(14,W=Y.filter(u=>{var I,L,G;return!(((G=(L=(I=u.model)==null?void 0:I.info)==null?void 0:L.meta)==null?void 0:G.hidden)??!1)}).flatMap(u=>{var I;return((I=u.model)==null?void 0:I.tags)??[]}).map(u=>u.name)),t(14,W=Array.from(new Set(W)).sort((u,I)=>u.localeCompare(I))))});const fe=async u=>{const{reader:I,abortController:L}=n[u];L&&L.abort(),I&&(await I.cancel(),delete n[u],be.set({...n}),await nl(localStorage.token,u),he.success(`${u} download has been canceled`))};function $e(){P=this.value,t(9,P)}const Ee=u=>{if(u.code==="Enter"&&l.length>0){t(0,p=l[w].value),t(13,k=!1);return}else u.code==="ArrowDown"?t(17,w=Math.min(w+1,l.length-1)):u.code==="ArrowUp"?t(17,w=Math.max(w-1,0)):t(17,w=0);const I=document.querySelector('[data-arrow-selected="true"]');I==null||I.scrollIntoView({block:"center",inline:"nearest",behavior:"instant"})},De=()=>{t(11,N=""),t(10,B="")},Ve=()=>{t(10,B=""),t(11,N="ollama")},Me=()=>{t(10,B=""),t(11,N="openai")},Ce=()=>{t(10,B=""),t(11,N="direct")},Te=u=>{t(11,N=""),t(10,B=u)};function Ie(u){Bt[u?"unshift":"push"](()=>{j=u,t(12,j)})}const ze=(u,I)=>{t(0,p=u.value),t(17,w=I),t(13,k=!1)},Ne=()=>{H()},Oe=u=>{fe(u)},Pe=async()=>{Xe.set(!f),await ml("/");const u=document.getElementById("new-chat-button");setTimeout(()=>{u==null||u.click()},0),f?history.replaceState(null,"","?temporary-chat=true"):history.replaceState(null,"",location.pathname),t(13,k=!1)},Be=async()=>{t(9,P=""),window.setTimeout(()=>{var u;return(u=document.getElementById("model-search-input"))==null?void 0:u.focus()},0),ue()};function le(u){k=u,t(13,k)}return r.$$set=u=>{"id"in u&&t(1,b=u.id),"value"in u&&t(0,p=u.value),"placeholder"in u&&t(2,h=u.placeholder),"searchEnabled"in u&&t(3,D=u.searchEnabled),"searchPlaceholder"in u&&t(4,E=u.searchPlaceholder),"showTemporaryChatControl"in u&&t(5,V=u.showTemporaryChatControl),"items"in u&&t(6,Y=u.items),"className"in u&&t(7,Z=u.className),"triggerClassName"in u&&t(8,z=u.triggerClassName),"$$scope"in u&&t(43,y=u.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&65&&t(15,q=Y.find(u=>u.value===p)??""),r.$$.dirty[0]&3648&&t(18,l=(P?R.search(P).map(u=>u.item).filter(u=>{var I;return B===""?!0:(((I=u.model)==null?void 0:I.tags)??[]).map(L=>L.name).includes(B)}).filter(u=>{var I,L,G;if(N==="")return!0;if(N==="ollama")return((I=u.model)==null?void 0:I.owned_by)==="ollama";if(N==="openai")return((L=u.model)==null?void 0:L.owned_by)==="openai";if(N==="direct")return(G=u.model)==null?void 0:G.direct}):Y.filter(u=>{var I;return B===""?!0:(((I=u.model)==null?void 0:I.tags)??[]).map(L=>L.name).includes(B)}).filter(u=>{var I,L,G;if(N==="")return!0;if(N==="ollama")return((I=u.model)==null?void 0:I.owned_by)==="ollama";if(N==="openai")return((L=u.model)==null?void 0:L.owned_by)==="openai";if(N==="direct")return(G=u.model)==null?void 0:G.direct})).filter(u=>{var I,L,G;return!(((G=(L=(I=u.model)==null?void 0:I.info)==null?void 0:L.meta)==null?void 0:G.hidden)??!1)})),r.$$.dirty[0]&3072&&ue()},[p,b,h,D,E,V,Y,Z,z,P,B,N,j,k,W,q,m,w,l,n,a,i,c,f,v,ue,H,fe,g,$e,Ee,De,Ve,Me,Ce,Te,Ie,ze,Ne,Oe,Pe,Be,le,y]}class rr extends At{constructor(e){super(),Lt(this,e,Ll,Sl,Pt,{id:1,value:0,placeholder:2,searchEnabled:3,searchPlaceholder:4,showTemporaryChatControl:5,items:6,className:7,triggerClassName:8},null,[-1,-1])}}export{rr as S};
//# sourceMappingURL=CkiR_j3m.js.map
