{"version":3,"file":"Bl6uRah3.js","sources":["../../../../../../src/lib/components/common/Loader.svelte"],"sourcesContent":["<script lang=\"ts\">\r\n\timport { createEventDispatcher, onDestroy, onMount } from 'svelte';\r\n\tconst dispatch = createEventDispatcher();\r\n\r\n\tlet loaderElement: HTMLElement;\r\n\r\n\tlet observer;\r\n\tlet intervalId;\r\n\r\n\tonMount(() => {\r\n\t\tobserver = new IntersectionObserver(\r\n\t\t\t(entries, observer) => {\r\n\t\t\t\tentries.forEach((entry) => {\r\n\t\t\t\t\tif (entry.isIntersecting) {\r\n\t\t\t\t\t\tintervalId = setInterval(() => {\r\n\t\t\t\t\t\t\tdispatch('visible');\r\n\t\t\t\t\t\t}, 100);\r\n\t\t\t\t\t\t// dispatch('visible');\r\n\t\t\t\t\t\t// observer.unobserve(loaderElement); // Stop observing until content is loaded\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tclearInterval(intervalId);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\troot: null, // viewport\r\n\t\t\t\trootMargin: '0px',\r\n\t\t\t\tthreshold: 0.1 // When 10% of the loader is visible\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\tobserver.observe(loaderElement);\r\n\t});\r\n\r\n\tonDestroy(() => {\r\n\t\tobserver.disconnect();\r\n\r\n\t\tif (intervalId) {\r\n\t\t\tclearInterval(intervalId);\r\n\t\t}\r\n\t});\r\n</script>\r\n\r\n<div bind:this={loaderElement}>\r\n\t<slot />\r\n</div>\r\n"],"names":["insert_hydration","target","div","anchor","dispatch","createEventDispatcher","loaderElement","observer","intervalId","onMount","entries","entry","onDestroy","$$value"],"mappings":"iVA2CAA,EAEMC,EAAAC,EAAAC,CAAA,6OA3CCC,EAAWC,IAEb,IAAAC,EAEAC,EACAC,EAEJC,EAAA,IAAA,CACCF,EAAA,IAAe,sBACbG,EAASH,IAAAA,CACTG,EAAQ,QAASC,GAAA,CACZA,EAAM,eACTH,EAAa,iBACZJ,EAAS,SAAS,GAChB,KAIH,cAAcI,CAAU,MAK1B,KAAM,KACN,WAAY,MACZ,UAAW,KAIbD,EAAS,QAAQD,CAAa,IAG/BM,EAAA,IAAA,CACCL,EAAS,WAAA,EAELC,GACH,cAAcA,CAAU,6CAKXF,EAAaO"}