{"version":3,"file":"10.CRNNiHek.js","sources":["../../../../../../src/lib/components/admin/Functions/FunctionMenu.svelte","../../../../../../src/lib/components/admin/Functions.svelte","../../../../../../src/routes/(app)/admin/functions/+page.svelte"],"sourcesContent":["<script lang=\"ts\">\r\n\timport { DropdownMenu } from 'bits-ui';\r\n\timport { flyAndScale } from '$lib/utils/transitions';\r\n\timport { getContext } from 'svelte';\r\n\r\n\timport Dropdown from '$lib/components/common/Dropdown.svelte';\r\n\timport GarbageBin from '$lib/components/icons/GarbageBin.svelte';\r\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\r\n\timport Share from '$lib/components/icons/Share.svelte';\r\n\timport DocumentDuplicate from '$lib/components/icons/DocumentDuplicate.svelte';\r\n\timport ArrowDownTray from '$lib/components/icons/ArrowDownTray.svelte';\r\n\timport Switch from '$lib/components/common/Switch.svelte';\r\n\timport GlobeAlt from '$lib/components/icons/GlobeAlt.svelte';\r\n\r\n\tconst i18n = getContext('i18n');\r\n\r\n\texport let func;\r\n\r\n\texport let editHandler: Function;\r\n\texport let shareHandler: Function;\r\n\texport let cloneHandler: Function;\r\n\texport let exportHandler: Function;\r\n\texport let deleteHandler: Function;\r\n\texport let toggleGlobalHandler: Function;\r\n\r\n\texport let onClose: Function;\r\n\r\n\tlet show = false;\r\n</script>\r\n\r\n<Dropdown\r\n\tbind:show\r\n\ton:change={(e) => {\r\n\t\tif (e.detail === false) {\r\n\t\t\tonClose();\r\n\t\t}\r\n\t}}\r\n>\r\n\t<Tooltip content={$i18n.t('More')}>\r\n\t\t<slot />\r\n\t</Tooltip>\r\n\r\n\t<div slot=\"content\">\r\n\t\t<DropdownMenu.Content\r\n\t\t\tclass=\"w-full max-w-[180px] rounded-xl px-1 py-1.5 border border-gray-300/30 dark:border-gray-700/50 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-sm\"\r\n\t\t\tsideOffset={-2}\r\n\t\t\tside=\"bottom\"\r\n\t\t\talign=\"start\"\r\n\t\t\ttransition={flyAndScale}\r\n\t\t>\r\n\t\t\t{#if ['filter', 'action'].includes(func.type)}\r\n\t\t\t\t<div\r\n\t\t\t\t\tclass=\"flex gap-2 justify-between items-center px-3 py-2 text-sm font-medium cursor-pointerrounded-md\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<div class=\"flex gap-2 items-center\">\r\n\t\t\t\t\t\t<GlobeAlt />\r\n\r\n\t\t\t\t\t\t<div class=\"flex items-center\">{$i18n.t('Global')}</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Switch on:change={toggleGlobalHandler} bind:state={func.is_global} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<hr class=\"border-gray-100 dark:border-gray-850 my-1\" />\r\n\t\t\t{/if}\r\n\r\n\t\t\t<DropdownMenu.Item\r\n\t\t\t\tclass=\"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800  rounded-md\"\r\n\t\t\t\ton:click={() => {\r\n\t\t\t\t\teditHandler();\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<svg\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tfill=\"none\"\r\n\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\tstroke-width=\"1.5\"\r\n\t\t\t\t\tstroke=\"currentColor\"\r\n\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\tstroke-linecap=\"round\"\r\n\t\t\t\t\t\tstroke-linejoin=\"round\"\r\n\t\t\t\t\t\td=\"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</svg>\r\n\r\n\t\t\t\t<div class=\"flex items-center\">{$i18n.t('Edit')}</div>\r\n\t\t\t</DropdownMenu.Item>\r\n\r\n\t\t\t<DropdownMenu.Item\r\n\t\t\t\tclass=\"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800  rounded-md\"\r\n\t\t\t\ton:click={() => {\r\n\t\t\t\t\tshareHandler();\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Share />\r\n\t\t\t\t<div class=\"flex items-center\">{$i18n.t('Share')}</div>\r\n\t\t\t</DropdownMenu.Item>\r\n\r\n\t\t\t<DropdownMenu.Item\r\n\t\t\t\tclass=\"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md\"\r\n\t\t\t\ton:click={() => {\r\n\t\t\t\t\tcloneHandler();\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<DocumentDuplicate />\r\n\r\n\t\t\t\t<div class=\"flex items-center\">{$i18n.t('Clone')}</div>\r\n\t\t\t</DropdownMenu.Item>\r\n\r\n\t\t\t<DropdownMenu.Item\r\n\t\t\t\tclass=\"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md\"\r\n\t\t\t\ton:click={() => {\r\n\t\t\t\t\texportHandler();\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<ArrowDownTray />\r\n\r\n\t\t\t\t<div class=\"flex items-center\">{$i18n.t('Export')}</div>\r\n\t\t\t</DropdownMenu.Item>\r\n\r\n\t\t\t<hr class=\"border-gray-100 dark:border-gray-850 my-1\" />\r\n\r\n\t\t\t<DropdownMenu.Item\r\n\t\t\t\tclass=\"flex  gap-2  items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md\"\r\n\t\t\t\ton:click={() => {\r\n\t\t\t\t\tdeleteHandler();\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<GarbageBin strokeWidth=\"2\" />\r\n\t\t\t\t<div class=\"flex items-center\">{$i18n.t('Delete')}</div>\r\n\t\t\t</DropdownMenu.Item>\r\n\t\t</DropdownMenu.Content>\r\n\t</div>\r\n</Dropdown>\r\n","<script lang=\"ts\">\r\n\timport { toast } from 'svelte-sonner';\r\n\timport fileSaver from 'file-saver';\r\n\tconst { saveAs } = fileSaver;\r\n\r\n\timport { WEBUI_NAME, config, functions, models, settings } from '$lib/stores';\r\n\timport { onMount, getContext, tick } from 'svelte';\r\n\r\n\timport { goto } from '$app/navigation';\r\n\timport {\r\n\t\tcreateNewFunction,\r\n\t\tdeleteFunctionById,\r\n\t\texportFunctions,\r\n\t\tgetFunctionById,\r\n\t\tgetFunctions,\r\n\t\ttoggleFunctionById,\r\n\t\ttoggleGlobalById\r\n\t} from '$lib/apis/functions';\r\n\r\n\timport ArrowDownTray from '../icons/ArrowDownTray.svelte';\r\n\timport Tooltip from '../common/Tooltip.svelte';\r\n\timport ConfirmDialog from '../common/ConfirmDialog.svelte';\r\n\timport { getModels } from '$lib/apis';\r\n\timport FunctionMenu from './Functions/FunctionMenu.svelte';\r\n\timport EllipsisHorizontal from '../icons/EllipsisHorizontal.svelte';\r\n\timport Switch from '../common/Switch.svelte';\r\n\timport ValvesModal from '../workspace/common/ValvesModal.svelte';\r\n\timport ManifestModal from '../workspace/common/ManifestModal.svelte';\r\n\timport Heart from '../icons/Heart.svelte';\r\n\timport DeleteConfirmDialog from '$lib/components/common/ConfirmDialog.svelte';\r\n\timport GarbageBin from '../icons/GarbageBin.svelte';\r\n\timport Search from '../icons/Search.svelte';\r\n\timport Plus from '../icons/Plus.svelte';\r\n\timport ChevronRight from '../icons/ChevronRight.svelte';\r\n\r\n\tconst i18n = getContext('i18n');\r\n\r\n\tlet shiftKey = false;\r\n\r\n\tlet functionsImportInputElement: HTMLInputElement;\r\n\tlet importFiles;\r\n\r\n\tlet showConfirm = false;\r\n\tlet query = '';\r\n\r\n\tlet showManifestModal = false;\r\n\tlet showValvesModal = false;\r\n\tlet selectedFunction = null;\r\n\r\n\tlet showDeleteConfirm = false;\r\n\r\n\tlet filteredItems = [];\r\n\t$: filteredItems = $functions\r\n\t\t.filter(\r\n\t\t\t(f) =>\r\n\t\t\t\tquery === '' ||\r\n\t\t\t\tf.name.toLowerCase().includes(query.toLowerCase()) ||\r\n\t\t\t\tf.id.toLowerCase().includes(query.toLowerCase())\r\n\t\t)\r\n\t\t.sort((a, b) => a.type.localeCompare(b.type) || a.name.localeCompare(b.name));\r\n\r\n\tconst shareHandler = async (func) => {\r\n\t\tconst item = await getFunctionById(localStorage.token, func.id).catch((error) => {\r\n\t\t\ttoast.error(`${error}`);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\ttoast.success($i18n.t('Redirecting you to Open WebUI Community'));\r\n\r\n\t\tconst url = 'https://openwebui.com';\r\n\r\n\t\tconst tab = await window.open(`${url}/functions/create`, '_blank');\r\n\r\n\t\t// Define the event handler function\r\n\t\tconst messageHandler = (event) => {\r\n\t\t\tif (event.origin !== url) return;\r\n\t\t\tif (event.data === 'loaded') {\r\n\t\t\t\ttab.postMessage(JSON.stringify(item), '*');\r\n\r\n\t\t\t\t// Remove the event listener after handling the message\r\n\t\t\t\twindow.removeEventListener('message', messageHandler);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\twindow.addEventListener('message', messageHandler, false);\r\n\t\tconsole.log(item);\r\n\t};\r\n\r\n\tconst cloneHandler = async (func) => {\r\n\t\tconst _function = await getFunctionById(localStorage.token, func.id).catch((error) => {\r\n\t\t\ttoast.error(`${error}`);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tif (_function) {\r\n\t\t\tsessionStorage.function = JSON.stringify({\r\n\t\t\t\t..._function,\r\n\t\t\t\tid: `${_function.id}_clone`,\r\n\t\t\t\tname: `${_function.name} (Clone)`\r\n\t\t\t});\r\n\t\t\tgoto('/admin/functions/create');\r\n\t\t}\r\n\t};\r\n\r\n\tconst exportHandler = async (func) => {\r\n\t\tconst _function = await getFunctionById(localStorage.token, func.id).catch((error) => {\r\n\t\t\ttoast.error(`${error}`);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tif (_function) {\r\n\t\t\tlet blob = new Blob([JSON.stringify([_function])], {\r\n\t\t\t\ttype: 'application/json'\r\n\t\t\t});\r\n\t\t\tsaveAs(blob, `function-${_function.id}-export-${Date.now()}.json`);\r\n\t\t}\r\n\t};\r\n\r\n\tconst deleteHandler = async (func) => {\r\n\t\tconst res = await deleteFunctionById(localStorage.token, func.id).catch((error) => {\r\n\t\t\ttoast.error(`${error}`);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tif (res) {\r\n\t\t\ttoast.success($i18n.t('Function deleted successfully'));\r\n\r\n\t\t\tfunctions.set(await getFunctions(localStorage.token));\r\n\t\t\tmodels.set(\r\n\t\t\t\tawait getModels(\r\n\t\t\t\t\tlocalStorage.token,\r\n\t\t\t\t\t$config?.features?.enable_direct_connections && ($settings?.directConnections ?? null)\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\tconst toggleGlobalHandler = async (func) => {\r\n\t\tconst res = await toggleGlobalById(localStorage.token, func.id).catch((error) => {\r\n\t\t\ttoast.error(`${error}`);\r\n\t\t});\r\n\r\n\t\tif (res) {\r\n\t\t\tif (func.is_global) {\r\n\t\t\t\tfunc.type === 'filter'\r\n\t\t\t\t\t? toast.success($i18n.t('Filter is now globally enabled'))\r\n\t\t\t\t\t: toast.success($i18n.t('Function is now globally enabled'));\r\n\t\t\t} else {\r\n\t\t\t\tfunc.type === 'filter'\r\n\t\t\t\t\t? toast.success($i18n.t('Filter is now globally disabled'))\r\n\t\t\t\t\t: toast.success($i18n.t('Function is now globally disabled'));\r\n\t\t\t}\r\n\r\n\t\t\tfunctions.set(await getFunctions(localStorage.token));\r\n\t\t\tmodels.set(\r\n\t\t\t\tawait getModels(\r\n\t\t\t\t\tlocalStorage.token,\r\n\t\t\t\t\t$config?.features?.enable_direct_connections && ($settings?.directConnections ?? null)\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\tonMount(() => {\r\n\t\tconst onKeyDown = (event) => {\r\n\t\t\tif (event.key === 'Shift') {\r\n\t\t\t\tshiftKey = true;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tconst onKeyUp = (event) => {\r\n\t\t\tif (event.key === 'Shift') {\r\n\t\t\t\tshiftKey = false;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tconst onBlur = () => {\r\n\t\t\tshiftKey = false;\r\n\t\t};\r\n\r\n\t\twindow.addEventListener('keydown', onKeyDown);\r\n\t\twindow.addEventListener('keyup', onKeyUp);\r\n\t\twindow.addEventListener('blur-sm', onBlur);\r\n\r\n\t\treturn () => {\r\n\t\t\twindow.removeEventListener('keydown', onKeyDown);\r\n\t\t\twindow.removeEventListener('keyup', onKeyUp);\r\n\t\t\twindow.removeEventListener('blur-sm', onBlur);\r\n\t\t};\r\n\t});\r\n</script>\r\n\r\n<svelte:head>\r\n\t<title>\r\n\t\t{$i18n.t('Functions')} | {$WEBUI_NAME}\r\n\t</title>\r\n</svelte:head>\r\n\r\n<div class=\"flex flex-col gap-1 mt-1.5 mb-2\">\r\n\t<div class=\"flex justify-between items-center\">\r\n\t\t<div class=\"flex md:self-center text-xl items-center font-medium px-0.5\">\r\n\t\t\t{$i18n.t('Functions')}\r\n\t\t\t<div class=\"flex self-center w-[1px] h-6 mx-2.5 bg-gray-50 dark:bg-gray-850\" />\r\n\t\t\t<span class=\"text-base font-lg text-gray-500 dark:text-gray-300\">{filteredItems.length}</span>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<div class=\" flex w-full space-x-2\">\r\n\t\t<div class=\"flex flex-1\">\r\n\t\t\t<div class=\" self-center ml-1 mr-3\">\r\n\t\t\t\t<Search className=\"size-3.5\" />\r\n\t\t\t</div>\r\n\t\t\t<input\r\n\t\t\t\tclass=\" w-full text-sm pr-4 py-1 rounded-r-xl outline-hidden bg-transparent\"\r\n\t\t\t\tbind:value={query}\r\n\t\t\t\tplaceholder={$i18n.t('Search Functions')}\r\n\t\t\t/>\r\n\t\t</div>\r\n\r\n\t\t<div>\r\n\t\t\t<a\r\n\t\t\t\tclass=\" px-2 py-2 rounded-xl hover:bg-gray-700/10 dark:hover:bg-gray-100/10 dark:text-gray-300 dark:hover:text-white transition font-medium text-sm flex items-center space-x-1\"\r\n\t\t\t\thref=\"/admin/functions/create\"\r\n\t\t\t>\r\n\t\t\t\t<Plus className=\"size-3.5\" />\r\n\t\t\t</a>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n<div class=\"mb-5\">\r\n\t{#each filteredItems as func (func.id)}\r\n\t\t<div\r\n\t\t\tclass=\" flex space-x-4 cursor-pointer w-full px-3 py-2 dark:hover:bg-white/5 hover:bg-black/5 rounded-xl\"\r\n\t\t>\r\n\t\t\t<a\r\n\t\t\t\tclass=\" flex flex-1 space-x-3.5 cursor-pointer w-full\"\r\n\t\t\t\thref={`/admin/functions/edit?id=${encodeURIComponent(func.id)}`}\r\n\t\t\t>\r\n\t\t\t\t<div class=\"flex items-center text-left\">\r\n\t\t\t\t\t<div class=\" flex-1 self-center pl-1\">\r\n\t\t\t\t\t\t<div class=\" font-semibold flex items-center gap-1.5\">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclass=\" text-xs font-bold px-1 rounded-sm uppercase line-clamp-1 bg-gray-500/20 text-gray-700 dark:text-gray-200\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{func.type}\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t{#if func?.meta?.manifest?.version}\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclass=\"text-xs font-bold px-1 rounded-sm line-clamp-1 bg-gray-500/20 text-gray-700 dark:text-gray-200\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tv{func?.meta?.manifest?.version ?? ''}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{/if}\r\n\r\n\t\t\t\t\t\t\t<div class=\" line-clamp-1\">\r\n\t\t\t\t\t\t\t\t{func.name}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"flex gap-1.5 px-1\">\r\n\t\t\t\t\t\t\t<div class=\" text-gray-500 text-xs font-medium shrink-0\">{func.id}</div>\r\n\r\n\t\t\t\t\t\t\t<div class=\" text-xs overflow-hidden text-ellipsis line-clamp-1\">\r\n\t\t\t\t\t\t\t\t{func.meta.description}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</a>\r\n\t\t\t<div class=\"flex flex-row gap-0.5 self-center\">\r\n\t\t\t\t{#if shiftKey}\r\n\t\t\t\t\t<Tooltip content={$i18n.t('Delete')}>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\"self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\tdeleteHandler(func);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<GarbageBin />\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t{:else}\r\n\t\t\t\t\t{#if func?.meta?.manifest?.funding_url ?? false}\r\n\t\t\t\t\t\t<Tooltip content={$i18n.t('Support')}>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclass=\"self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl\"\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\tselectedFunction = func;\r\n\t\t\t\t\t\t\t\t\tshowManifestModal = true;\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Heart />\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t{/if}\r\n\r\n\t\t\t\t\t<Tooltip content={$i18n.t('Valves')}>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\"self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\tselectedFunction = func;\r\n\t\t\t\t\t\t\t\tshowValvesModal = true;\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\tfill=\"none\"\r\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\t\tstroke-width=\"1.5\"\r\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\r\n\t\t\t\t\t\t\t\tclass=\"size-4\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\r\n\t\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\r\n\t\t\t\t\t\t\t\t\td=\"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\r\n\t\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\r\n\t\t\t\t\t\t\t\t\td=\"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</Tooltip>\r\n\r\n\t\t\t\t\t<FunctionMenu\r\n\t\t\t\t\t\t{func}\r\n\t\t\t\t\t\teditHandler={() => {\r\n\t\t\t\t\t\t\tgoto(`/admin/functions/edit?id=${encodeURIComponent(func.id)}`);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tshareHandler={() => {\r\n\t\t\t\t\t\t\tshareHandler(func);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tcloneHandler={() => {\r\n\t\t\t\t\t\t\tcloneHandler(func);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\texportHandler={() => {\r\n\t\t\t\t\t\t\texportHandler(func);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tdeleteHandler={async () => {\r\n\t\t\t\t\t\t\tselectedFunction = func;\r\n\t\t\t\t\t\t\tshowDeleteConfirm = true;\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\ttoggleGlobalHandler={() => {\r\n\t\t\t\t\t\t\tif (['filter', 'action'].includes(func.type)) {\r\n\t\t\t\t\t\t\t\ttoggleGlobalHandler(func);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonClose={() => {}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\"self-center w-fit text-sm p-1.5 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<EllipsisHorizontal className=\"size-5\" />\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</FunctionMenu>\r\n\t\t\t\t{/if}\r\n\r\n\t\t\t\t<div class=\" self-center mx-1\">\r\n\t\t\t\t\t<Tooltip content={func.is_active ? $i18n.t('Enabled') : $i18n.t('Disabled')}>\r\n\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\tbind:state={func.is_active}\r\n\t\t\t\t\t\t\ton:change={async (e) => {\r\n\t\t\t\t\t\t\t\ttoggleFunctionById(localStorage.token, func.id);\r\n\t\t\t\t\t\t\t\tmodels.set(\r\n\t\t\t\t\t\t\t\t\tawait getModels(\r\n\t\t\t\t\t\t\t\t\t\tlocalStorage.token,\r\n\t\t\t\t\t\t\t\t\t\t$config?.features?.enable_direct_connections &&\r\n\t\t\t\t\t\t\t\t\t\t\t($settings?.directConnections ?? null)\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t{/each}\r\n</div>\r\n\r\n<!-- <div class=\" text-gray-500 text-xs mt-1 mb-2\">\r\n\tⓘ {$i18n.t(\r\n\t\t'Admins have access to all tools at all times; users need tools assigned per model in the workspace.'\r\n\t)}\r\n</div> -->\r\n\r\n<div class=\" flex justify-end w-full mb-2\">\r\n\t<div class=\"flex space-x-2\">\r\n\t\t<input\r\n\t\t\tid=\"documents-import-input\"\r\n\t\t\tbind:this={functionsImportInputElement}\r\n\t\t\tbind:files={importFiles}\r\n\t\t\ttype=\"file\"\r\n\t\t\taccept=\".json\"\r\n\t\t\thidden\r\n\t\t\ton:change={() => {\r\n\t\t\t\tconsole.log(importFiles);\r\n\t\t\t\tshowConfirm = true;\r\n\t\t\t}}\r\n\t\t/>\r\n\r\n\t\t<button\r\n\t\t\tclass=\"flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition\"\r\n\t\t\ton:click={() => {\r\n\t\t\t\tfunctionsImportInputElement.click();\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div class=\" self-center mr-2 font-medium line-clamp-1\">{$i18n.t('Import Functions')}</div>\r\n\r\n\t\t\t<div class=\" self-center\">\r\n\t\t\t\t<svg\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\td=\"M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z\"\r\n\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</svg>\r\n\t\t\t</div>\r\n\t\t</button>\r\n\r\n\t\t{#if $functions.length}\r\n\t\t\t<button\r\n\t\t\t\tclass=\"flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition\"\r\n\t\t\t\ton:click={async () => {\r\n\t\t\t\t\tconst _functions = await exportFunctions(localStorage.token).catch((error) => {\r\n\t\t\t\t\t\ttoast.error(`${error}`);\r\n\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif (_functions) {\r\n\t\t\t\t\t\tlet blob = new Blob([JSON.stringify(_functions)], {\r\n\t\t\t\t\t\t\ttype: 'application/json'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsaveAs(blob, `functions-export-${Date.now()}.json`);\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<div class=\" self-center mr-2 font-medium line-clamp-1\">{$i18n.t('Export Functions')}</div>\r\n\r\n\t\t\t\t<div class=\" self-center\">\r\n\t\t\t\t\t<svg\r\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\td=\"M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z\"\r\n\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</svg>\r\n\t\t\t\t</div>\r\n\t\t\t</button>\r\n\t\t{/if}\r\n\t</div>\r\n</div>\r\n\r\n{#if $config?.features.enable_community_sharing}\r\n\t<div class=\" my-16\">\r\n\t\t<div class=\" text-xl font-medium mb-1 line-clamp-1\">\r\n\t\t\t{$i18n.t('Made by Open WebUI Community')}\r\n\t\t</div>\r\n\r\n\t\t<a\r\n\t\t\tclass=\" flex cursor-pointer items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-850 w-full mb-2 px-3.5 py-1.5 rounded-xl transition\"\r\n\t\t\thref=\"https://openwebui.com/#open-webui-community\"\r\n\t\t\ttarget=\"_blank\"\r\n\t\t>\r\n\t\t\t<div class=\" self-center\">\r\n\t\t\t\t<div class=\" font-semibold line-clamp-1\">{$i18n.t('Discover a function')}</div>\r\n\t\t\t\t<div class=\" text-sm line-clamp-1\">\r\n\t\t\t\t\t{$i18n.t('Discover, download, and explore custom functions')}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<ChevronRight />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</a>\r\n\t</div>\r\n{/if}\r\n\r\n<DeleteConfirmDialog\r\n\tbind:show={showDeleteConfirm}\r\n\ttitle={$i18n.t('Delete function?')}\r\n\ton:confirm={() => {\r\n\t\tdeleteHandler(selectedFunction);\r\n\t}}\r\n>\r\n\t<div class=\" text-sm text-gray-500\">\r\n\t\t{$i18n.t('This will delete')} <span class=\"  font-semibold\">{selectedFunction.name}</span>.\r\n\t</div>\r\n</DeleteConfirmDialog>\r\n\r\n<ManifestModal bind:show={showManifestModal} manifest={selectedFunction?.meta?.manifest ?? {}} />\r\n<ValvesModal\r\n\tbind:show={showValvesModal}\r\n\ttype=\"function\"\r\n\tid={selectedFunction?.id ?? null}\r\n\ton:save={async () => {\r\n\t\tawait tick();\r\n\t\tmodels.set(\r\n\t\t\tawait getModels(\r\n\t\t\t\tlocalStorage.token,\r\n\t\t\t\t$config?.features?.enable_direct_connections && ($settings?.directConnections ?? null)\r\n\t\t\t)\r\n\t\t);\r\n\t}}\r\n/>\r\n\r\n<ConfirmDialog\r\n\tbind:show={showConfirm}\r\n\ton:confirm={() => {\r\n\t\tconst reader = new FileReader();\r\n\t\treader.onload = async (event) => {\r\n\t\t\tconst _functions = JSON.parse(event.target.result);\r\n\t\t\tconsole.log(_functions);\r\n\r\n\t\t\tfor (const func of _functions) {\r\n\t\t\t\tconst res = await createNewFunction(localStorage.token, func).catch((error) => {\r\n\t\t\t\t\ttoast.error(`${error}`);\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\ttoast.success($i18n.t('Functions imported successfully'));\r\n\t\t\tfunctions.set(await getFunctions(localStorage.token));\r\n\t\t\tmodels.set(\r\n\t\t\t\tawait getModels(\r\n\t\t\t\t\tlocalStorage.token,\r\n\t\t\t\t\t$config?.features?.enable_direct_connections && ($settings?.directConnections ?? null)\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t};\r\n\r\n\t\treader.readAsText(importFiles[0]);\r\n\t}}\r\n>\r\n\t<div class=\"text-sm text-gray-500\">\r\n\t\t<div class=\" bg-yellow-500/20 text-yellow-700 dark:text-yellow-200 rounded-lg px-4 py-3\">\r\n\t\t\t<div>Please carefully review the following warnings:</div>\r\n\r\n\t\t\t<ul class=\" mt-1 list-disc pl-4 text-xs\">\r\n\t\t\t\t<li>{$i18n.t('Functions allow arbitrary code execution.')}</li>\r\n\t\t\t\t<li>{$i18n.t('Do not install functions from sources you do not fully trust.')}</li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"my-3\">\r\n\t\t\t{$i18n.t(\r\n\t\t\t\t'I acknowledge that I have read and I understand the implications of my action. I am aware of the risks associated with executing arbitrary code and I have verified the trustworthiness of the source.'\r\n\t\t\t)}\r\n\t\t</div>\r\n\t</div>\r\n</ConfirmDialog>\r\n","<script>\r\n\timport { onMount } from 'svelte';\r\n\timport { functions } from '$lib/stores';\r\n\r\n\timport { getFunctions } from '$lib/apis/functions';\r\n\timport Functions from '$lib/components/admin/Functions.svelte';\r\n\r\n\tonMount(async () => {\r\n\t\tawait Promise.all([\r\n\t\t\t(async () => {\r\n\t\t\t\tfunctions.set(await getFunctions(localStorage.token));\r\n\t\t\t})()\r\n\t\t]);\r\n\t});\r\n</script>\r\n\r\n{#if $functions !== null}\r\n\t<Functions />\r\n{/if}\r\n"],"names":["ctx","switch_1_props","is_function","insert_hydration","target","div3","anchor","append_hydration","div1","div0","div2","hr","set_data","t1","t1_value","switch_1_changes","svg","path","div","show_if","dirty","flyAndScale","i18n","getContext","func","$$props","editHandler","shareHandler","cloneHandler","exportHandler","deleteHandler","toggleGlobalHandler","onClose","show","$$self","value","e","_c","_b","_a","if_block","create_if_block_3","button","t0_value","t3_value","t5_value","if_block0","create_if_block_4","div10","a","div7","div6","div5","div4","div9","div8","current","t0","t3","t5","t7","t7_value","tooltip_changes","t2","t2_value","t4","t4_value","span","ul","li0","li1","t6","t6_value","title_value","get_key","i","create_if_block_1","create_if_block","_d","input0","div12","div11","input1","t11","t11_value","saveAs","fileSaver","shiftKey","functionsImportInputElement","importFiles","showConfirm","query","showManifestModal","showValvesModal","selectedFunction","showDeleteConfirm","filteredItems","item","getFunctionById","error","toast","$i18n","url","tab","messageHandler","event","_function","goto","blob","deleteFunctionById","functions","getFunctions","models","getModels","$config","$settings","toggleGlobalById","onMount","onKeyDown","onKeyUp","onBlur","$$invalidate","toggleFunctionById","$$value","_functions","exportFunctions","tick","reader","createNewFunction","$functions","f","b"],"mappings":"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"}