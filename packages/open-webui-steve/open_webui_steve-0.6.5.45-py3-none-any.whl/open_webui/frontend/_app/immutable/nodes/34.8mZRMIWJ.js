import{s as N,l as d,i as v,d as f,j as g,p as O,q as V,e as h,c as b,a as k,f as E,g as T,n as U}from"../chunks/25wJL1Su.js";import{S as q,i as B,a as _,c as C,t as p,g as D,b as I,d as S,m as w,e as R}from"../chunks/CPwzRg77.js";import{g as P}from"../chunks/CJqw8RZz.js";import{p as W}from"../chunks/VE9xsaDW.js";import{a as j,u as Q,g as F}from"../chunks/5WZRXWl_.js";import{S as H}from"../chunks/CsIdf5LU.js";import{T as M}from"../chunks/AN4xWZCo.js";import{b as $,t as z}from"../chunks/Cd_5PT-V.js";import{e as A,c as G}from"../chunks/ZGe3o3eu.js";import{t as m}from"../chunks/8ef81IiG.js";function J(i){let t,o,e,s;return e=new H({}),{c(){t=h("div"),o=h("div"),I(e.$$.fragment),this.h()},l(n){t=b(n,"DIV",{class:!0});var a=k(t);o=b(a,"DIV",{class:!0});var u=k(o);S(e.$$.fragment,u),u.forEach(f),a.forEach(f),this.h()},h(){E(o,"class","pb-16"),E(t,"class","flex items-center justify-center h-full")},m(n,a){v(n,t,a),T(t,o),w(e,o,null),s=!0},p:U,i(n){s||(p(e.$$.fragment,n),s=!0)},o(n){_(e.$$.fragment,n),s=!1},d(n){n&&f(t),R(e)}}}function K(i){let t,o;return t=new M({props:{edit:!0,id:i[0].id,name:i[0].name,meta:i[0].meta,content:i[0].content,accessControl:i[0].access_control,onSave:i[3]}}),{c(){I(t.$$.fragment)},l(e){S(t.$$.fragment,e)},m(e,s){w(t,e,s),o=!0},p(e,s){const n={};s&1&&(n.id=e[0].id),s&1&&(n.name=e[0].name),s&1&&(n.meta=e[0].meta),s&1&&(n.content=e[0].content),s&1&&(n.accessControl=e[0].access_control),t.$set(n)},i(e){o||(p(t.$$.fragment,e),o=!0)},o(e){_(t.$$.fragment,e),o=!1},d(e){R(t,e)}}}function L(i){let t,o,e,s;const n=[K,J],a=[];function u(c,r){return c[0]?0:1}return t=u(i),o=a[t]=n[t](i),{c(){o.c(),e=d()},l(c){o.l(c),e=d()},m(c,r){a[t].m(c,r),v(c,e,r),s=!0},p(c,[r]){let l=t;t=u(c),t===l?a[t].p(c,r):(D(),_(a[l],1,1,()=>{a[l]=null}),C(),o=a[t],o?o.p(c,r):(o=a[t]=n[t](c),o.c()),p(o,1),o.m(e.parentNode,e))},i(c){s||(p(o),s=!0)},o(c){_(o),s=!1},d(c){c&&f(e),a[t].d(c)}}}function X(i,t,o){let e,s;g(i,W,r=>o(4,e=r));const n=O("i18n");g(i,n,r=>o(5,s=r));let a=null;const u=async r=>{const l=A(r.content);if(G((l==null?void 0:l.required_open_webui_version)??"0.0.0",$)){m.error(s.t("Open WebUI version (v{{OPEN_WEBUI_VERSION}}) is lower than required version (v{{REQUIRED_VERSION}})",{OPEN_WEBUI_VERSION:$,REQUIRED_VERSION:(l==null?void 0:l.required_open_webui_version)??"0.0.0"}));return}await Q(localStorage.token,a.id,{id:r.id,name:r.name,meta:r.meta,content:r.content,access_control:r.access_control}).catch(y=>(m.error(`${y}`),null))&&(m.success(s.t("Tool updated successfully")),z.set(await F(localStorage.token)))};return V(async()=>{const r=e.url.searchParams.get("id");r&&o(0,a=await j(localStorage.token,r).catch(l=>(m.error(`${l}`),P("/workspace/tools"),null)))}),[a,n,u,r=>{u(r)}]}class ie extends q{constructor(t){super(),B(this,t,X,L,N,{})}}export{ie as component};
//# sourceMappingURL=34.8mZRMIWJ.js.map
