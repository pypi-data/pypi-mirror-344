import{s as w,l as g,i as $,d as b,j as _,p as P,q as h}from"../chunks/25wJL1Su.js";import{S as y,i as S,t as c,a as u,c as C,b as q,d as B,m as j,e as E,g as M}from"../chunks/CPwzRg77.js";import{t as i}from"../chunks/8ef81IiG.js";import{g as l}from"../chunks/CJqw8RZz.js";import{p as N}from"../chunks/Cd_5PT-V.js";import{a as z,u as A,g as D}from"../chunks/VdZiqvHi.js";import{p as F}from"../chunks/VE9xsaDW.js";import{P as G}from"../chunks/BqFvamgN.js";function d(n){let e,r;return e=new G({props:{prompt:n[0],onSubmit:n[2],edit:!0}}),{c(){q(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,o){j(e,t,o),r=!0},p(t,o){const a={};o&1&&(a.prompt=t[0]),e.$set(a)},i(t){r||(c(e.$$.fragment,t),r=!0)},o(t){u(e.$$.fragment,t),r=!1},d(t){E(e,t)}}}function H(n){let e,r,t=n[0]&&d(n);return{c(){t&&t.c(),e=g()},l(o){t&&t.l(o),e=g()},m(o,a){t&&t.m(o,a),$(o,e,a),r=!0},p(o,[a]){o[0]?t?(t.p(o,a),a&1&&c(t,1)):(t=d(o),t.c(),c(t,1),t.m(e.parentNode,e)):t&&(M(),u(t,1,1,()=>{t=null}),C())},i(o){r||(c(t),r=!0)},o(o){u(t),r=!1},d(o){o&&b(e),t&&t.d(o)}}}function I(n,e,r){let t,o;_(n,F,s=>r(3,t=s));const a=P("i18n");_(n,a,s=>r(4,o=s));let f=null;const k=async s=>{await A(localStorage.token,s).catch(p=>(i.error(`${p}`),null))&&(i.success(o.t("Prompt updated successfully")),await N.set(await D(localStorage.token)),await l("/workspace/prompts"))};return h(async()=>{const s=t.url.searchParams.get("command");if(s){const m=await z(localStorage.token,s.replace(/\//g,"")).catch(p=>(i.error(`${p}`),null));m?r(0,f={title:m.title,command:m.command,content:m.content,access_control:(m==null?void 0:m.access_control)??null}):l("/workspace/prompts")}else l("/workspace/prompts")}),[f,a,k]}class V extends y{constructor(e){super(),S(this,e,I,H,w,{})}}export{V as component};
//# sourceMappingURL=31.Cts2UipN.js.map
