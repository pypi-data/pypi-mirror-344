{"version":3,"file":"29.RuIWwwph.js","sources":["../../../../../../src/lib/components/workspace/Prompts/PromptMenu.svelte","../../../../../../src/lib/components/workspace/Prompts.svelte"],"sourcesContent":["<script lang=\"ts\">\r\n\timport { DropdownMenu } from 'bits-ui';\r\n\timport { flyAndScale } from '$lib/utils/transitions';\r\n\timport { getContext } from 'svelte';\r\n\timport { config } from '$lib/stores';\r\n\r\n\timport Dropdown from '$lib/components/common/Dropdown.svelte';\r\n\timport GarbageBin from '$lib/components/icons/GarbageBin.svelte';\r\n\timport Pencil from '$lib/components/icons/Pencil.svelte';\r\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\r\n\timport Tags from '$lib/components/chat/Tags.svelte';\r\n\timport Share from '$lib/components/icons/Share.svelte';\r\n\timport ArchiveBox from '$lib/components/icons/ArchiveBox.svelte';\r\n\timport DocumentDuplicate from '$lib/components/icons/DocumentDuplicate.svelte';\r\n\timport ArrowDownTray from '$lib/components/icons/ArrowDownTray.svelte';\r\n\r\n\tconst i18n = getContext('i18n');\r\n\r\n\texport let shareHandler: Function;\r\n\texport let cloneHandler: Function;\r\n\texport let exportHandler: Function;\r\n\texport let deleteHandler: Function;\r\n\texport let onClose: Function;\r\n\r\n\tlet show = false;\r\n</script>\r\n\r\n<Dropdown\r\n\tbind:show\r\n\ton:change={(e) => {\r\n\t\tif (e.detail === false) {\r\n\t\t\tonClose();\r\n\t\t}\r\n\t}}\r\n>\r\n\t<Tooltip content={$i18n.t('More')}>\r\n\t\t<slot />\r\n\t</Tooltip>\r\n\r\n\t<div slot=\"content\">\r\n\t\t<DropdownMenu.Content\r\n\t\t\tclass=\"w-full max-w-[160px] rounded-xl px-1 py-1.5 border border-gray-300/30 dark:border-gray-700/50 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-sm\"\r\n\t\t\tsideOffset={-2}\r\n\t\t\tside=\"bottom\"\r\n\t\t\talign=\"start\"\r\n\t\t\ttransition={flyAndScale}\r\n\t\t>\r\n\t\t\t{#if $config.features.enable_community_sharing}\r\n\t\t\t\t<DropdownMenu.Item\r\n\t\t\t\t\tclass=\"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800  rounded-md\"\r\n\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\tshareHandler();\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Share />\r\n\t\t\t\t\t<div class=\"flex items-center\">{$i18n.t('Share')}</div>\r\n\t\t\t\t</DropdownMenu.Item>\r\n\t\t\t{/if}\r\n\r\n\t\t\t<DropdownMenu.Item\r\n\t\t\t\tclass=\"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md\"\r\n\t\t\t\ton:click={() => {\r\n\t\t\t\t\tcloneHandler();\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<DocumentDuplicate />\r\n\r\n\t\t\t\t<div class=\"flex items-center\">{$i18n.t('Clone')}</div>\r\n\t\t\t</DropdownMenu.Item>\r\n\r\n\t\t\t<DropdownMenu.Item\r\n\t\t\t\tclass=\"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md\"\r\n\t\t\t\ton:click={() => {\r\n\t\t\t\t\texportHandler();\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<ArrowDownTray />\r\n\r\n\t\t\t\t<div class=\"flex items-center\">{$i18n.t('Export')}</div>\r\n\t\t\t</DropdownMenu.Item>\r\n\r\n\t\t\t<hr class=\"border-gray-100 dark:border-gray-850 my-1\" />\r\n\r\n\t\t\t<DropdownMenu.Item\r\n\t\t\t\tclass=\"flex  gap-2  items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md\"\r\n\t\t\t\ton:click={() => {\r\n\t\t\t\t\tdeleteHandler();\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<GarbageBin strokeWidth=\"2\" />\r\n\t\t\t\t<div class=\"flex items-center\">{$i18n.t('Delete')}</div>\r\n\t\t\t</DropdownMenu.Item>\r\n\t\t</DropdownMenu.Content>\r\n\t</div>\r\n</Dropdown>\r\n","<script lang=\"ts\">\r\n\timport { toast } from 'svelte-sonner';\r\n\timport fileSaver from 'file-saver';\r\n\tconst { saveAs } = fileSaver;\r\n\r\n\timport { goto } from '$app/navigation';\r\n\timport { onMount, getContext } from 'svelte';\r\n\timport { WEBUI_NAME, config, prompts as _prompts, user } from '$lib/stores';\r\n\r\n\timport {\r\n\t\tcreateNewPrompt,\r\n\t\tdeletePromptByCommand,\r\n\t\tgetPrompts,\r\n\t\tgetPromptList\r\n\t} from '$lib/apis/prompts';\r\n\r\n\timport PromptMenu from './Prompts/PromptMenu.svelte';\r\n\timport EllipsisHorizontal from '../icons/EllipsisHorizontal.svelte';\r\n\timport DeleteConfirmDialog from '$lib/components/common/ConfirmDialog.svelte';\r\n\timport Search from '../icons/Search.svelte';\r\n\timport Plus from '../icons/Plus.svelte';\r\n\timport ChevronRight from '../icons/ChevronRight.svelte';\r\n\timport Spinner from '../common/Spinner.svelte';\r\n\timport Tooltip from '../common/Tooltip.svelte';\r\n\timport { capitalizeFirstLetter } from '$lib/utils';\r\n\r\n\tconst i18n = getContext('i18n');\r\n\tlet promptsImportInputElement: HTMLInputElement;\r\n\tlet loaded = false;\r\n\r\n\tlet importFiles = '';\r\n\tlet query = '';\r\n\r\n\tlet prompts = [];\r\n\r\n\tlet showDeleteConfirm = false;\r\n\tlet deletePrompt = null;\r\n\r\n\tlet filteredItems = [];\r\n\t$: filteredItems = prompts.filter((p) => query === '' || p.command.includes(query));\r\n\r\n\tconst shareHandler = async (prompt) => {\r\n\t\ttoast.success($i18n.t('Redirecting you to Open WebUI Community'));\r\n\r\n\t\tconst url = 'https://openwebui.com';\r\n\r\n\t\tconst tab = await window.open(`${url}/prompts/create`, '_blank');\r\n\t\twindow.addEventListener(\r\n\t\t\t'message',\r\n\t\t\t(event) => {\r\n\t\t\t\tif (event.origin !== url) return;\r\n\t\t\t\tif (event.data === 'loaded') {\r\n\t\t\t\t\ttab.postMessage(JSON.stringify(prompt), '*');\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tfalse\r\n\t\t);\r\n\t};\r\n\r\n\tconst cloneHandler = async (prompt) => {\r\n\t\tsessionStorage.prompt = JSON.stringify(prompt);\r\n\t\tgoto('/workspace/prompts/create');\r\n\t};\r\n\r\n\tconst exportHandler = async (prompt) => {\r\n\t\tlet blob = new Blob([JSON.stringify([prompt])], {\r\n\t\t\ttype: 'application/json'\r\n\t\t});\r\n\t\tsaveAs(blob, `prompt-export-${Date.now()}.json`);\r\n\t};\r\n\r\n\tconst deleteHandler = async (prompt) => {\r\n\t\tconst command = prompt.command;\r\n\t\tawait deletePromptByCommand(localStorage.token, command);\r\n\t\tawait init();\r\n\t};\r\n\r\n\tconst init = async () => {\r\n\t\tprompts = await getPromptList(localStorage.token);\r\n\t\tawait _prompts.set(await getPrompts(localStorage.token));\r\n\t};\r\n\r\n\tonMount(async () => {\r\n\t\tawait init();\r\n\t\tloaded = true;\r\n\t});\r\n</script>\r\n\r\n<svelte:head>\r\n\t<title>\r\n\t\t{$i18n.t('Prompts')} | {$WEBUI_NAME}\r\n\t</title>\r\n</svelte:head>\r\n\r\n{#if loaded}\r\n\t<DeleteConfirmDialog\r\n\t\tbind:show={showDeleteConfirm}\r\n\t\ttitle={$i18n.t('Delete prompt?')}\r\n\t\ton:confirm={() => {\r\n\t\t\tdeleteHandler(deletePrompt);\r\n\t\t}}\r\n\t>\r\n\t\t<div class=\" text-sm text-gray-500\">\r\n\t\t\t{$i18n.t('This will delete')} <span class=\"  font-semibold\">{deletePrompt.command}</span>.\r\n\t\t</div>\r\n\t</DeleteConfirmDialog>\r\n\r\n\t<div class=\"flex flex-col gap-1 my-1.5\">\r\n\t\t<div class=\"flex justify-between items-center\">\r\n\t\t\t<div class=\"flex md:self-center text-xl font-medium px-0.5 items-center\">\r\n\t\t\t\t{$i18n.t('Prompts')}\r\n\t\t\t\t<div class=\"flex self-center w-[1px] h-6 mx-2.5 bg-gray-50 dark:bg-gray-850\" />\r\n\t\t\t\t<span class=\"text-lg font-medium text-gray-500 dark:text-gray-300\"\r\n\t\t\t\t\t>{filteredItems.length}</span\r\n\t\t\t\t>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\" flex w-full space-x-2\">\r\n\t\t\t<div class=\"flex flex-1\">\r\n\t\t\t\t<div class=\" self-center ml-1 mr-3\">\r\n\t\t\t\t\t<Search className=\"size-3.5\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclass=\" w-full text-sm pr-4 py-1 rounded-r-xl outline-hidden bg-transparent\"\r\n\t\t\t\t\tbind:value={query}\r\n\t\t\t\t\tplaceholder={$i18n.t('Search Prompts')}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<a\r\n\t\t\t\t\tclass=\" px-2 py-2 rounded-xl hover:bg-gray-700/10 dark:hover:bg-gray-100/10 dark:text-gray-300 dark:hover:text-white transition font-medium text-sm flex items-center space-x-1\"\r\n\t\t\t\t\thref=\"/workspace/prompts/create\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<Plus className=\"size-3.5\" />\r\n\t\t\t\t</a>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<div class=\"mb-5 gap-2 grid lg:grid-cols-2 xl:grid-cols-3\">\r\n\t\t{#each filteredItems as prompt}\r\n\t\t\t<div\r\n\t\t\t\tclass=\" flex space-x-4 cursor-pointer w-full px-3 py-2 dark:hover:bg-white/5 hover:bg-black/5 rounded-xl transition\"\r\n\t\t\t>\r\n\t\t\t\t<div class=\" flex flex-1 space-x-4 cursor-pointer w-full\">\r\n\t\t\t\t\t<a href={`/workspace/prompts/edit?command=${encodeURIComponent(prompt.command)}`}>\r\n\t\t\t\t\t\t<div class=\" flex-1 flex items-center gap-2 self-center\">\r\n\t\t\t\t\t\t\t<div class=\" font-semibold line-clamp-1 capitalize\">{prompt.title}</div>\r\n\t\t\t\t\t\t\t<div class=\" text-xs overflow-hidden text-ellipsis line-clamp-1\">\r\n\t\t\t\t\t\t\t\t{prompt.command}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\" text-xs px-0.5\">\r\n\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\tcontent={prompt?.user?.email ?? $i18n.t('Deleted User')}\r\n\t\t\t\t\t\t\t\tclassName=\"flex shrink-0\"\r\n\t\t\t\t\t\t\t\tplacement=\"top-start\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div class=\"shrink-0 text-gray-500\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('By {{name}}', {\r\n\t\t\t\t\t\t\t\t\t\tname: capitalizeFirstLetter(\r\n\t\t\t\t\t\t\t\t\t\t\tprompt?.user?.name ?? prompt?.user?.email ?? $i18n.t('Deleted User')\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"flex flex-row gap-0.5 self-center\">\r\n\t\t\t\t\t<a\r\n\t\t\t\t\t\tclass=\"self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl\"\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\thref={`/workspace/prompts/edit?command=${encodeURIComponent(prompt.command)}`}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\tfill=\"none\"\r\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\tstroke-width=\"1.5\"\r\n\t\t\t\t\t\t\tstroke=\"currentColor\"\r\n\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\r\n\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\r\n\t\t\t\t\t\t\t\td=\"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t</a>\r\n\r\n\t\t\t\t\t<PromptMenu\r\n\t\t\t\t\t\tshareHandler={() => {\r\n\t\t\t\t\t\t\tshareHandler(prompt);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tcloneHandler={() => {\r\n\t\t\t\t\t\t\tcloneHandler(prompt);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\texportHandler={() => {\r\n\t\t\t\t\t\t\texportHandler(prompt);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tdeleteHandler={async () => {\r\n\t\t\t\t\t\t\tdeletePrompt = prompt;\r\n\t\t\t\t\t\t\tshowDeleteConfirm = true;\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonClose={() => {}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\"self-center w-fit text-sm p-1.5 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<EllipsisHorizontal className=\"size-5\" />\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</PromptMenu>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t{/each}\r\n\t</div>\r\n\r\n\t{#if $user?.role === 'admin'}\r\n\t\t<div class=\" flex justify-end w-full mb-3\">\r\n\t\t\t<div class=\"flex space-x-2\">\r\n\t\t\t\t<input\r\n\t\t\t\t\tid=\"prompts-import-input\"\r\n\t\t\t\t\tbind:this={promptsImportInputElement}\r\n\t\t\t\t\tbind:files={importFiles}\r\n\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\taccept=\".json\"\r\n\t\t\t\t\thidden\r\n\t\t\t\t\ton:change={() => {\r\n\t\t\t\t\t\t// console.log(importFiles);\r\n\r\n\t\t\t\t\t\tconst reader = new FileReader();\r\n\t\t\t\t\t\treader.onload = async (event) => {\r\n\t\t\t\t\t\t\tconst savedPrompts = JSON.parse(event.target.result);\r\n\t\t\t\t\t\t\t// console.log(savedPrompts);\r\n\r\n\t\t\t\t\t\t\tfor (const prompt of savedPrompts) {\r\n\t\t\t\t\t\t\t\tawait createNewPrompt(localStorage.token, {\r\n\t\t\t\t\t\t\t\t\tcommand:\r\n\t\t\t\t\t\t\t\t\t\tprompt.command.charAt(0) === '/' ? prompt.command.slice(1) : prompt.command,\r\n\t\t\t\t\t\t\t\t\ttitle: prompt.title,\r\n\t\t\t\t\t\t\t\t\tcontent: prompt.content\r\n\t\t\t\t\t\t\t\t}).catch((error) => {\r\n\t\t\t\t\t\t\t\t\ttoast.error(`${error}`);\r\n\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tprompts = await getPromptList(localStorage.token);\r\n\t\t\t\t\t\t\tawait _prompts.set(await getPrompts(localStorage.token));\r\n\r\n\t\t\t\t\t\t\timportFiles = [];\r\n\t\t\t\t\t\t\tpromptsImportInputElement.value = '';\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\treader.readAsText(importFiles[0]);\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<button\r\n\t\t\t\t\tclass=\"flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition\"\r\n\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\tpromptsImportInputElement.click();\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div class=\" self-center mr-2 font-medium line-clamp-1\">{$i18n.t('Import Prompts')}</div>\r\n\r\n\t\t\t\t\t<div class=\" self-center\">\r\n\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\td=\"M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z\"\r\n\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</button>\r\n\r\n\t\t\t\t{#if prompts.length}\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclass=\"flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition\"\r\n\t\t\t\t\t\ton:click={async () => {\r\n\t\t\t\t\t\t\tlet blob = new Blob([JSON.stringify(prompts)], {\r\n\t\t\t\t\t\t\t\ttype: 'application/json'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tsaveAs(blob, `prompts-export-${Date.now()}.json`);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div class=\" self-center mr-2 font-medium line-clamp-1\">\r\n\t\t\t\t\t\t\t{$i18n.t('Export Prompts')}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\" self-center\">\r\n\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\t\td=\"M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z\"\r\n\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t{/if}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t{/if}\r\n\r\n\t{#if $config?.features.enable_community_sharing}\r\n\t\t<div class=\" my-16\">\r\n\t\t\t<div class=\" text-xl font-medium mb-1 line-clamp-1\">\r\n\t\t\t\t{$i18n.t('Made by Open WebUI Community')}\r\n\t\t\t</div>\r\n\r\n\t\t\t<a\r\n\t\t\t\tclass=\" flex cursor-pointer items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-850 w-full mb-2 px-3.5 py-1.5 rounded-xl transition\"\r\n\t\t\t\thref=\"https://openwebui.com/#open-webui-community\"\r\n\t\t\t\ttarget=\"_blank\"\r\n\t\t\t>\r\n\t\t\t\t<div class=\" self-center\">\r\n\t\t\t\t\t<div class=\" font-semibold line-clamp-1\">{$i18n.t('Discover a prompt')}</div>\r\n\t\t\t\t\t<div class=\" text-sm line-clamp-1\">\r\n\t\t\t\t\t\t{$i18n.t('Discover, download, and explore custom prompts')}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<ChevronRight />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</a>\r\n\t\t</div>\r\n\t{/if}\r\n{:else}\r\n\t<div class=\"w-full h-full flex justify-center items-center\">\r\n\t\t<Spinner />\r\n\t</div>\r\n{/if}\r\n"],"names":["ctx","insert_hydration","target","div","anchor","set_data","t1","t1_value","create_if_block","hr","flyAndScale","i18n","getContext","shareHandler","$$props","cloneHandler","exportHandler","deleteHandler","onClose","show","e","t4_value","i","_a","create_if_block_2","_b","create_if_block_1","div7","append_hydration","div2","div1","div0","span","div6","div4","div3","input","div5","a","div8","current","dirty","t4","each_blocks","t2_value","t0","t0_value","t2","capitalizeFirstLetter","_d","_c","button","a0","a1","svg","path","if_block","create_if_block_3","title_value","saveAs","fileSaver","promptsImportInputElement","loaded","importFiles","query","prompts","showDeleteConfirm","deletePrompt","filteredItems","prompt","toast","$i18n","url","tab","event","goto","blob","command","deletePromptByCommand","init","getPromptList","_prompts","getPrompts","onMount","value","$$invalidate","$$value","reader","savedPrompts","createNewPrompt","error","p"],"mappings":"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"}