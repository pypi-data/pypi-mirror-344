{"version":3,"file":"26.B97fSQWG.js","sources":["../../../../../../src/lib/components/workspace/Models/ModelMenu.svelte","../../../../../../src/lib/components/workspace/Models.svelte","../../../../../../src/routes/(app)/workspace/models/+page.svelte"],"sourcesContent":["<script lang=\"ts\">\r\n\timport { DropdownMenu } from 'bits-ui';\r\n\timport { flyAndScale } from '$lib/utils/transitions';\r\n\timport { getContext } from 'svelte';\r\n\r\n\timport Dropdown from '$lib/components/common/Dropdown.svelte';\r\n\timport GarbageBin from '$lib/components/icons/GarbageBin.svelte';\r\n\timport Pencil from '$lib/components/icons/Pencil.svelte';\r\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\r\n\timport Tags from '$lib/components/chat/Tags.svelte';\r\n\timport Share from '$lib/components/icons/Share.svelte';\r\n\timport ArchiveBox from '$lib/components/icons/ArchiveBox.svelte';\r\n\timport DocumentDuplicate from '$lib/components/icons/DocumentDuplicate.svelte';\r\n\timport ArrowDownTray from '$lib/components/icons/ArrowDownTray.svelte';\r\n\timport ArrowUpCircle from '$lib/components/icons/ArrowUpCircle.svelte';\r\n\r\n\timport { config } from '$lib/stores';\r\n\r\n\tconst i18n = getContext('i18n');\r\n\r\n\texport let user;\r\n\texport let model;\r\n\r\n\texport let shareHandler: Function;\r\n\texport let cloneHandler: Function;\r\n\texport let exportHandler: Function;\r\n\r\n\texport let hideHandler: Function;\r\n\texport let deleteHandler: Function;\r\n\texport let onClose: Function;\r\n\r\n\tlet show = false;\r\n</script>\r\n\r\n<Dropdown\r\n\tbind:show\r\n\ton:change={(e) => {\r\n\t\tif (e.detail === false) {\r\n\t\t\tonClose();\r\n\t\t}\r\n\t}}\r\n>\r\n\t<Tooltip content={$i18n.t('More')}>\r\n\t\t<slot />\r\n\t</Tooltip>\r\n\r\n\t<div slot=\"content\">\r\n\t\t<DropdownMenu.Content\r\n\t\t\tclass=\"w-full max-w-[160px] rounded-xl px-1 py-1.5 border border-gray-300/30 dark:border-gray-700/50 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-sm\"\r\n\t\t\tsideOffset={-2}\r\n\t\t\tside=\"bottom\"\r\n\t\t\talign=\"start\"\r\n\t\t\ttransition={flyAndScale}\r\n\t\t>\r\n\t\t\t{#if $config?.features.enable_community_sharing}\r\n\t\t\t\t<DropdownMenu.Item\r\n\t\t\t\t\tclass=\"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800  rounded-md\"\r\n\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\tshareHandler();\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Share />\r\n\t\t\t\t\t<div class=\"flex items-center\">{$i18n.t('Share')}</div>\r\n\t\t\t\t</DropdownMenu.Item>\r\n\t\t\t{/if}\r\n\r\n\t\t\t<DropdownMenu.Item\r\n\t\t\t\tclass=\"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md\"\r\n\t\t\t\ton:click={() => {\r\n\t\t\t\t\tcloneHandler();\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<DocumentDuplicate />\r\n\r\n\t\t\t\t<div class=\"flex items-center\">{$i18n.t('Clone')}</div>\r\n\t\t\t</DropdownMenu.Item>\r\n\r\n\t\t\t<DropdownMenu.Item\r\n\t\t\t\tclass=\"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md\"\r\n\t\t\t\ton:click={() => {\r\n\t\t\t\t\texportHandler();\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<ArrowDownTray />\r\n\r\n\t\t\t\t<div class=\"flex items-center\">{$i18n.t('Export')}</div>\r\n\t\t\t</DropdownMenu.Item>\r\n\r\n\t\t\t<hr class=\"border-gray-100 dark:border-gray-850 my-1\" />\r\n\r\n\t\t\t<DropdownMenu.Item\r\n\t\t\t\tclass=\"flex  gap-2  items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md\"\r\n\t\t\t\ton:click={() => {\r\n\t\t\t\t\tdeleteHandler();\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<GarbageBin strokeWidth=\"2\" />\r\n\t\t\t\t<div class=\"flex items-center\">{$i18n.t('Delete')}</div>\r\n\t\t\t</DropdownMenu.Item>\r\n\t\t</DropdownMenu.Content>\r\n\t</div>\r\n</Dropdown>\r\n","<script lang=\"ts\">\r\n\timport { marked } from 'marked';\r\n\r\n\timport { toast } from 'svelte-sonner';\r\n\timport Sortable from 'sortablejs';\r\n\r\n\timport fileSaver from 'file-saver';\r\n\tconst { saveAs } = fileSaver;\r\n\r\n\timport { onMount, getContext, tick } from 'svelte';\r\n\timport { goto } from '$app/navigation';\r\n\tconst i18n = getContext('i18n');\r\n\r\n\timport { WEBUI_NAME, config, mobile, models as _models, settings, user } from '$lib/stores';\r\n\timport {\r\n\t\tcreateNewModel,\r\n\t\tdeleteModelById,\r\n\t\tgetModels as getWorkspaceModels,\r\n\t\ttoggleModelById,\r\n\t\tupdateModelById\r\n\t} from '$lib/apis/models';\r\n\r\n\timport { getModels } from '$lib/apis';\r\n\timport { getGroups } from '$lib/apis/groups';\r\n\r\n\timport EllipsisHorizontal from '../icons/EllipsisHorizontal.svelte';\r\n\timport ModelMenu from './Models/ModelMenu.svelte';\r\n\timport ModelDeleteConfirmDialog from '../common/ConfirmDialog.svelte';\r\n\timport Tooltip from '../common/Tooltip.svelte';\r\n\timport GarbageBin from '../icons/GarbageBin.svelte';\r\n\timport Search from '../icons/Search.svelte';\r\n\timport Plus from '../icons/Plus.svelte';\r\n\timport ChevronRight from '../icons/ChevronRight.svelte';\r\n\timport Switch from '../common/Switch.svelte';\r\n\timport Spinner from '../common/Spinner.svelte';\r\n\timport { capitalizeFirstLetter } from '$lib/utils';\r\n\r\n\tlet shiftKey = false;\r\n\r\n\tlet importFiles;\r\n\tlet modelsImportInputElement: HTMLInputElement;\r\n\tlet loaded = false;\r\n\r\n\tlet models = [];\r\n\r\n\tlet filteredModels = [];\r\n\tlet selectedModel = null;\r\n\r\n\tlet showModelDeleteConfirm = false;\r\n\r\n\tlet group_ids = [];\r\n\r\n\t$: if (models) {\r\n\t\tfilteredModels = models.filter(\r\n\t\t\t(m) => searchValue === '' || m.name.toLowerCase().includes(searchValue.toLowerCase())\r\n\t\t);\r\n\t}\r\n\r\n\tlet searchValue = '';\r\n\r\n\tconst deleteModelHandler = async (model) => {\r\n\t\tconst res = await deleteModelById(localStorage.token, model.id).catch((e) => {\r\n\t\t\ttoast.error(`${e}`);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tif (res) {\r\n\t\t\ttoast.success($i18n.t(`Deleted {{name}}`, { name: model.id }));\r\n\t\t}\r\n\r\n\t\tawait _models.set(\r\n\t\t\tawait getModels(\r\n\t\t\t\tlocalStorage.token,\r\n\t\t\t\t$config?.features?.enable_direct_connections && ($settings?.directConnections ?? null)\r\n\t\t\t)\r\n\t\t);\r\n\t\tmodels = await getWorkspaceModels(localStorage.token);\r\n\t};\r\n\r\n\tconst cloneModelHandler = async (model) => {\r\n\t\tsessionStorage.model = JSON.stringify({\r\n\t\t\t...model,\r\n\t\t\tid: `${model.id}-clone`,\r\n\t\t\tname: `${model.name} (Clone)`\r\n\t\t});\r\n\t\tgoto('/workspace/models/create');\r\n\t};\r\n\r\n\tconst shareModelHandler = async (model) => {\r\n\t\ttoast.success($i18n.t('Redirecting you to Open WebUI Community'));\r\n\r\n\t\tconst url = 'https://openwebui.com';\r\n\r\n\t\tconst tab = await window.open(`${url}/models/create`, '_blank');\r\n\r\n\t\tconst messageHandler = (event) => {\r\n\t\t\tif (event.origin !== url) return;\r\n\t\t\tif (event.data === 'loaded') {\r\n\t\t\t\ttab.postMessage(JSON.stringify(model), '*');\r\n\t\t\t\twindow.removeEventListener('message', messageHandler);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\twindow.addEventListener('message', messageHandler, false);\r\n\t};\r\n\r\n\tconst hideModelHandler = async (model) => {\r\n\t\tlet info = model.info;\r\n\r\n\t\tif (!info) {\r\n\t\t\tinfo = {\r\n\t\t\t\tid: model.id,\r\n\t\t\t\tname: model.name,\r\n\t\t\t\tmeta: {\r\n\t\t\t\t\tsuggestion_prompts: null\r\n\t\t\t\t},\r\n\t\t\t\tparams: {}\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tinfo.meta = {\r\n\t\t\t...info.meta,\r\n\t\t\thidden: !(info?.meta?.hidden ?? false)\r\n\t\t};\r\n\r\n\r\n\t\tconst res = await updateModelById(localStorage.token, info.id, info);\r\n\r\n\t\tif (res) {\r\n\t\t\ttoast.success(\r\n\t\t\t\t$i18n.t(`Model {{name}} is now {{status}}`, {\r\n\t\t\t\t\tname: info.id,\r\n\t\t\t\t\tstatus: info.meta.hidden ? 'hidden' : 'visible'\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tawait _models.set(\r\n\t\t\tawait getModels(\r\n\t\t\t\tlocalStorage.token,\r\n\t\t\t\t$config?.features?.enable_direct_connections && ($settings?.directConnections ?? null)\r\n\t\t\t)\r\n\t\t);\r\n\t\tmodels = await getWorkspaceModels(localStorage.token);\r\n\t};\r\n\r\n\tconst downloadModels = async (models) => {\r\n\t\tlet blob = new Blob([JSON.stringify(models)], {\r\n\t\t\ttype: 'application/json'\r\n\t\t});\r\n\t\tsaveAs(blob, `models-export-${Date.now()}.json`);\r\n\t};\r\n\r\n\tconst exportModelHandler = async (model) => {\r\n\t\tlet blob = new Blob([JSON.stringify([model])], {\r\n\t\t\ttype: 'application/json'\r\n\t\t});\r\n\t\tsaveAs(blob, `${model.id}-${Date.now()}.json`);\r\n\t};\r\n\r\n\tonMount(async () => {\r\n\t\tmodels = await getWorkspaceModels(localStorage.token);\r\n\t\tlet groups = await getGroups(localStorage.token);\r\n\t\tgroup_ids = groups.map((group) => group.id);\r\n\r\n\t\tloaded = true;\r\n\r\n\t\tconst onKeyDown = (event) => {\r\n\t\t\tif (event.key === 'Shift') {\r\n\t\t\t\tshiftKey = true;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tconst onKeyUp = (event) => {\r\n\t\t\tif (event.key === 'Shift') {\r\n\t\t\t\tshiftKey = false;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tconst onBlur = () => {\r\n\t\t\tshiftKey = false;\r\n\t\t};\r\n\r\n\t\twindow.addEventListener('keydown', onKeyDown);\r\n\t\twindow.addEventListener('keyup', onKeyUp);\r\n\t\twindow.addEventListener('blur-sm', onBlur);\r\n\r\n\t\treturn () => {\r\n\t\t\twindow.removeEventListener('keydown', onKeyDown);\r\n\t\t\twindow.removeEventListener('keyup', onKeyUp);\r\n\t\t\twindow.removeEventListener('blur-sm', onBlur);\r\n\t\t};\r\n\t});\r\n</script>\r\n\r\n<svelte:head>\r\n\t<title>\r\n\t\t{$i18n.t('Models')} | {$WEBUI_NAME}\r\n\t</title>\r\n</svelte:head>\r\n\r\n{#if loaded}\r\n\t<ModelDeleteConfirmDialog\r\n\t\tbind:show={showModelDeleteConfirm}\r\n\t\ton:confirm={() => {\r\n\t\t\tdeleteModelHandler(selectedModel);\r\n\t\t}}\r\n\t/>\r\n\r\n\t<div class=\"flex flex-col gap-1 my-1.5\">\r\n\t\t<div class=\"flex justify-between items-center\">\r\n\t\t\t<div class=\"flex items-center md:self-center text-xl font-medium px-0.5\">\r\n\t\t\t\t{$i18n.t('Models')}\r\n\t\t\t\t<div class=\"flex self-center w-[1px] h-6 mx-2.5 bg-gray-50 dark:bg-gray-850\" />\r\n\t\t\t\t<span class=\"text-lg font-medium text-gray-500 dark:text-gray-300\"\r\n\t\t\t\t\t>{filteredModels.length}</span\r\n\t\t\t\t>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\" flex flex-1 items-center w-full space-x-2\">\r\n\t\t\t<div class=\"flex flex-1 items-center\">\r\n\t\t\t\t<div class=\" self-center ml-1 mr-3\">\r\n\t\t\t\t\t<Search className=\"size-3.5\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclass=\" w-full text-sm py-1 rounded-r-xl outline-hidden bg-transparent\"\r\n\t\t\t\t\tbind:value={searchValue}\r\n\t\t\t\t\tplaceholder={$i18n.t('Search Models')}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<a\r\n\t\t\t\t\tclass=\" px-2 py-2 rounded-xl hover:bg-gray-700/10 dark:hover:bg-gray-100/10 dark:text-gray-300 dark:hover:text-white transition font-medium text-sm flex items-center space-x-1\"\r\n\t\t\t\t\thref=\"/workspace/models/create\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<Plus className=\"size-3.5\" />\r\n\t\t\t\t</a>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<div class=\" my-2 mb-5 gap-2 grid lg:grid-cols-2 xl:grid-cols-3\" id=\"model-list\">\r\n\t\t{#each filteredModels as model}\r\n\t\t\t<div\r\n\t\t\t\tclass=\" flex flex-col cursor-pointer w-full px-3 py-2 dark:hover:bg-white/5 hover:bg-black/5 rounded-xl transition\"\r\n\t\t\t\tid=\"model-item-{model.id}\"\r\n\t\t\t>\r\n\t\t\t\t<div class=\"flex gap-4 mt-0.5 mb-0.5\">\r\n\t\t\t\t\t<div class=\" w-[44px]\">\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclass=\" rounded-full object-cover {model.is_active\r\n\t\t\t\t\t\t\t\t? ''\r\n\t\t\t\t\t\t\t\t: 'opacity-50 dark:opacity-50'} \"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tsrc={model?.meta?.profile_image_url ?? '/static/favicon.png'}\r\n\t\t\t\t\t\t\t\talt=\"modelfile profile\"\r\n\t\t\t\t\t\t\t\tclass=\" rounded-full w-full h-auto object-cover\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<a\r\n\t\t\t\t\t\tclass=\" flex flex-1 cursor-pointer w-full\"\r\n\t\t\t\t\t\thref={`/?models=${encodeURIComponent(model.id)}`}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div class=\" flex-1 self-center {model.is_active ? '' : 'text-gray-500'}\">\r\n\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\tcontent={marked.parse(model?.meta?.description ?? model.id)}\r\n\t\t\t\t\t\t\t\tclassName=\" w-fit\"\r\n\t\t\t\t\t\t\t\tplacement=\"top-start\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div class=\" font-semibold line-clamp-1\">{model.name}</div>\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\r\n\t\t\t\t\t\t\t<div class=\"flex gap-1 text-xs overflow-hidden\">\r\n\t\t\t\t\t\t\t\t<div class=\"line-clamp-1\">\r\n\t\t\t\t\t\t\t\t\t{#if (model?.meta?.description ?? '').trim()}\r\n\t\t\t\t\t\t\t\t\t\t{model?.meta?.description}\r\n\t\t\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t\t\t{model.id}\r\n\t\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"flex justify-between items-center -mb-0.5 px-0.5\">\r\n\t\t\t\t\t<div class=\" text-xs mt-0.5\">\r\n\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\tcontent={model?.user?.email ?? $i18n.t('Deleted User')}\r\n\t\t\t\t\t\t\tclassName=\"flex shrink-0\"\r\n\t\t\t\t\t\t\tplacement=\"top-start\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div class=\"shrink-0 text-gray-500\">\r\n\t\t\t\t\t\t\t\t{$i18n.t('By {{name}}', {\r\n\t\t\t\t\t\t\t\t\tname: capitalizeFirstLetter(\r\n\t\t\t\t\t\t\t\t\t\tmodel?.user?.name ?? model?.user?.email ?? $i18n.t('Deleted User')\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"flex flex-row gap-0.5 items-center\">\r\n\t\t\t\t\t\t{#if shiftKey}\r\n\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Delete')}>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclass=\"self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl\"\r\n\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\t\tdeleteModelHandler(model);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<GarbageBin />\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t{#if $user?.role === 'admin' || model.user_id === $user?.id || model.access_control.write.group_ids.some( (wg) => group_ids.includes(wg) )}\r\n\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\tclass=\"self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl\"\r\n\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\thref={`/workspace/models/edit?id=${encodeURIComponent(model.id)}`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t\tfill=\"none\"\r\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\t\t\t\tstroke-width=\"1.5\"\r\n\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\r\n\t\t\t\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\r\n\t\t\t\t\t\t\t\t\t\t\td=\"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t{/if}\r\n\r\n\t\t\t\t\t\t\t<ModelMenu\r\n\t\t\t\t\t\t\t\tuser={$user}\r\n\t\t\t\t\t\t\t\t{model}\r\n\t\t\t\t\t\t\t\tshareHandler={() => {\r\n\t\t\t\t\t\t\t\t\tshareModelHandler(model);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tcloneHandler={() => {\r\n\t\t\t\t\t\t\t\t\tcloneModelHandler(model);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\texportHandler={() => {\r\n\t\t\t\t\t\t\t\t\texportModelHandler(model);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\thideHandler={() => {\r\n\t\t\t\t\t\t\t\t\thideModelHandler(model);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tdeleteHandler={() => {\r\n\t\t\t\t\t\t\t\t\tselectedModel = model;\r\n\t\t\t\t\t\t\t\t\tshowModelDeleteConfirm = true;\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tonClose={() => {}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclass=\"self-center w-fit text-sm p-1.5 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl\"\r\n\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<EllipsisHorizontal className=\"size-5\" />\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</ModelMenu>\r\n\r\n\t\t\t\t\t\t\t<div class=\"ml-1\">\r\n\t\t\t\t\t\t\t\t<Tooltip content={model.is_active ? $i18n.t('Enabled') : $i18n.t('Disabled')}>\r\n\t\t\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\t\t\tbind:state={model.is_active}\r\n\t\t\t\t\t\t\t\t\t\ton:change={async (e) => {\r\n\t\t\t\t\t\t\t\t\t\t\ttoggleModelById(localStorage.token, model.id);\r\n\t\t\t\t\t\t\t\t\t\t\t_models.set(\r\n\t\t\t\t\t\t\t\t\t\t\t\tawait getModels(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.token,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t$config?.features?.enable_direct_connections &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t($settings?.directConnections ?? null)\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t{/each}\r\n\t</div>\r\n\r\n\t{#if $user?.role === 'admin'}\r\n\t\t<div class=\" flex justify-end w-full mb-3\">\r\n\t\t\t<div class=\"flex space-x-1\">\r\n\t\t\t\t<input\r\n\t\t\t\t\tid=\"models-import-input\"\r\n\t\t\t\t\tbind:this={modelsImportInputElement}\r\n\t\t\t\t\tbind:files={importFiles}\r\n\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\taccept=\".json\"\r\n\t\t\t\t\thidden\r\n\t\t\t\t\ton:change={() => {\r\n\t\t\t\t\t\t// console.log(importFiles);\r\n\r\n\t\t\t\t\t\tlet reader = new FileReader();\r\n\t\t\t\t\t\treader.onload = async (event) => {\r\n\t\t\t\t\t\t\tlet savedModels = JSON.parse(event.target.result);\r\n\t\t\t\t\t\t\t// console.log(savedModels);\r\n\r\n\t\t\t\t\t\t\tfor (const model of savedModels) {\r\n\t\t\t\t\t\t\t\tif (model?.info ?? false) {\r\n\t\t\t\t\t\t\t\t\tif ($_models.find((m) => m.id === model.id)) {\r\n\t\t\t\t\t\t\t\t\t\tawait updateModelById(localStorage.token, model.id, model.info).catch(\r\n\t\t\t\t\t\t\t\t\t\t\t(error) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tawait createNewModel(localStorage.token, model.info).catch((error) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tif (model?.id && model?.name) {\r\n\t\t\t\t\t\t\t\t\t\tawait createNewModel(localStorage.token, model).catch((error) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tawait _models.set(\r\n\t\t\t\t\t\t\t\tawait getModels(\r\n\t\t\t\t\t\t\t\t\tlocalStorage.token,\r\n\t\t\t\t\t\t\t\t\t$config?.features?.enable_direct_connections &&\r\n\t\t\t\t\t\t\t\t\t\t($settings?.directConnections ?? null)\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tmodels = await getWorkspaceModels(localStorage.token);\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\treader.readAsText(importFiles[0]);\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<button\r\n\t\t\t\t\tclass=\"flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition\"\r\n\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\tmodelsImportInputElement.click();\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div class=\" self-center mr-2 font-medium line-clamp-1\">{$i18n.t('Import Models')}</div>\r\n\r\n\t\t\t\t\t<div class=\" self-center\">\r\n\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\tclass=\"w-3.5 h-3.5\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\td=\"M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z\"\r\n\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</button>\r\n\r\n\t\t\t\t{#if models.length}\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclass=\"flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition\"\r\n\t\t\t\t\t\ton:click={async () => {\r\n\t\t\t\t\t\t\tdownloadModels(models);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div class=\" self-center mr-2 font-medium line-clamp-1\">\r\n\t\t\t\t\t\t\t{$i18n.t('Export Models')}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\" self-center\">\r\n\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\tclass=\"w-3.5 h-3.5\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\t\td=\"M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z\"\r\n\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t{/if}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t{/if}\r\n\r\n\t{#if $config?.features.enable_community_sharing}\r\n\t\t<div class=\" my-16\">\r\n\t\t\t<div class=\" text-xl font-medium mb-1 line-clamp-1\">\r\n\t\t\t\t{$i18n.t('Made by Open WebUI Community')}\r\n\t\t\t</div>\r\n\r\n\t\t\t<a\r\n\t\t\t\tclass=\" flex cursor-pointer items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-850 w-full mb-2 px-3.5 py-1.5 rounded-xl transition\"\r\n\t\t\t\thref=\"https://openwebui.com/#open-webui-community\"\r\n\t\t\t\ttarget=\"_blank\"\r\n\t\t\t>\r\n\t\t\t\t<div class=\" self-center\">\r\n\t\t\t\t\t<div class=\" font-semibold line-clamp-1\">{$i18n.t('Discover a model')}</div>\r\n\t\t\t\t\t<div class=\" text-sm line-clamp-1\">\r\n\t\t\t\t\t\t{$i18n.t('Discover, download, and explore model presets')}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<ChevronRight />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</a>\r\n\t\t</div>\r\n\t{/if}\r\n{:else}\r\n\t<div class=\"w-full h-full flex justify-center items-center\">\r\n\t\t<Spinner />\r\n\t</div>\r\n{/if}\r\n","<script>\r\n\timport { onMount } from 'svelte';\r\n\timport { config, models, settings } from '$lib/stores';\r\n\timport { getModels } from '$lib/apis';\r\n\timport Models from '$lib/components/workspace/Models.svelte';\r\n\r\n\tonMount(async () => {\r\n\t\tawait Promise.all([\r\n\t\t\t(async () => {\r\n\t\t\t\tmodels.set(\r\n\t\t\t\t\tawait getModels(\r\n\t\t\t\t\t\tlocalStorage.token,\r\n\t\t\t\t\t\t$config?.features?.enable_direct_connections && ($settings?.directConnections ?? null)\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\t\t\t})()\r\n\t\t]);\r\n\t});\r\n</script>\r\n\r\n{#if $models !== null}\r\n\t<Models />\r\n{/if}\r\n"],"names":["ctx","insert_hydration","target","div","anchor","set_data","t1","t1_value","_a","create_if_block","hr","flyAndScale","i18n","getContext","user","$$props","model","shareHandler","cloneHandler","exportHandler","hideHandler","deleteHandler","onClose","show","e","t4_value","i","create_if_block_2","_b","create_if_block_1","div7","append_hydration","div2","div1","div0","span","div6","div4","div3","input","div5","a","div8","current","dirty","t4","each_blocks","t_value","t","capitalizeFirstLetter","_d","_c","tooltip_changes","svg","path","button","switch_1_props","switch_1_changes","marked","show_if","src_url_equal","img","img_src_value","attr","div0_class_value","div4_class_value","div9","div9_id_value","_f","_e","if_block","create_if_block_3","t0","t0_value","t2","t2_value","title_value","saveAs","fileSaver","shiftKey","importFiles","modelsImportInputElement","loaded","models","filteredModels","selectedModel","showModelDeleteConfirm","group_ids","searchValue","deleteModelHandler","deleteModelById","toast","$i18n","_models","getModels","$config","$settings","getWorkspaceModels","cloneModelHandler","goto","shareModelHandler","url","tab","messageHandler","event","hideModelHandler","info","updateModelById","downloadModels","blob","exportModelHandler","onMount","groups","getGroups","$$invalidate","group","onKeyDown","onKeyUp","onBlur","func","wg","value","$$self","toggleModelById","$$value","reader","savedModels","$_models","m","error","createNewModel"],"mappings":"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"}