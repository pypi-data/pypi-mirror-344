[build-system]
build-backend = "hatchling.build"
requires = [
  "hatchling==1.26.3", "hatch-vcs"
]

[project]
name = "mhcflow"
description = "MHC Class I and II workflow with fisher, realigner and typer."
readme = {file="README.md", content-type = "text/markdown"}
keywords = ["bioinformatics, genomics, sequencing, HLA typing"]
authors = [
    { name = "simo", email = "svm.zhang@gmail.com" }
]
classifiers = [
  "Development Status :: 4 - Beta",
  "Intended Audience :: Developers",
  "License :: OSI Approved :: MIT License",
  "Operating System :: OS Independent",
  "Programming Language :: Python :: 3 :: Only",
  "Programming Language :: Python :: 3.10",
  "Programming Language :: Python :: 3.11",
  "Programming Language :: Python :: 3.12",
  "Programming Language :: Python :: 3.13",
  "Topic :: Scientific/Engineering :: Bio-Informatics",
  "Topic :: Software Development :: Libraries"
]
dependencies = [
    "tinyscibio>=0.4.3",
    "pyahocorasick>=2.1.0",
    "pyfaidx>=0.8.1.3",
    "mhctyper>=0.1.7",
]
urls.Source = "https://github.com/svm-zhang/mhcflow"
urls.Documentation = "https://svm-zhang.github.io/mhcflow/"
urls.Issues = "https://github.com/svm-zhang/mhcflow/issues"
license = "MIT"
maintainers = [
    { name = "Simo Zhang", email = "svm.zhang@gmail.com" }
]
dynamic = ["version"]
requires-python = ">= 3.10"

[project.scripts]
mhcflow = "mhcflow:run_mhcflow"

[tool.rye]
managed = true
dev-dependencies = [
    "tox>=4.24.2",
    "mypy>=1.15.0",
]

[tool.hatch]
metadata.allow-direct-references = true
build.targets.sdist.include = [
  "/src",
  "/tests",
  "/tox.ini"
]
build.targets.wheel.packages = ["src/mhcflow"]
build.hooks.vcs.version-file = "src/mhcflow/_version.py"
version.source = "vcs"

[tool.mypy]
strict = true
pretty = true
overrides = [
  { module = [
      "pyfaidx", "ahocorasick"
    ], ignore_missing_imports = true},
]

