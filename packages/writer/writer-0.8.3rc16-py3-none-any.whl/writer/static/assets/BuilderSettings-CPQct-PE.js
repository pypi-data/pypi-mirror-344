function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./index-CNbwmdyR.js","./index-DOkRxd0H.css","./BuilderGraphSelect-CC_OWkQn.js","./useListResources-CQnLx3LA.js","./BuilderApp-C6T0ggdS.js","./marked.esm-273vDTCT.js","./BuilderApp-D9x64QFF.css","./BuilderGraphSelect-CVO4gzts.css","./BuilderEmbeddedCodeEditor-CDgBqpMc.js","./BuilderEmbeddedCodeEditor-DiDqfWdt.css","./BuilderApplicationSelect-C5I2ezAV.js","./BuilderApplicationSelect-DYYFtqjx.css","./BuilderSettingsHandlers-oSi9BAqx.js","./useBlueprintRun-iWGFOboM.js","./BuilderSettingsHandlers-1QLaHR8J.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{d as U,i as j,a as D,u as ht,c as w,r as H,w as $e,n as be,o as p,e as B,N as g,b as F,x as q,f as E,W as Q,X as x,a8 as Ie,ao as Oe,s as P,z as Z,A as me,t as G,V as Pe,C as We,Y as ee,_ as z,P as yt,aj as gt,ah as re,y as ae,q as Be,aF as _t,I as ve,G as Ve,aA as bt,aC as kt,l as Y,aG as te,aH as Ae,ae as oe,M as le,ac as Je,k as lt,v as Te,aI as De,ab as It,aJ as St,aK as Et,aL as J,aM as Ct,aN as xt,aO as wt,aP as Bt,F as pe,al as $t}from"./index-CNbwmdyR.js";import{u as At,B as Se}from"./BuilderApp-C6T0ggdS.js";import{p as Mt}from"./instancePath-BsbOTTI8.js";import{u as Tt}from"./useComponentDescription-ohT5g4wJ.js";import{B as He}from"./BuilderEmbeddedCodeEditor-CDgBqpMc.js";import"./marked.esm-273vDTCT.js";const Ft=["data-writer-id"],Ot={id:"validChildrenTypes"},Vt=["value"],Rt=U({__name:"BuilderSettingsActions",setup(n){const e=j(D.core),t=j(D.builderManager),s=ht(e),{createAndInsertComponent:o,moveComponentUp:l,moveComponentDown:a,cutComponent:i,pasteComponent:d,copyComponent:u,isAddAllowed:f,isCopyAllowed:m,isCutAllowed:I,isGoToParentAllowed:r,isPasteAllowed:v,isDeleteAllowed:k,getEnabledMoves:b,removeComponentsSubtree:y,goToParent:S}=ee(e,t,s),M=At();async function V(){try{await d(O.value)}catch(R){M.pushToast({type:"error",message:String(R)})}}function A(){if(!C.value.isDeleteEnabled)return;const R=t.selection.value.map(T=>T.componentId);R.length!==0&&y(...R)}const O=t.firstSelectedId,W=w(()=>{var R;return(R=t.firstSelectedItem.value)==null?void 0:R.instancePath}),$=H(!1),C=H(null),c=w(()=>t.firstSelectedId.value?v(t.firstSelectedId.value):!1),_=w(()=>{const R=e.getContainableTypes(O.value),T={};return R.map(K=>{const se=e.getComponentDefinition(K);T[K]=se}),T});function h(R){const T=R.target.value,K=Object.entries(_.value).filter(([ce,ye])=>ye.name==T);if(K.length==0)return;const se=K[0][0];o(se,O.value),$.value=!1}function N(){var se,ce;const R=e.getComponentById(O.value);if(!R)return;const{up:T,down:K}=b(O.value);C.value={isAddEnabled:f(O.value),componentTypeName:(se=e.getComponentDefinition(R.type))==null?void 0:se.name,toolkit:(ce=e.getComponentDefinition(R.type))==null?void 0:ce.toolkit,isMoveUpEnabled:T,isMoveDownEnabled:K,isCopyEnabled:m(O.value),isCutEnabled:I(O.value),isGoToParentEnabled:r(O.value),isDeleteEnabled:k(O.value)}}return $e(()=>{var R;return(R=e.getComponentById(O.value))==null?void 0:R.position},async R=>{typeof R>"u"||R===null||N()},{flush:"post"}),be(()=>{N()}),(R,T)=>{var K,se,ce,ye,Ce,xe,we;return p(),B("div",{class:We(["BuilderSettingsActions",{collapsed:g(t).isSettingsBarCollapsed.value}]),"data-writer-id":g(O)},[g(t).isSingleSelectionActive.value?(p(),F(Q,{key:0,"data-writer-tooltip":"Add child","data-writer-tooltip-placement":"left",variant:"neutral",size:"smallIcon",class:"actionButton",disabled:!((K=C.value)!=null&&K.isAddEnabled),onClick:T[0]||(T[0]=ue=>{var X;return(X=C.value)!=null&&X.isAddEnabled?$.value=!0:void 0})},{default:q(()=>T[8]||(T[8]=[E("i",{class:"material-symbols-outlined"},"add",-1)])),_:1},8,["disabled"])):x("",!0),g(t).isSingleSelectionActive.value?(p(),F(Q,{key:1,class:"actionButton",size:"small",variant:"neutral","data-writer-tooltip-placement":"left","data-writer-tooltip":`Move up (${g(Ie)()}↑)`,disabled:!((se=C.value)!=null&&se.isMoveUpEnabled),onClick:T[1]||(T[1]=ue=>{var X;return(X=C.value)!=null&&X.isMoveUpEnabled?g(l)(g(O)):void 0})},{default:q(()=>T[9]||(T[9]=[E("i",{class:"material-symbols-outlined"},"arrow_upward",-1)])),_:1},8,["data-writer-tooltip","disabled"])):x("",!0),g(t).isSingleSelectionActive.value?(p(),F(Q,{key:2,class:"actionButton",variant:"neutral",size:"small","data-writer-tooltip":`Move down (${g(Ie)()}↓)`,"data-writer-tooltip-placement":"left",disabled:!((ce=C.value)!=null&&ce.isMoveDownEnabled),onClick:T[2]||(T[2]=ue=>{var X;return(X=C.value)!=null&&X.isMoveDownEnabled?g(a)(g(O)):void 0})},{default:q(()=>T[10]||(T[10]=[E("i",{class:"material-symbols-outlined"},"arrow_downward",-1)])),_:1},8,["data-writer-tooltip","disabled"])):x("",!0),g(t).isSingleSelectionActive.value?(p(),F(Q,{key:3,class:"actionButton",variant:"neutral",size:"small","data-writer-tooltip":`Cut (${g(Ie)()}X)`,"data-writer-tooltip-placement":"left",disabled:!((ye=C.value)!=null&&ye.isCutEnabled),onClick:T[3]||(T[3]=ue=>{var X;return(X=C.value)!=null&&X.isCutEnabled?g(i)(g(O)):void 0})},{default:q(()=>T[11]||(T[11]=[E("i",{class:"material-symbols-outlined"},"cut",-1)])),_:1},8,["data-writer-tooltip","disabled"])):x("",!0),g(t).isSingleSelectionActive.value?(p(),F(Q,{key:4,class:"actionButton",variant:"neutral",size:"small","data-writer-tooltip":`Copy (${g(Ie)()}C)`,"data-writer-tooltip-placement":"left",disabled:!((Ce=C.value)!=null&&Ce.isCopyEnabled),onClick:T[4]||(T[4]=ue=>{var X;return(X=C.value)!=null&&X.isCopyEnabled?g(u)(g(O)):void 0})},{default:q(()=>T[12]||(T[12]=[E("i",{class:"material-symbols-outlined"},"content_copy",-1)])),_:1},8,["data-writer-tooltip","disabled"])):x("",!0),g(t).isSingleSelectionActive.value?(p(),F(Q,{key:5,class:"actionButton",variant:"neutral",size:"small","data-writer-tooltip":`Paste (${g(Ie)()}V)`,"data-writer-tooltip-placement":"left",disabled:!c.value,onClick:V},{default:q(()=>T[13]||(T[13]=[E("i",{class:"material-symbols-outlined"},"content_paste",-1)])),_:1},8,["data-writer-tooltip","disabled"])):x("",!0),g(t).isSingleSelectionActive.value?(p(),F(Q,{key:6,class:"actionButton",variant:"neutral",size:"small","data-writer-tooltip":`Go to parent (${g(Ie)()}Shift ↑)`,"data-writer-tooltip-placement":"left",disabled:!((xe=C.value)!=null&&xe.isGoToParentEnabled),onClick:T[5]||(T[5]=ue=>{var X;return(X=C.value)!=null&&X.isGoToParentEnabled?g(S)(g(O),W.value):void 0})},{default:q(()=>T[14]||(T[14]=[E("i",{class:"material-symbols-outlined"},"move_up",-1)])),_:1},8,["data-writer-tooltip","disabled"])):x("",!0),g(t).selectionStatus.value===g(Oe).Multiple?(p(),F(Q,{key:7,class:"actionButton",variant:"neutral",size:"small","data-automation-action":"clear-selection","data-writer-tooltip":"Clear selection","data-writer-tooltip-placement":"left",onClick:T[6]||(T[6]=ue=>g(t).setSelection(null))},{default:q(()=>T[15]||(T[15]=[E("i",{class:"material-symbols-outlined"},"close",-1)])),_:1})):x("",!0),P(Q,{class:"actionButton delete",variant:"neutral",size:"small","data-automation-action":"delete","data-writer-tooltip":"Delete (Del)","data-writer-tooltip-placement":"left",disabled:!((we=C.value)!=null&&we.isDeleteEnabled),onClick:A},{default:q(()=>T[16]||(T[16]=[E("i",{class:"material-symbols-outlined"},"delete",-1)])),_:1},8,["disabled"]),$.value?(p(),F(Pe,{key:8,title:"Add child component","display-close-button":"",onClose:T[7]||(T[7]=ue=>$.value=!1)},{default:q(()=>[E("input",{class:"addModalInput",type:"text",list:"validChildrenTypes",placeholder:"Component...",onChange:h},null,32),E("datalist",Ot,[(p(!0),B(Z,null,me(_.value,(ue,X)=>(p(),B("option",{key:X,value:ue.name},G(ue.name),9,Vt))),128))])]),_:1})):x("",!0)],10,Ft)}}}),Pt=z(Rt,[["__scopeId","data-v-1366a657"]]);function fe(n){return Array.isArray?Array.isArray(n):it(n)==="[object Array]"}const Wt=1/0;function Lt(n){if(typeof n=="string")return n;let e=n+"";return e=="0"&&1/n==-Wt?"-0":e}function jt(n){return n==null?"":Lt(n)}function de(n){return typeof n=="string"}function st(n){return typeof n=="number"}function Dt(n){return n===!0||n===!1||Nt(n)&&it(n)=="[object Boolean]"}function at(n){return typeof n=="object"}function Nt(n){return at(n)&&n!==null}function ne(n){return n!=null}function Le(n){return!n.trim().length}function it(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}const qt="Incorrect 'index' type",Ut=n=>`Invalid value for key ${n}`,Kt=n=>`Pattern length exceeds max of ${n}.`,zt=n=>`Missing ${n} property in key`,Yt=n=>`Property 'weight' in key '${n}' must be a positive integer`,Xe=Object.prototype.hasOwnProperty;class Gt{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(s=>{let o=rt(s);this._keys.push(o),this._keyMap[o.id]=o,t+=o.weight}),this._keys.forEach(s=>{s.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function rt(n){let e=null,t=null,s=null,o=1,l=null;if(de(n)||fe(n))s=n,e=Qe(n),t=Ne(n);else{if(!Xe.call(n,"name"))throw new Error(zt("name"));const a=n.name;if(s=a,Xe.call(n,"weight")&&(o=n.weight,o<=0))throw new Error(Yt(a));e=Qe(a),t=Ne(a),l=n.getFn}return{path:e,id:t,weight:o,src:s,getFn:l}}function Qe(n){return fe(n)?n:n.split(".")}function Ne(n){return fe(n)?n.join("."):n}function Jt(n,e){let t=[],s=!1;const o=(l,a,i)=>{if(ne(l))if(!a[i])t.push(l);else{let d=a[i];const u=l[d];if(!ne(u))return;if(i===a.length-1&&(de(u)||st(u)||Dt(u)))t.push(jt(u));else if(fe(u)){s=!0;for(let f=0,m=u.length;f<m;f+=1)o(u[f],a,i+1)}else a.length&&o(u,a,i+1)}};return o(n,de(e)?e.split("."):e,0),s?t:t[0]}const Ht={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Xt={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(n,e)=>n.score===e.score?n.idx<e.idx?-1:1:n.score<e.score?-1:1},Qt={location:0,threshold:.6,distance:100},Zt={useExtendedSearch:!1,getFn:Jt,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var L={...Xt,...Ht,...Qt,...Zt};const en=/[^ ]+/g;function tn(n=1,e=3){const t=new Map,s=Math.pow(10,e);return{get(o){const l=o.match(en).length;if(t.has(l))return t.get(l);const a=1/Math.pow(l,.5*n),i=parseFloat(Math.round(a*s)/s);return t.set(l,i),i},clear(){t.clear()}}}class Ge{constructor({getFn:e=L.getFn,fieldNormWeight:t=L.fieldNormWeight}={}){this.norm=tn(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((t,s)=>{this._keysMap[t.id]=s})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,de(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){const t=this.size();de(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,s=this.size();t<s;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!ne(e)||Le(e))return;let s={v:e,i:t,n:this.norm.get(e)};this.records.push(s)}_addObject(e,t){let s={i:t,$:{}};this.keys.forEach((o,l)=>{let a=o.getFn?o.getFn(e):this.getFn(e,o.path);if(ne(a)){if(fe(a)){let i=[];const d=[{nestedArrIndex:-1,value:a}];for(;d.length;){const{nestedArrIndex:u,value:f}=d.pop();if(ne(f))if(de(f)&&!Le(f)){let m={v:f,i:u,n:this.norm.get(f)};i.push(m)}else fe(f)&&f.forEach((m,I)=>{d.push({nestedArrIndex:I,value:m})})}s.$[l]=i}else if(de(a)&&!Le(a)){let i={v:a,n:this.norm.get(a)};s.$[l]=i}}}),this.records.push(s)}toJSON(){return{keys:this.keys,records:this.records}}}function ut(n,e,{getFn:t=L.getFn,fieldNormWeight:s=L.fieldNormWeight}={}){const o=new Ge({getFn:t,fieldNormWeight:s});return o.setKeys(n.map(rt)),o.setSources(e),o.create(),o}function nn(n,{getFn:e=L.getFn,fieldNormWeight:t=L.fieldNormWeight}={}){const{keys:s,records:o}=n,l=new Ge({getFn:e,fieldNormWeight:t});return l.setKeys(s),l.setIndexRecords(o),l}function Fe(n,{errors:e=0,currentLocation:t=0,expectedLocation:s=0,distance:o=L.distance,ignoreLocation:l=L.ignoreLocation}={}){const a=e/n.length;if(l)return a;const i=Math.abs(s-t);return o?a+i/o:i?1:a}function on(n=[],e=L.minMatchCharLength){let t=[],s=-1,o=-1,l=0;for(let a=n.length;l<a;l+=1){let i=n[l];i&&s===-1?s=l:!i&&s!==-1&&(o=l-1,o-s+1>=e&&t.push([s,o]),s=-1)}return n[l-1]&&l-s>=e&&t.push([s,l-1]),t}const ge=32;function ln(n,e,t,{location:s=L.location,distance:o=L.distance,threshold:l=L.threshold,findAllMatches:a=L.findAllMatches,minMatchCharLength:i=L.minMatchCharLength,includeMatches:d=L.includeMatches,ignoreLocation:u=L.ignoreLocation}={}){if(e.length>ge)throw new Error(Kt(ge));const f=e.length,m=n.length,I=Math.max(0,Math.min(s,m));let r=l,v=I;const k=i>1||d,b=k?Array(m):[];let y;for(;(y=n.indexOf(e,v))>-1;){let W=Fe(e,{currentLocation:y,expectedLocation:I,distance:o,ignoreLocation:u});if(r=Math.min(W,r),v=y+f,k){let $=0;for(;$<f;)b[y+$]=1,$+=1}}v=-1;let S=[],M=1,V=f+m;const A=1<<f-1;for(let W=0;W<f;W+=1){let $=0,C=V;for(;$<C;)Fe(e,{errors:W,currentLocation:I+C,expectedLocation:I,distance:o,ignoreLocation:u})<=r?$=C:V=C,C=Math.floor((V-$)/2+$);V=C;let c=Math.max(1,I-C+1),_=a?m:Math.min(I+C,m)+f,h=Array(_+2);h[_+1]=(1<<W)-1;for(let R=_;R>=c;R-=1){let T=R-1,K=t[n.charAt(T)];if(k&&(b[T]=+!!K),h[R]=(h[R+1]<<1|1)&K,W&&(h[R]|=(S[R+1]|S[R])<<1|1|S[R+1]),h[R]&A&&(M=Fe(e,{errors:W,currentLocation:T,expectedLocation:I,distance:o,ignoreLocation:u}),M<=r)){if(r=M,v=T,v<=I)break;c=Math.max(1,2*I-v)}}if(Fe(e,{errors:W+1,currentLocation:I,expectedLocation:I,distance:o,ignoreLocation:u})>r)break;S=h}const O={isMatch:v>=0,score:Math.max(.001,M)};if(k){const W=on(b,i);W.length?d&&(O.indices=W):O.isMatch=!1}return O}function sn(n){let e={};for(let t=0,s=n.length;t<s;t+=1){const o=n.charAt(t);e[o]=(e[o]||0)|1<<s-t-1}return e}class dt{constructor(e,{location:t=L.location,threshold:s=L.threshold,distance:o=L.distance,includeMatches:l=L.includeMatches,findAllMatches:a=L.findAllMatches,minMatchCharLength:i=L.minMatchCharLength,isCaseSensitive:d=L.isCaseSensitive,ignoreLocation:u=L.ignoreLocation}={}){if(this.options={location:t,threshold:s,distance:o,includeMatches:l,findAllMatches:a,minMatchCharLength:i,isCaseSensitive:d,ignoreLocation:u},this.pattern=d?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const f=(I,r)=>{this.chunks.push({pattern:I,alphabet:sn(I),startIndex:r})},m=this.pattern.length;if(m>ge){let I=0;const r=m%ge,v=m-r;for(;I<v;)f(this.pattern.substr(I,ge),I),I+=ge;if(r){const k=m-ge;f(this.pattern.substr(k),k)}}else f(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,includeMatches:s}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let v={isMatch:!0,score:0};return s&&(v.indices=[[0,e.length-1]]),v}const{location:o,distance:l,threshold:a,findAllMatches:i,minMatchCharLength:d,ignoreLocation:u}=this.options;let f=[],m=0,I=!1;this.chunks.forEach(({pattern:v,alphabet:k,startIndex:b})=>{const{isMatch:y,score:S,indices:M}=ln(e,v,k,{location:o+b,distance:l,threshold:a,findAllMatches:i,minMatchCharLength:d,includeMatches:s,ignoreLocation:u});y&&(I=!0),m+=S,y&&M&&(f=[...f,...M])});let r={isMatch:I,score:I?m/this.chunks.length:1};return I&&s&&(r.indices=f),r}}class he{constructor(e){this.pattern=e}static isMultiMatch(e){return Ze(e,this.multiRegex)}static isSingleMatch(e){return Ze(e,this.singleRegex)}search(){}}function Ze(n,e){const t=n.match(e);return t?t[1]:null}class an extends he{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class rn extends he{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const s=e.indexOf(this.pattern)===-1;return{isMatch:s,score:s?0:1,indices:[0,e.length-1]}}}class un extends he{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class dn extends he{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class cn extends he{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class pn extends he{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class ct extends he{constructor(e,{location:t=L.location,threshold:s=L.threshold,distance:o=L.distance,includeMatches:l=L.includeMatches,findAllMatches:a=L.findAllMatches,minMatchCharLength:i=L.minMatchCharLength,isCaseSensitive:d=L.isCaseSensitive,ignoreLocation:u=L.ignoreLocation}={}){super(e),this._bitapSearch=new dt(e,{location:t,threshold:s,distance:o,includeMatches:l,findAllMatches:a,minMatchCharLength:i,isCaseSensitive:d,ignoreLocation:u})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class pt extends he{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t=0,s;const o=[],l=this.pattern.length;for(;(s=e.indexOf(this.pattern,t))>-1;)t=s+l,o.push([s,t-1]);const a=!!o.length;return{isMatch:a,score:a?0:1,indices:o}}}const qe=[an,pt,un,dn,pn,cn,rn,ct],et=qe.length,vn=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,fn="|";function mn(n,e={}){return n.split(fn).map(t=>{let s=t.trim().split(vn).filter(l=>l&&!!l.trim()),o=[];for(let l=0,a=s.length;l<a;l+=1){const i=s[l];let d=!1,u=-1;for(;!d&&++u<et;){const f=qe[u];let m=f.isMultiMatch(i);m&&(o.push(new f(m,e)),d=!0)}if(!d)for(u=-1;++u<et;){const f=qe[u];let m=f.isSingleMatch(i);if(m){o.push(new f(m,e));break}}}return o})}const hn=new Set([ct.type,pt.type]);class yn{constructor(e,{isCaseSensitive:t=L.isCaseSensitive,includeMatches:s=L.includeMatches,minMatchCharLength:o=L.minMatchCharLength,ignoreLocation:l=L.ignoreLocation,findAllMatches:a=L.findAllMatches,location:i=L.location,threshold:d=L.threshold,distance:u=L.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:s,minMatchCharLength:o,findAllMatches:a,ignoreLocation:l,location:i,threshold:d,distance:u},this.pattern=t?e:e.toLowerCase(),this.query=mn(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:s,isCaseSensitive:o}=this.options;e=o?e:e.toLowerCase();let l=0,a=[],i=0;for(let d=0,u=t.length;d<u;d+=1){const f=t[d];a.length=0,l=0;for(let m=0,I=f.length;m<I;m+=1){const r=f[m],{isMatch:v,indices:k,score:b}=r.search(e);if(v){if(l+=1,i+=b,s){const y=r.constructor.type;hn.has(y)?a=[...a,...k]:a.push(k)}}else{i=0,l=0,a.length=0;break}}if(l){let m={isMatch:!0,score:i/l};return s&&(m.indices=a),m}}return{isMatch:!1,score:1}}}const Ue=[];function gn(...n){Ue.push(...n)}function Ke(n,e){for(let t=0,s=Ue.length;t<s;t+=1){let o=Ue[t];if(o.condition(n,e))return new o(n,e)}return new dt(n,e)}const Re={AND:"$and",OR:"$or"},ze={PATH:"$path",PATTERN:"$val"},Ye=n=>!!(n[Re.AND]||n[Re.OR]),_n=n=>!!n[ze.PATH],bn=n=>!fe(n)&&at(n)&&!Ye(n),tt=n=>({[Re.AND]:Object.keys(n).map(e=>({[e]:n[e]}))});function vt(n,e,{auto:t=!0}={}){const s=o=>{let l=Object.keys(o);const a=_n(o);if(!a&&l.length>1&&!Ye(o))return s(tt(o));if(bn(o)){const d=a?o[ze.PATH]:l[0],u=a?o[ze.PATTERN]:o[d];if(!de(u))throw new Error(Ut(d));const f={keyId:Ne(d),pattern:u};return t&&(f.searcher=Ke(u,e)),f}let i={children:[],operator:l[0]};return l.forEach(d=>{const u=o[d];fe(u)&&u.forEach(f=>{i.children.push(s(f))})}),i};return Ye(n)||(n=tt(n)),s(n)}function kn(n,{ignoreFieldNorm:e=L.ignoreFieldNorm}){n.forEach(t=>{let s=1;t.matches.forEach(({key:o,norm:l,score:a})=>{const i=o?o.weight:null;s*=Math.pow(a===0&&i?Number.EPSILON:a,(i||1)*(e?1:l))}),t.score=s})}function In(n,e){const t=n.matches;e.matches=[],ne(t)&&t.forEach(s=>{if(!ne(s.indices)||!s.indices.length)return;const{indices:o,value:l}=s;let a={indices:o,value:l};s.key&&(a.key=s.key.src),s.idx>-1&&(a.refIndex=s.idx),e.matches.push(a)})}function Sn(n,e){e.score=n.score}function En(n,e,{includeMatches:t=L.includeMatches,includeScore:s=L.includeScore}={}){const o=[];return t&&o.push(In),s&&o.push(Sn),n.map(l=>{const{idx:a}=l,i={item:e[a],refIndex:a};return o.length&&o.forEach(d=>{d(l,i)}),i})}class Ee{constructor(e,t={},s){this.options={...L,...t},this.options.useExtendedSearch,this._keyStore=new Gt(this.options.keys),this.setCollection(e,s)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof Ge))throw new Error(qt);this._myIndex=t||ut(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){ne(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const t=[];for(let s=0,o=this._docs.length;s<o;s+=1){const l=this._docs[s];e(l,s)&&(this.removeAt(s),s-=1,o-=1,t.push(l))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:s,includeScore:o,shouldSort:l,sortFn:a,ignoreFieldNorm:i}=this.options;let d=de(e)?de(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return kn(d,{ignoreFieldNorm:i}),l&&d.sort(a),st(t)&&t>-1&&(d=d.slice(0,t)),En(d,this._docs,{includeMatches:s,includeScore:o})}_searchStringList(e){const t=Ke(e,this.options),{records:s}=this._myIndex,o=[];return s.forEach(({v:l,i:a,n:i})=>{if(!ne(l))return;const{isMatch:d,score:u,indices:f}=t.searchIn(l);d&&o.push({item:l,idx:a,matches:[{score:u,value:l,norm:i,indices:f}]})}),o}_searchLogical(e){const t=vt(e,this.options),s=(i,d,u)=>{if(!i.children){const{keyId:m,searcher:I}=i,r=this._findMatches({key:this._keyStore.get(m),value:this._myIndex.getValueForItemAtKeyId(d,m),searcher:I});return r&&r.length?[{idx:u,item:d,matches:r}]:[]}const f=[];for(let m=0,I=i.children.length;m<I;m+=1){const r=i.children[m],v=s(r,d,u);if(v.length)f.push(...v);else if(i.operator===Re.AND)return[]}return f},o=this._myIndex.records,l={},a=[];return o.forEach(({$:i,i:d})=>{if(ne(i)){let u=s(t,i,d);u.length&&(l[d]||(l[d]={idx:d,item:i,matches:[]},a.push(l[d])),u.forEach(({matches:f})=>{l[d].matches.push(...f)}))}}),a}_searchObjectList(e){const t=Ke(e,this.options),{keys:s,records:o}=this._myIndex,l=[];return o.forEach(({$:a,i})=>{if(!ne(a))return;let d=[];s.forEach((u,f)=>{d.push(...this._findMatches({key:u,value:a[f],searcher:t}))}),d.length&&l.push({idx:i,item:a,matches:d})}),l}_findMatches({key:e,value:t,searcher:s}){if(!ne(t))return[];let o=[];if(fe(t))t.forEach(({v:l,i:a,n:i})=>{if(!ne(l))return;const{isMatch:d,score:u,indices:f}=s.searchIn(l);d&&o.push({score:u,key:e,value:l,idx:a,norm:i,indices:f})});else{const{v:l,n:a}=t,{isMatch:i,score:d,indices:u}=s.searchIn(l);i&&o.push({score:d,key:e,value:l,norm:a,indices:u})}return o}}Ee.version="7.0.0";Ee.createIndex=ut;Ee.parseIndex=nn;Ee.config=L;Ee.parseQuery=vt;gn(yn);const Cn={class:"BuilderTemplateInput"},xn=["id"],wn=["value"],Bn={key:2,class:"fieldStateAutocomplete",tabindex:"-1"},$n=["value","onClick"],An={class:"prop"},Mn={class:"type"},Tn=U({__name:"BuilderTemplateInput",props:{inputId:{type:String,required:!1,default:void 0},value:{type:String,required:!1,default:void 0},multiline:{type:Boolean,required:!1},variant:{type:String,required:!1,default:void 0},type:{type:String,required:!1,default:void 0},options:{type:Object,required:!1,default:void 0},placeholder:{type:String,required:!1,default:void 0},error:{type:String,required:!1,default:void 0}},emits:["input","update:value"],setup(n,{expose:e,emit:t}){const s=t,o=n,l=j(D.core),a=yt([]),i=H(null);e({focus:()=>{var S;return(S=i.value)==null?void 0:S.focus()}});function d(S,M){return M.reduce((V,A)=>V==null?void 0:V[A],S)}const u=S=>{var _,h;let M=((_=i.value)==null?void 0:_.value)??"";const{selectionStart:V,selectionEnd:A}=((h=i.value)==null?void 0:h.getSelection())??{},O=M.slice(0,V),W=m(O);if(W===null)return;const C=W.at(-1).replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"$",c=O.replace(new RegExp(C),S);M=c+M.slice(A),s("input",{target:{value:M}}),s("update:value",M),a.value=[],i.value.focus(),ve(()=>{i.value.setSelectionEnd(c.length),i.value.setSelectionStart(c.length)})},f=S=>S===null?"null":S===void 0?"undefined":typeof S,m=S=>{if((o.type??"template")==="state")return S.split(".");const M=S.match(/@\{([^}{@]*)$/);return M?((M==null?void 0:M[1])??"").split("."):null},I=S=>S.replace(/\\/g,"\\\\").replace(/\./g,"\\."),r=S=>{s("input",S),s("update:value",S.target.value),v()},v=()=>{var h,N;const{selectionStart:S,selectionEnd:M}=((h=i.value)==null?void 0:h.getSelection())??{},V=(N=i.value)==null?void 0:N.value;if(!(S===M)){a.value=[];return}const O=V.slice(0,S),W=m(O);if(W===null){a.value=[];return}const $=W.at(-1),C=W.slice(0,-1),c=Object.entries(d(l.userState.value,C)??{}).map(([R,T])=>({text:I(R),type:f(T)})),_=new Ee(c,{findAllMatches:!0,includeMatches:!0,keys:["text"]});if($===""){a.value=c;return}a.value=_.search($).map(R=>{const{item:T}=R;return T})};let k;function b(){k=setTimeout(()=>{a.value=[],k=null},300)}function y(){k&&(clearTimeout(k),k=null)}return(S,M)=>{const V=gt("capture-tabs");return p(),B("div",Cn,[o.multiline?x("",!0):(p(),B(Z,{key:0},[P(re,{ref_key:"input",ref:i,"model-value":o.value,autocorrect:"off",autocomplete:"off",spellcheck:"false",placeholder:o.placeholder,list:o.options?`list-${o.inputId}`:void 0,invalid:n.error!==void 0,onInput:r,onBlur:b},null,8,["model-value","placeholder","list","invalid"]),o.options?(p(),B("datalist",{key:0,id:`list-${o.inputId}`},[(p(!0),B(Z,null,me(n.options,(A,O)=>(p(),B("option",{key:O,value:O},[A.toLowerCase()!==O.toLowerCase()?(p(),B(Z,{key:0},[ae(G(A),1)],64)):x("",!0)],8,wn))),128))],8,xn)):x("",!0)],64)),o.multiline?Be((p(),F(_t,{key:1,ref_key:"input",ref:i,variant:o.variant,"model-value":o.value,autocorrect:"off",autocomplete:"off",spellcheck:"false",rows:"3",placeholder:o.placeholder,invalid:n.error!==void 0,onInput:r},null,8,["variant","model-value","placeholder","invalid"])),[[V]]):x("",!0),a.value.length?(p(),B("div",Bn,[(p(!0),B(Z,null,me(a.value,(A,O)=>(p(),B("button",{key:O,class:"fieldStateAutocompleteOption",value:O,onFocusout:b,onFocusin:y,onClick:()=>u(A.text)},[E("span",An,G(A.text),1),E("span",Mn,G(A.type),1)],40,$n))),128))])):x("",!0)])}}}),ie=z(Tn,[["__scopeId","data-v-9e979551"]]),Fn=U({__name:"WdsTab",props:{disabled:{type:Boolean},selected:{type:Boolean}},emits:{click:()=>!0},setup(n){return(e,t)=>(p(),B("button",{class:We(["WdsTab",{"WdsTab--disabled":n.disabled,"WdsTab--selected":n.selected}]),type:"button",onClick:t[0]||(t[0]=s=>e.$emit("click"))},[Ve(e.$slots,"default",{},void 0,!0)],2))}}),On=z(Fn,[["__scopeId","data-v-333dd4cb"]]),Vn={class:"WdsTabs"},Rn=U({__name:"WdsTabs",props:bt({tabs:{type:Array,required:!0}},{modelValue:{type:String},modelModifiers:{}}),emits:["update:modelValue"],setup(n){const e=kt(n,"modelValue");return(t,s)=>(p(),B("div",Vn,[(p(!0),B(Z,null,me(n.tabs,o=>(p(),F(On,{key:o.value,disabled:o.disabled,selected:o.value===e.value,onClick:l=>e.value=o.value},{default:q(()=>[ae(G(o.label),1)]),_:2},1032,["disabled","selected","onClick"]))),128))]))}}),ke=z(Rn,[["__scopeId","data-v-26cb79f9"]]),Me=Object.freeze([{label:"Default",value:"default"},{label:"CSS",value:"css"},{label:"Pick",value:"pick"}]),Pn=["data-automation-key"],Wn={key:0,class:"main"},Ln={key:0,class:"pickerContainer"},jn=U({__name:"BuilderFieldsAlign",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},direction:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(n){const e=oe({loader:()=>le(()=>import("./index-CNbwmdyR.js").then(c=>c.aW),__vite__mapDeps([0,1]),import.meta.url),loadingComponent:Se}),t=j(D.core),s=j(D.builderManager),{setContentValue:o}=ee(t,s),l=Y("rootEl"),a=Y("pickerEl"),i=Y("freehandInputEl"),d=[{key:"start",label:"Left",match:c=>c=="start",default:"start",icon:"format_align_left"},{key:"center",label:"Center",match:c=>c=="center",default:"center",icon:"format_align_center"},{key:"end",label:"Right",match:c=>c=="end",default:"end",icon:"format_align_right"}],u=[{key:"start",label:"Top",match:c=>c=="start",default:"start",icon:"vertical_align_top"},{key:"center",label:"Center",match:c=>c=="center",default:"center",icon:"vertical_align_center"},{key:"end",label:"Bottom",match:c=>c=="end",default:"end",icon:"vertical_align_bottom"}],f={pick:a,css:i,default:null},m=n,{componentId:I,fieldKey:r,direction:v}=te(m),k=w(()=>t.getComponentById(I.value)),b=w(()=>v.value=="vertical"?u:v.value=="horizontal"?d:u),y=w(()=>b.value.map(c=>({value:c.key,label:c.label,icon:c.icon}))),S=w(()=>{const c=k.value.content[r.value];for(const _ in b.value)if(c&&b.value[_].match(c))return b.value[_].key;return null}),M=w(()=>{const c=k.value.content[r.value];return c||""}),A=H((()=>{if(!M.value)return"default";for(const c in b.value)if(b.value[c].match(M.value))return"pick";return"css"})()),O=()=>{var _;const c=(_=f[A.value])==null?void 0:_.value;c&&(c.focus(),typeof c.selectionStart=="number"&&(c.selectionStart=c.selectionEnd=c.value.length))},W=async c=>{A.value!=c&&(A.value=c,await ve(),O(),c==="default"&&o(k.value.id,r.value,void 0))},$=c=>{for(const _ in b.value)if(b.value[_].key==c){const h=b.value[_].default;k.value.content[r.value]=h,o(k.value.id,r.value,h)}},C=c=>{o(k.value.id,r.value,c.target.value)};return be(()=>{l.value.addEventListener("focus",O)}),Ae(()=>{l.value.removeEventListener("focus",O)}),(c,_)=>(p(),B("div",{ref_key:"rootEl",ref:l,class:"BuilderFieldsAlign",tabindex:"-1","data-automation-key":m.fieldKey},[P(ke,{tabs:g(Me),"model-value":A.value,"onUpdate:modelValue":W},null,8,["tabs","model-value"]),A.value=="pick"||A.value=="css"?(p(),B("div",Wn,[A.value=="pick"?(p(),B("div",Ln,[P(g(e),{ref_key:"pickerEl",ref:a,"model-value":S.value,options:y.value,"onUpdate:modelValue":$},null,8,["model-value","options"])])):x("",!0),A.value=="css"?(p(),F(ie,{key:1,ref_key:"freehandInputEl",ref:i,value:k.value.content[g(r)],error:n.error,onInput:C},null,8,["value","error"])):x("",!0)])):x("",!0)],8,Pn))}}),nt=z(jn,[["__scopeId","data-v-effe7708"]]),Dn=["data-automation-key"],Nn={key:0,class:"main"},qn={key:0,class:"pickerContainer"},Un=["value"],Kn=U({__name:"BuilderFieldsColor",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(n){const e=j(D.core),t=j(D.builderManager),{setContentValue:s}=ee(e,t),o=Y("rootEl"),l=Y("pickerEl"),a=Y("freehandInputEl"),i={pick:l,css:a,default:null},d=n,{componentId:u,fieldKey:f}=te(d),m=w(()=>e.getComponentById(u.value)),r=H((()=>{const y=m.value.content[f.value];return y?/#[A-Fa-f0-9]{6}/.test(y)?"pick":"css":"default"})()),v=()=>{var S;const y=(S=i[r.value])==null?void 0:S.value;y&&(y.focus(),typeof y.selectionStart=="number"&&(y.selectionStart=y.selectionEnd=y.value.length))},k=async y=>{r.value!=y&&(r.value=y,await ve(),v(),y==="default"&&s(m.value.id,f.value,void 0))},b=y=>s(m.value.id,f.value,y.target.value);return be(()=>{o.value.addEventListener("focus",v)}),Ae(()=>{o.value.removeEventListener("focus",v)}),(y,S)=>(p(),B("div",{ref_key:"rootEl",ref:o,class:"BuilderFieldsColor",tabindex:"-1","data-automation-key":g(f)},[P(ke,{tabs:g(Me),"model-value":r.value,"onUpdate:modelValue":k},null,8,["tabs","model-value"]),r.value=="pick"||r.value=="css"?(p(),B("div",Nn,[r.value=="pick"?(p(),B("div",qn,[E("input",{ref_key:"pickerEl",ref:l,type:"color",value:m.value.content[g(f)],onInput:b},null,40,Un)])):x("",!0),r.value=="css"?(p(),F(ie,{key:1,ref_key:"freehandInputEl",ref:a,value:m.value.content[g(f)],error:n.error,onInput:b},null,8,["value","error"])):x("",!0)])):x("",!0)],8,Dn))}}),zn=z(Kn,[["__scopeId","data-v-335d2cc7"]]),Yn=U({__name:"BuilderFieldsObject",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(n){const e=j(D.core),t=j(D.builderManager),{setContentValue:s}=ee(e,t),o=n,{componentId:l,fieldKey:a}=te(o),i=w(()=>e.getComponentById(l.value)),d=f=>{s(i.value.id,a.value,f)},u=w(()=>{const{type:f}=i.value;return e.getComponentDefinition(f).fields[a.value]});return(f,m)=>{var I;return p(),F(ie,{class:"BuilderFieldsObject","data-automation-key":o.fieldKey,multiline:"",variant:"code",value:i.value.content[g(a)],placeholder:(I=u.value)==null?void 0:I.default,error:n.error,onInput:m[0]||(m[0]=r=>d(r.target.value))},null,8,["data-automation-key","value","placeholder","error"])}}}),ft=z(Yn,[["__scopeId","data-v-7749ae31"]]),Gn=["data-automation-key"],Jn=["onClick"],Hn={class:"formAdd"},Xn=U({__name:"BuilderFieldsKeyValue",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},instancePath:{type:Array,required:!0},error:{type:String,required:!1,default:void 0}},setup(n){const e=j(D.core),t=j(D.builderManager),{setContentValue:s}=ee(e,t),o=n,{componentId:l,fieldKey:a}=te(o),i=w(()=>e.getComponentById(l.value)),d=Y("rootEl"),u=Y("assistedKeyEl"),f=H(null),m=H({}),I=H({key:"",value:""}),r=[{label:"Static List",value:"assisted"},{label:"JSON",value:"freehand"}],{getEvaluatedFields:v}=lt(e),k=w(()=>v(o.instancePath)[a.value].value),b=async V=>{f.value!=V&&(f.value=V,f.value=="assisted"&&y(),await ve())},y=()=>{m.value=k.value??{}},S=()=>{const{key:V,value:A}=I.value;V===""||A===""||(m.value={...m.value,[V]:A},s(i.value.id,a.value,JSON.stringify(m.value,null,2)),I.value={key:"",value:""},u.value.focus())},M=V=>{const A=m.value;if(delete A[V],m.value=A,Object.keys(m.value).length==0){s(i.value.id,a.value,void 0);return}s(i.value.id,a.value,JSON.stringify(m.value,null,2))};return $e(()=>{var V;return(V=i.value)==null?void 0:V.content[a.value]},async()=>{!i.value||!k.value||(m.value=k.value)}),be(async()=>{k.value?(m.value=k.value,b("assisted")):b("freehand")}),(V,A)=>(p(),B("div",{ref_key:"rootEl",ref:d,class:"BuilderFieldsOptions",tabindex:"-1","data-automation-key":o.fieldKey},[P(ke,{class:"BuilderFieldsOptions__tabs",tabs:r,"model-value":f.value,"onUpdate:modelValue":b},null,8,["model-value"]),f.value=="assisted"?(p(),B(Z,{key:0},[E("div",{class:We(["staticList",{"staticList--invalid":n.error!==void 0}])},[(p(!0),B(Z,null,me(m.value,(O,W)=>(p(),B("div",{key:W,class:"entry"},[E("div",null,G(W)+" · "+G(O),1),E("button",{variant:"subtle",onClick:$=>M(W)},A[2]||(A[2]=[E("i",{class:"material-symbols-outlined"},"delete",-1)]),8,Jn)]))),128))],2),E("div",Hn,[P(ie,{ref_key:"assistedKeyEl",ref:u,class:"inputKey",placeholder:"Type a key...",value:I.value.key,"onUpdate:value":A[0]||(A[0]=O=>I.value.key=O),onKeydown:Je(S,["enter"])},null,8,["value"]),P(ie,{class:"inputValue",placeholder:"Type a value...",value:I.value.value,"onUpdate:value":A[1]||(A[1]=O=>I.value.value=O),onKeydown:Je(S,["enter"])},null,8,["value"]),E("button",{onClick:S},A[3]||(A[3]=[E("i",{class:"material-symbols-outlined"},"add",-1),ae("Add ")]))])],64)):x("",!0),f.value=="freehand"?(p(),F(ft,{key:1,"component-id":i.value.id,"field-key":g(a),error:n.error},null,8,["component-id","field-key","error"])):x("",!0)],8,Gn))}}),Qn=z(Xn,[["__scopeId","data-v-810ae0d0"]]),Zn=["data-automation-key"],eo={key:0,class:"main"},to={key:0,class:"pickerContainer"},no={class:"BuilderFieldsPadding__options"},oo=U({__name:"BuilderFieldsPadding",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(n){const e=oe({loader:()=>le(()=>import("./index-CNbwmdyR.js").then(_=>_.aW),__vite__mapDeps([0,1]),import.meta.url),loadingComponent:Se}),t=j(D.core),s=j(D.builderManager),{setContentValue:o}=ee(t,s),l=Y("rootEl"),a=Y("pickerEl"),i=Y("freehandInputEl"),d=Y("fixedEl"),u=[{key:"all_sides",label:"All sides",match:_=>_.split(" ").length==1&&_.endsWith("px"),default:()=>M.value?M.value[0]:"0px"},{key:"XY sides",label:"XY sides",match:_=>_.split(" ").length==2&&_.endsWith("px"),default:()=>M.value?M.value[2]+" "+M.value[0]:"0px 0px"},{key:"Per side",label:"Per side",match:_=>_.split(" ").length==4&&_.endsWith("px"),default:()=>M.value?[M.value[3],M.value[1],M.value[2],M.value[0]].join(" "):"0px 0px 0px 0px"}],f={pick:a,css:i,default:null},m=n,{componentId:I,fieldKey:r}=te(m),v=w(()=>t.getComponentById(I.value)),k=w(()=>u.map(_=>({value:_.key,label:_.label,icon:"padding"}))),b=w(()=>{const _=v.value.content[r.value];for(const h in u)if(_&&u[h].match(_))return u[h].key;return null}),y=w(()=>{const _=v.value.content[r.value];return _||""}),S=w(()=>{const _=M.value;return _?[_[0].substring(0,_[0].length-2),_[1].substring(0,_[1].length-2),_[2].substring(0,_[2].length-2),_[3].substring(0,_[3].length-2)]:["0","0","0","0"]}),M=w(()=>{const _=v.value.content[r.value];if(_){const h=_.split(" ");if(h.length==1&&h[0].endsWith("px"))return[h[0],h[0],h[0],h[0]];if(h.length==2&&h[0].endsWith("px")&&h[0].endsWith("px"))return[h[1],h[1],h[0],h[0]];if(h.length==4&&h[0].endsWith("px")&&h[1].endsWith("px")&&h[2].endsWith("px")&&h[3].endsWith("px"))return[h[3],h[1],h[0],h[2]]}else return null;return null}),A=H((()=>{if(!y.value)return"default";for(const _ in u)if(u[_].match(y.value))return"pick";return"css"})()),O=()=>{var h;const _=(h=f[A.value])==null?void 0:h.value;_&&(_.focus(),typeof _.selectionStart=="number"&&(_.selectionStart=_.selectionEnd=_.value.length))},W=async _=>{A.value!=_&&(A.value=_,await ve(),O(),_==="default"&&o(v.value.id,r.value,void 0))},$=_=>{for(const h in u)if(u[h].key==_){const N=u[h].default();v.value.content[r.value]=N,o(v.value.id,r.value,N)}ve(()=>{var h;(h=d.value)==null||h.focus()})},C=_=>{o(v.value.id,r.value,_.target.value)},c=(_,h,N)=>{const R=Number(_),T=v.value.content[r.value];if(h=="all_sides")o(v.value.id,r.value,R+"px");else if(h=="XY sides"){const K=T.split(" ");N=="x"?K[1]=R+"px":N=="y"&&(K[0]=R+"px"),o(v.value.id,r.value,K.join(" "))}else if(h=="Per side"){const K=T.split(" ");N=="top"?K[0]=R+"px":N=="right"?K[1]=R+"px":N=="bottom"?K[2]=R+"px":N=="left"&&(K[3]=R+"px"),o(v.value.id,r.value,K.join(" "))}};return be(()=>{l.value.addEventListener("focus",O)}),Ae(()=>{l.value.removeEventListener("focus",O)}),(_,h)=>(p(),B("div",{ref_key:"rootEl",ref:l,class:"BuilderFieldsPadding",tabindex:"-1","data-automation-key":m.fieldKey},[P(ke,{tabs:g(Me),"model-value":A.value,"onUpdate:modelValue":W},null,8,["tabs","model-value"]),A.value=="pick"||A.value=="css"?(p(),B("div",eo,[A.value=="pick"?(p(),B("div",to,[P(g(e),{ref_key:"pickerEl",ref:a,"model-value":b.value,options:k.value,"onUpdate:modelValue":$},null,8,["model-value","options"]),E("div",no,[b.value=="all_sides"?(p(),B(Z,{key:0},[h[7]||(h[7]=E("i",null,"All",-1)),P(re,{ref_key:"fixedEl",ref:d,type:"number","model-value":S.value[0],"onUpdate:modelValue":h[0]||(h[0]=N=>c(N,b.value))},null,8,["model-value"]),h[8]||(h[8]=E("div",null,"px",-1))],64)):x("",!0),b.value=="XY sides"?(p(),B(Z,{key:1},[h[9]||(h[9]=E("i",null,"X",-1)),P(re,{type:"number","model-value":S.value[0],"onUpdate:modelValue":h[1]||(h[1]=N=>c(N,b.value,"x"))},null,8,["model-value"]),h[10]||(h[10]=E("div",null,"px",-1)),h[11]||(h[11]=E("i",null,"Y",-1)),P(re,{type:"number","model-value":S.value[2],"onUpdate:modelValue":h[2]||(h[2]=N=>c(N,b.value,"y"))},null,8,["model-value"]),h[12]||(h[12]=E("div",null,"px",-1))],64)):x("",!0),b.value=="Per side"?(p(),B(Z,{key:2},[h[13]||(h[13]=E("i",null,"Left",-1)),P(re,{type:"number","model-value":S.value[0],"onUpdate:modelValue":h[3]||(h[3]=N=>c(N,b.value,"left"))},null,8,["model-value"]),h[14]||(h[14]=E("div",null,"px",-1)),h[15]||(h[15]=E("i",null,"Right",-1)),P(re,{type:"number","model-value":S.value[1],"onUpdate:modelValue":h[4]||(h[4]=N=>c(N,b.value,"right"))},null,8,["model-value"]),h[16]||(h[16]=E("div",null,"px",-1)),h[17]||(h[17]=E("i",null,"Top",-1)),P(re,{type:"number","model-value":S.value[2],"onUpdate:modelValue":h[5]||(h[5]=N=>c(N,b.value,"top"))},null,8,["model-value"]),h[18]||(h[18]=E("div",null,"px",-1)),h[19]||(h[19]=E("i",null,"Bottom",-1)),P(re,{type:"number","model-value":S.value[3],"onUpdate:modelValue":h[6]||(h[6]=N=>c(N,b.value,"bottom"))},null,8,["model-value"]),h[20]||(h[20]=E("div",null,"px",-1))],64)):x("",!0)])])):x("",!0),A.value=="css"?(p(),F(ie,{key:1,ref_key:"freehandInputEl",ref:i,value:v.value.content[g(r)],error:n.error,onInput:C},null,8,["value","error"])):x("",!0)])):x("",!0)],8,Zn))}}),lo=z(oo,[["__scopeId","data-v-4d3bd6b8"]]),so=["data-automation-key"],ao={key:0,class:"main"},io={key:0,class:"pickerContainer"},ro={class:"param"},uo={class:"header"},co=["value"],po={class:"param"},vo={class:"header"},fo=["value"],mo={class:"param"},ho={class:"header"},yo=["value"],go={class:"param"},_o={class:"header"},bo=["value"],ko={class:"param"},Io=["value"],So=U({__name:"BuilderFieldsShadow",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(n){const e=j(D.core),t=j(D.builderManager),{setContentValue:s}=ee(e,t),o=Y("rootEl"),l=Y("freehandInputEl"),a=Y("paramOffsetXEl"),i=Y("paramOffsetYEl"),d=Y("paramBlurRadiusEl"),u=Y("paramSpreadRadiusEl"),f=Y("paramColorEl"),m={pick:a,css:l,default:null},I=n,{componentId:r,fieldKey:v}=te(I),k=w(()=>e.getComponentById(r.value)),b=/^(?<offsetX>[0-9]+)px (?<offsetY>[0-9]+)px (?<blurRadius>[0-9]+)px (?<spreadRadius>[0-9-]+)px (?<color>#[A-Fa-f0-9]{6})$/,S=H((()=>{const $=k.value.content[v.value];return $?b.test($)?"pick":"css":"default"})()),M=()=>{var C;const $=(C=m[S.value])==null?void 0:C.value;$&&($.focus(),typeof $.selectionStart=="number"&&($.selectionStart=$.selectionEnd=$.value.length))},V=async $=>{S.value!=$&&(S.value=$,await ve(),M(),$==="default"&&s(k.value.id,v.value,void 0))},A=()=>{const $=a.value.value,C=i.value.value,c=d.value.value,_=u.value.value,h=f.value.value,N=`${$}px ${C}px ${c}px ${_}px ${h}`;s(k.value.id,v.value,N)},O=$=>{s(k.value.id,v.value,$.target.value)},W=w(()=>{var c;const $=k.value.content[v.value];return(c=$==null?void 0:$.match(b))==null?void 0:c.groups});return be(()=>{o.value.addEventListener("focus",M)}),Ae(()=>{o.value.removeEventListener("focus",M)}),($,C)=>{var c,_,h,N,R,T,K,se,ce,ye,Ce,xe,we;return p(),B("div",{ref_key:"rootEl",ref:o,class:"BuilderFieldsShadow",tabindex:"-1","data-automation-key":I.fieldKey},[P(ke,{tabs:g(Me),"model-value":S.value,"onUpdate:modelValue":V},null,8,["tabs","model-value"]),S.value=="pick"||S.value=="css"?(p(),B("div",ao,[S.value=="pick"?(p(),B("div",io,[E("div",ro,[E("div",uo,[C[0]||(C[0]=E("div",{class:"name"},"Offset X",-1)),Be(E("div",{class:"value"},G((c=W.value)==null?void 0:c.offsetX)+"px ",513),[[Te,(_=W.value)==null?void 0:_.offsetX]])]),E("input",{ref_key:"paramOffsetXEl",ref:a,type:"range",min:"0",max:"32",value:(h=W.value)==null?void 0:h.offsetX,onInput:A},null,40,co)]),E("div",po,[E("div",vo,[C[1]||(C[1]=E("div",{class:"name"},"Offset Y",-1)),Be(E("div",{class:"value"},G((N=W.value)==null?void 0:N.offsetY)+"px ",513),[[Te,(R=W.value)==null?void 0:R.offsetY]])]),E("input",{ref_key:"paramOffsetYEl",ref:i,type:"range",min:"0",max:"32",value:(T=W.value)==null?void 0:T.offsetY,onInput:A},null,40,fo)]),E("div",mo,[E("div",ho,[C[2]||(C[2]=E("div",{class:"name"},"Blur radius",-1)),Be(E("div",{class:"value"},G((K=W.value)==null?void 0:K.blurRadius)+"px ",513),[[Te,(se=W.value)==null?void 0:se.blurRadius]])]),E("input",{ref_key:"paramBlurRadiusEl",ref:d,type:"range",min:"0",max:"32",value:(ce=W.value)==null?void 0:ce.blurRadius,onInput:A},null,40,yo)]),E("div",go,[E("div",_o,[C[3]||(C[3]=E("div",{class:"name"},"Spread radius",-1)),Be(E("div",{class:"value"},G((ye=W.value)==null?void 0:ye.spreadRadius)+"px ",513),[[Te,(Ce=W.value)==null?void 0:Ce.spreadRadius]])]),E("input",{ref_key:"paramSpreadRadiusEl",ref:u,type:"range",min:"-16",max:"32",value:(xe=W.value)==null?void 0:xe.spreadRadius,onInput:A},null,40,bo)]),E("div",ko,[C[4]||(C[4]=E("div",{class:"header"},[E("div",{class:"name"},"Color")],-1)),E("input",{ref_key:"paramColorEl",ref:f,type:"color",value:(we=W.value)==null?void 0:we.color,onInput:A},null,40,Io)])])):x("",!0),S.value=="css"?(p(),F(ie,{key:1,ref_key:"freehandInputEl",ref:l,value:k.value.content[g(v)],error:n.error,onInput:O},null,8,["value","error"])):x("",!0)])):x("",!0)],8,so)}}}),Eo=z(So,[["__scopeId","data-v-3d00b12a"]]),Co=["data-automation-key"],xo=U({__name:"BuilderFieldsText",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(n){const e=j(D.core),t=j(D.builderManager),{setContentValue:s}=ee(e,t),o=n,{componentId:l,fieldKey:a}=te(o),i=w(()=>e.getComponentById(l.value)),d=w(()=>{const{type:r}=i.value;return e.getComponentDefinition(r).fields[a.value]}),u=w(()=>`${o.componentId}-${o.fieldKey}`),f={uiComponents:()=>{const r=e.getComponents(void 0,{sortedByPosition:!0}).filter(k=>e.isChildOf("root",k.id)),v={};return r.forEach(k=>{v[k.id]=k.id}),v},uiComponentsWithEvents:()=>e.getComponents(void 0,{sortedByPosition:!0}).filter(r=>e.isChildOf("root",r.id)).filter(r=>!!e.getComponentDefinition(r.type).events).reduce((r,v)=>(r[v.id]=v.id,r),{}),eventTypes:(r,v)=>{var M;const k=(M=r.getComponentById(v).content)==null?void 0:M.refComponentId,b=e.getComponentById(k);if(!b)return{};const y=r.getComponentDefinition(b.type);return Object.fromEntries(Object.keys(y.events??{}).map(V=>[V,V]))}},m=w(()=>{const r=d.value;return r.options?typeof r.options=="function"?r.options(e,l.value):typeof r.options=="string"?f==null?void 0:f[r.options](e,l.value):r.options:{}}),I=r=>{s(i.value.id,a.value,r.target.value)};return(r,v)=>{var k,b;return p(),B("div",{class:"BuilderFieldsText","data-automation-key":o.fieldKey},[!d.value.control||d.value.control==g(De).Text?(p(),F(ie,{key:0,class:"content","input-id":u.value,value:i.value.content[g(a)],placeholder:(k=d.value)==null?void 0:k.default,options:m.value,error:n.error,onInput:I},null,8,["input-id","value","placeholder","options","error"])):d.value.control==g(De).Textarea?(p(),F(ie,{key:1,multiline:"",variant:"text",class:"content","input-id":u.value,value:i.value.content[g(a)],placeholder:(b=d.value)==null?void 0:b.default,error:n.error,onInput:I},null,8,["input-id","value","placeholder","error"])):x("",!0)],8,Co)}}}),je=z(xo,[["__scopeId","data-v-b2fda2e3"]]),wo=["data-automation-key"],Bo={key:0,class:"main"},$o={key:0,class:"pickerContainer"},Ao={key:0,class:"fixedContainer"},Mo=U({__name:"BuilderFieldsWidth",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(n){const e=oe({loader:()=>le(()=>import("./index-CNbwmdyR.js").then(c=>c.aW),__vite__mapDeps([0,1]),import.meta.url),loadingComponent:Se}),t=j(D.core),s=j(D.builderManager),{setContentValue:o}=ee(t,s),l=Y("rootEl"),a=Y("pickerEl"),i=Y("freehandInputEl"),d=Y("fixedEl"),u=[{key:"fixed",label:"Fixed",match:c=>c.endsWith("px"),default:"160px"},{key:"fit-content",label:"Fit Content",match:c=>c=="fit-content",default:"fit-content"},{key:"full",label:"Full",match:c=>c=="100%",default:"100%"}],f={pick:a,css:i,default:null},m=n,{componentId:I,fieldKey:r}=te(m),v=w(()=>t.getComponentById(I.value)),k=w(()=>u.map(c=>({value:c.key,label:c.label,icon:"width"}))),b=w(()=>{const c=v.value.content[r.value];for(const _ in u)if(c&&u[_].match(c))return u[_].key;return null}),y=w(()=>{const c=v.value.content[r.value];return c||""}),S=w(()=>{const c=v.value.content[r.value];if(c){if(c.endsWith("px"))return c.substring(0,c.length-2)}else return null;return null}),V=H((()=>{if(!y.value)return"default";for(const c in u)if(u[c].match(y.value))return"pick";return"css"})()),A=()=>{var _;const c=(_=f[V.value])==null?void 0:_.value;c&&(c.focus(),typeof c.selectionStart=="number"&&(c.selectionStart=c.selectionEnd=c.value.length))},O=async c=>{V.value!=c&&(V.value=c,await ve(),A(),c==="default"&&o(v.value.id,r.value,void 0))},W=c=>{for(const _ in u)if(u[_].key==c){const h=u[_].default;v.value.content[r.value]=h,o(v.value.id,r.value,h)}c=="fixed"&&ve(()=>{d.value.focus()})},$=c=>{o(v.value.id,r.value,c.target.value)},C=c=>{o(v.value.id,r.value,`${c}px`)};return be(()=>{l.value.addEventListener("focus",A)}),Ae(()=>{l.value.removeEventListener("focus",A)}),(c,_)=>(p(),B("div",{ref_key:"rootEl",ref:l,class:"BuilderFieldsWidth",tabindex:"-1","data-automation-key":m.fieldKey},[P(ke,{tabs:g(Me),"model-value":V.value,"onUpdate:modelValue":O},null,8,["tabs","model-value"]),V.value=="pick"||V.value=="css"?(p(),B("div",Bo,[V.value=="pick"?(p(),B("div",$o,[P(g(e),{ref_key:"pickerEl",ref:a,"model-value":b.value,options:k.value,"onUpdate:modelValue":W},null,8,["model-value","options"]),b.value=="fixed"?(p(),B("div",Ao,[P(re,{ref_key:"fixedEl",ref:d,type:"number","model-value":S.value,invalid:n.error!==void 0,"onUpdate:modelValue":C},null,8,["model-value","invalid"]),_[0]||(_[0]=E("div",null,"px",-1))])):x("",!0)])):x("",!0),V.value=="css"?(p(),F(ie,{key:1,ref_key:"freehandInputEl",ref:i,value:v.value.content[g(r)],onInput:$},null,8,["value"])):x("",!0)])):x("",!0)],8,wo))}}),To=z(Mo,[["__scopeId","data-v-78cafd3f"]]),Fo={class:"WdsFieldWrapper colorTransformer"},Oo={class:"temporaryMissingBar"},Vo={key:0,class:"WdsFieldWrapper__title"},Ro={key:0,class:"WdsFieldWrapper__title__label"},Po={key:0,class:"WdsFieldWrapper__title__label__unit"},Wo={class:"WdsFieldWrapper__slot"},Lo={key:1,class:"WdsFieldWrapper__error"},jo={key:2,class:"WdsFieldWrapper__hint"},Do=U({__name:"WdsFieldWrapper",props:{label:{type:String,required:!1,default:void 0},unit:{type:String,required:!1,default:void 0},hint:{type:String,required:!1,default:void 0},error:{type:String,required:!1,default:void 0},isExpansible:{type:Boolean,required:!1,default:!1},helpButton:{type:[String,Boolean],required:!1,default:void 0}},emits:{helpClick:()=>!0,expand:()=>!0,shrink:()=>!0},setup(n,{emit:e}){const t=e,s=H(!1);function o(){t("expand"),s.value=!0}const l={desc:"OK",fn:()=>{s.value=!1,t("shrink")}};return(a,i)=>(p(),B("div",Fo,[s.value?(p(),B(Z,{key:0},[P(Pe,{actions:[l],description:n.hint,title:n.label},{default:q(()=>[Ve(a.$slots,"default",{},void 0,!0)]),_:3},8,["actions","description","title"]),E("div",Oo,[i[1]||(i[1]=ae(" Field ")),E("strong",null,G(n.label),1),i[2]||(i[2]=ae(" is open in a new window. "))])],64)):(p(),B(Z,{key:1},[!s.value&&(n.label||n.helpButton)?(p(),B("div",Vo,[n.label?(p(),B("label",Ro,[ae(G(n.label),1),n.unit?(p(),B("span",Po," : "+G(n.unit),1)):x("",!0)])):x("",!0),n.isExpansible?(p(),F(Q,{key:1,class:"WdsFieldWrapper__title__help",variant:"neutral",size:"smallIcon","data-writer-tooltip":"Expand",onClick:o},{default:q(()=>i[3]||(i[3]=[E("i",{class:"material-symbols-outlined"},"open_in_new",-1)])),_:1})):x("",!0),n.helpButton?(p(),F(Q,{key:2,class:"WdsFieldWrapper__title__help",variant:"neutral",size:"smallIcon","data-writer-tooltip":typeof n.helpButton=="string"?n.helpButton:void 0,onClick:i[0]||(i[0]=d=>a.$emit("helpClick"))},{default:q(()=>i[4]||(i[4]=[E("i",{class:"material-symbols-outlined"},"help",-1)])),_:1},8,["data-writer-tooltip"])):x("",!0)])):x("",!0),E("div",Wo,[Ve(a.$slots,"default",{},void 0,!0)]),n.error?(p(),B("p",Lo,G(n.error),1)):x("",!0),n.hint?(p(),B("p",jo,G(n.hint),1)):x("",!0)],64))]))}}),_e=z(Do,[["__scopeId","data-v-6ccdf720"]]),No=["data-automation-key"],qo={class:"tools"},Uo=["onClick"],Ko={class:"toolName"},zo={class:"addToolForm"},Yo=U({__name:"BuilderFieldsTools",props:{componentId:{},fieldKey:{}},setup(n){const e=oe({loader:()=>le(()=>import("./BuilderGraphSelect-CC_OWkQn.js"),__vite__mapDeps([2,0,1,3,4,5,6,7]),import.meta.url),loadingComponent:Se}),t=oe(()=>le(()=>import("./BuilderEmbeddedCodeEditor-CDgBqpMc.js").then($=>$.a),__vite__mapDeps([8,0,1,9]),import.meta.url)),s=j(D.core),o=j(D.builderManager),{setContentValue:l}=ee(s,o),i={isShown:!1,type:"function",name:"new_tool",code:`
{
	"description": "Gets info for an employee, given an employee id",
    "parameters": {
      "id": {"type": "string", "description": "Id of the employee"}
    }
}
`.trim(),graphIds:""},d=H(i),u=w(()=>{switch(d.value.type){case"function":return!d.value.code;case"graph":return!d.value.graphIds;default:return!0}}),f=w({get:()=>d.value.graphIds.split(","),set($){d.value={...d.value,graphIds:$.join(",")}}}),m=n,{componentId:I,fieldKey:r}=te(m),v=w(()=>s.getComponentById(I.value)),k=w(()=>{let $={};try{$=JSON.parse(v.value.content[r.value])}catch{$={}}return $});function b(){d.value={...i,isShown:!0}}function y(){const{type:$,code:C,graphIds:c}=d.value;if($=="function")return{...JSON.parse(C),type:$};if($=="graph"){const _=c.split(",").map(h=>h.trim());return{type:$,graph_ids:_}}throw"Unexpected tool type."}function S($){let C=[];const{originalName:c,name:_}=$;return _||C.push("The name cannot be empty."),Object.keys(k.value).includes(_)&&!(c||c==_)&&C.push("An existing tool with the specified name already exists."),C}function M(){const $=S(d.value);if($.length>0){$.forEach(alert);return}let C;try{C=y()}catch{alert("Incorrect tool definition");return}const c=JSON.stringify({...k.value,...d.value.originalName?{[d.value.originalName]:void 0}:{},[d.value.name]:C});l(v.value.id,r.value,c),d.value.isShown=!1}function V($,C){var _;const{type:c}=C;if(c=="function")return{isShown:!0,type:"function",originalName:$,name:$,graphIds:"",code:JSON.stringify(C,void 0,2)};if(c=="graph")return{isShown:!0,type:"graph",originalName:$,name:$,graphIds:(_=C.graph_ids)==null?void 0:_.join(","),code:""};throw"Unexpected tool type;"}function A($){var c;const C=(c=k.value)==null?void 0:c[$];C&&(d.value=V($,C))}function O($){const C=JSON.stringify({...k.value,[$]:void 0});l(v.value.id,r.value,C)}const W=w(()=>[{desc:"cancel",fn:()=>d.value.isShown=!1},{desc:"Save",disabled:u.value,fn:M}]);return($,C)=>(p(),B("div",{class:"BuilderFieldsTools colorTransformer","data-automation-key":m.fieldKey},[E("div",qo,[(p(!0),B(Z,null,me(k.value,(c,_)=>(p(),B("div",{key:_,class:"tool",onClick:h=>A(_)},[E("div",Ko,G(_),1),P(Q,{variant:"primary",size:"small",class:"delete",onClick:It(h=>O(_),["stop"])},{default:q(()=>C[4]||(C[4]=[E("i",{class:"material-symbols-outlined"},"delete",-1)])),_:2},1032,["onClick"])],8,Uo))),128))]),P(Q,{size:"small",onClick:b},{default:q(()=>C[5]||(C[5]=[E("i",{class:"material-symbols-outlined"},"add",-1),ae(" Add tool")])),_:1}),d.value.isShown?(p(),F(Pe,{key:0,actions:W.value,title:"Add tool","allow-overflow":""},{default:q(()=>[E("div",zo,[P(_e,{label:"Tool type"},{default:q(()=>[P(St,{modelValue:d.value.type,"onUpdate:modelValue":C[0]||(C[0]=c=>d.value.type=c)},{default:q(()=>C[6]||(C[6]=[E("option",{value:"function"},"Function",-1),E("option",{value:"graph"},"Knowledge graph",-1)])),_:1},8,["modelValue"])]),_:1}),P(_e,{label:"Tool name"},{default:q(()=>[P(re,{modelValue:d.value.name,"onUpdate:modelValue":C[1]||(C[1]=c=>d.value.name=c)},null,8,["modelValue"])]),_:1}),d.value.type=="function"?(p(),F(_e,{key:0,"frame-slot":!0,label:"Function tool definition"},{default:q(()=>[P(g(t),{modelValue:d.value.code,"onUpdate:modelValue":C[2]||(C[2]=c=>d.value.code=c),class:"addToolForm__codeEditor",variant:"minimal",language:"json"},null,8,["modelValue"])]),_:1})):x("",!0),d.value.type=="graph"?(p(),F(_e,{key:1,label:"Graph id(s)",hint:"Specify the id of the knowledge graph you want to use. If multiple, separate the ids using commas."},{default:q(()=>[P(g(e),{modelValue:f.value,"onUpdate:modelValue":C[3]||(C[3]=c=>f.value=c),"enable-multi-selection":""},null,8,["modelValue"])]),_:1})):x("",!0)])]),_:1},8,["actions"])):x("",!0)],8,No))}}),Go=z(Yo,[["__scopeId","data-v-1584a53c"]]),Jo=U({__name:"BuilderFieldsCode",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0},isExpanded:{type:Boolean,required:!0}},setup(n){const e=oe({loader:()=>le(()=>import("./BuilderEmbeddedCodeEditor-CDgBqpMc.js").then(f=>f.a),__vite__mapDeps([8,0,1,9]),import.meta.url),loadingComponent:Se}),t=j(D.core),s=j(D.builderManager),{setContentValue:o}=ee(t,s),l=n,{componentId:a,fieldKey:i}=te(l),d=w(()=>t.getComponentById(a.value)),u=H(d.value.content[i.value]);return $e(u,f=>{o(d.value.id,i.value,f)}),(f,m)=>(p(),F(g(e),{modelValue:u.value,"onUpdate:modelValue":m[0]||(m[0]=I=>u.value=I),language:"python",variant:n.isExpanded?"full":"minimal",class:"BuilderFieldsCode"},null,8,["modelValue","variant"]))}}),Ho=z(Jo,[["__scopeId","data-v-65363ed2"]]),Xo=["data-automation-key"],Qo=U({__name:"BuilderFieldsBlueprintKey",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0}},setup(n){const e=oe(()=>le(()=>import("./index-CNbwmdyR.js").then(r=>r.aW),__vite__mapDeps([0,1]),import.meta.url)),t=j(D.core),s=j(D.builderManager),{setContentValue:o}=ee(t,s),l=n,{componentId:a,fieldKey:i}=te(l),d=w(()=>t.getComponentById(a.value)),u=w({get:()=>{var r;return((r=d.value)==null?void 0:r.content[l.fieldKey])??""},set:r=>o(d.value.id,i.value,r)}),f=w(()=>{const r=new Set;for(const b of t.getComponents("blueprints_root"))b.content.key&&r.add(b.content.key);const v=[...r].sort((b,y)=>b.localeCompare(y)).map(b=>({value:b,label:b,icon:"linked_services"})),k=[{value:"",label:"(No blueprint)",icon:"block"},...v];if(!k.some(b=>b.value===u.value)){const b=u.value;k.push({value:b,label:b})}return k}),m=w(()=>{const r=t.getComponents("blueprints_root").find(v=>v.content.key===u.value);return r==null?void 0:r.id});function I(){m.value&&(s.setSelection(m.value,null,"click"),t.setActivePageId(m.value))}return(r,v)=>(p(),B("div",{class:"BuilderFieldsBlueprintKey","data-automation-key":l.fieldKey},[P(g(e),{modelValue:u.value,"onUpdate:modelValue":v[0]||(v[0]=k=>u.value=k),options:f.value},null,8,["modelValue","options"]),m.value?(p(),F(Q,{key:0,variant:"neutral",size:"smallIcon","data-writer-tooltip":"Jump to the blueprint",onClick:I},{default:q(()=>v[1]||(v[1]=[E("i",{class:"material-symbols-outlined"},"jump_to_element",-1)])),_:1})):x("",!0)],8,Xo))}}),Zo=z(Qo,[["__scopeId","data-v-86fc9518"]]),el=["data-automation-key"],tl=U({__name:"BuilderFieldsHandler",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0}},setup(n){const e=oe(()=>le(()=>import("./index-CNbwmdyR.js").then(m=>m.aW),__vite__mapDeps([0,1]),import.meta.url)),t=j(D.core),s=j(D.builderManager),{setContentValue:o}=ee(t,s),l=n,{componentId:a,fieldKey:i}=te(l),d=w(()=>t.getComponentById(a.value)),u=w({get:()=>{var m;return((m=d.value)==null?void 0:m.content[l.fieldKey])??""},set:m=>o(d.value.id,i.value,m)}),f=w(()=>{const m=t.userFunctions.value.map(r=>r.name).sort((r,v)=>r.localeCompare(v)).map(r=>({value:r,label:r,icon:"function"})),I=[{value:"",label:"(No handler)",icon:"block"},...m];if(!I.some(r=>r.value===u.value)){const r=u.value;I.push({value:r,label:r})}return I});return(m,I)=>(p(),B("div",{class:"BuilderFieldsHandler","data-automation-key":l.fieldKey},[P(g(e),{modelValue:u.value,"onUpdate:modelValue":I[0]||(I[0]=r=>u.value=r),options:f.value},null,8,["modelValue","options"])],8,el))}}),nl=["data-automation-key"],ol=["href","data-writer-tooltip"],ll=U({__name:"BuilderFieldsWriterResourceId",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0},resourceType:{type:String,required:!0}},setup(n){const e=oe(()=>le(()=>import("./BuilderApplicationSelect-C5I2ezAV.js"),__vite__mapDeps([10,0,1,3,4,5,6,11]),import.meta.url)),t=oe(()=>le(()=>import("./BuilderGraphSelect-CC_OWkQn.js"),__vite__mapDeps([2,0,1,3,4,5,6,7]),import.meta.url)),s=j(D.core),o=j(D.builderManager),{setContentValue:l}=ee(s,o),a=n,{componentId:i,fieldKey:d}=te(a),u=w(()=>s.getComponentById(i.value)),f=Y("selectorEl"),m=w(()=>a.resourceType==="graph"?t:e),I=w(()=>{switch(a.resourceType){case"graph":return"Edit knowledge graph";case"application":return"Edit agent";default:return}}),r=w(()=>{var b,y;if(!v.value)return;const k=(y=(b=f.value)==null?void 0:b.selectedData)==null?void 0:y.organization_id;if(k)switch(a.resourceType){case"graph":{const S=new URLSearchParams({graphId:v.value});return`https://app.writer.com/aistudio/organization/${k}/knowledge-graph?${S}`}case"application":return`https://app.writer.com/aistudio/organization/${k}/app/${v.value}`;default:return}}),v=w({get:()=>u.value.content[a.fieldKey]??"",set(k){l(u.value.id,d.value,String(k))}});return(k,b)=>(p(),B("div",{class:"BuilderFieldsWriterResourceId","data-automation-key":a.fieldKey},[(p(),F(Et(m.value),{ref_key:"selectorEl",ref:f,modelValue:v.value,"onUpdate:modelValue":b[0]||(b[0]=y=>v.value=y)},null,8,["modelValue"])),r.value?(p(),B("a",{key:0,class:"BuilderFieldsWriterResourceId__link",href:r.value,target:"_blank","data-writer-tooltip":I.value},b[1]||(b[1]=[E("i",{class:"material-symbols-outlined"}," open_in_new ",-1)]),8,ol)):x("",!0)],8,nl))}}),ot=z(ll,[["__scopeId","data-v-1a3ddfd9"]]),sl=["data-automation-key"],al=U({__name:"BuilderFieldsComponentId",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(n){const e=oe(()=>le(()=>import("./index-CNbwmdyR.js").then(k=>k.aW),__vite__mapDeps([0,1]),import.meta.url)),t=j(D.core),s=j(D.builderManager),{setContentValue:o}=ee(t,s),l=n,{componentId:a,fieldKey:i}=te(l),d=w(()=>t.getComponentById(a.value));function*u(){yield t.getComponentById("root"),yield*t.getComponentsNested("root")}const f=w(()=>{const k=[];for(const b of u()){const y=t.getComponentDefinition(b==null?void 0:b.type);if(!(y!=null&&y.events)||Object.keys(y.events).length===0)continue;const{name:S,previewText:M,possibleImageUrls:V}=Tt(t,b),A=V.value,O=b.id;k.push({value:O,label:M.value||S.value,detail:M.value?S.value:void 0,icon:A})}return k}),m=w({get:()=>d.value.content[l.fieldKey]??"",set(k){o(d.value.id,i.value,String(k))}}),I=w(()=>{let k=m.value;for(;k;){const b=t.getComponentById(k);if(b.type==="page")return b.id;k=b.parentId}}),r=w(()=>t.getComponentById(m.value));function v(){!m.value||!r.value||(I.value&&(s.mode.value="ui",t.setActivePageId(I.value)),s.setSelection(m.value,null,"click"))}return(k,b)=>(p(),B("div",{class:"BuilderFieldsComponentId","data-automation-key":l.fieldKey},[P(g(e),{modelValue:m.value,"onUpdate:modelValue":b[0]||(b[0]=y=>m.value=y),options:f.value,"enable-search":""},null,8,["modelValue","options"]),m.value?(p(),F(Q,{key:0,variant:"neutral",size:"smallIcon","data-writer-tooltip":"Jump to the element",disabled:!r.value,onClick:v},{default:q(()=>b[1]||(b[1]=[E("i",{class:"material-symbols-outlined"},"jump_to_element",-1)])),_:1},8,["disabled"])):x("",!0)],8,sl))}}),il=z(al,[["__scopeId","data-v-f786fecb"]]),rl=["data-automation-key"],ul=U({__name:"BuilderFieldsComponentEventType",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(n){const e=oe(()=>le(()=>import("./index-CNbwmdyR.js").then(I=>I.aW),__vite__mapDeps([0,1]),import.meta.url)),t=j(D.core),s=j(D.builderManager),{setContentValue:o}=ee(t,s),l=n,{componentId:a,fieldKey:i}=te(l),d=w(()=>t.getComponentById(a.value)),u=w(()=>{var I;return t.getComponentDefinition((I=d.value)==null?void 0:I.type)}),f=w(()=>{var b,y;const I=(y=Object.entries(((b=u.value)==null?void 0:b.fields)??{}).find(([,S])=>S.type===J.ComponentId))==null?void 0:y.at(0);if(I===void 0)return[];const r=d.value.content[String(I)],v=t.getComponentById(r),k=t.getComponentDefinition(v==null?void 0:v.type);return k!=null&&k.events?Object.keys(k.events).map(S=>({value:S,label:S})):[]}),m=w({get:()=>d.value.content[l.fieldKey]??"",set(I){o(d.value.id,i.value,String(I))}});return(I,r)=>(p(),B("div",{class:"BuilderFieldsComponentEventType","data-automation-key":l.fieldKey},[f.value.length?(p(),F(g(e),{key:0,modelValue:m.value,"onUpdate:modelValue":r[0]||(r[0]=v=>m.value=v),options:f.value,"hide-icons":""},null,8,["modelValue","options"])):(p(),F(re,{key:1,modelValue:m.value,"onUpdate:modelValue":r[1]||(r[1]=v=>m.value=v)},null,8,["modelValue"]))],8,rl))}});function dl(n,e){const{getEvaluatedFields:t}=lt(n),s=w(()=>{var i;const l=(i=e.value.at(-1))==null?void 0:i.componentId;if(l===void 0)return{};const a=n.getComponentById(l);return a?n.getComponentDefinition(a.type).fields??{}:{}}),o=w(()=>t(e.value));return w(()=>Object.entries(s.value).reduce((l,[a,i])=>{const d=o.value[a].value;return l[a]=cl(i,d),l},{}))}function cl(n,e){let t=n.validator;if(t===void 0&&typeof n.options=="object"&&n.options!==null&&Object.keys(n.options).length>0&&(t=Ct(Object.keys(n.options))),t===void 0)return;const s=xt(t);if(!(s(e)||s.errors===void 0))return vl(s.errors)}function pl(n){var t;if(n.keyword==="format"&&Object.values(wt).includes(n.params.format))return Bt[n.params.format].errorMessage;let e="";return n.instancePath&&(e+=`${n.instancePath} `),e+=n.message,Array.isArray((t=n.params)==null?void 0:t.allowedValues)&&(e+=`: ${n.params.allowedValues.join(", ")}`),e}function vl(n){return n.map(pl).join(`
`)}const fl={key:0,class:"BuilderSettingsProperties"},ml={key:0,class:"BuilderSettingsProperties__category__title"},hl=U({__name:"BuilderSettingsProperties",setup(n){const e=j(D.core),t=j(D.builderManager),s=H(new Set),o=w(()=>{var v,k;return Mt((k=(v=t.firstSelectedItem)==null?void 0:v.value)==null?void 0:k.instancePath)}),l=w(()=>e.getComponentById(t.firstSelectedId.value)),a=w(()=>{const{type:v}=l.value;return e.getComponentDefinition(v)}),i=w(()=>{var v;return(v=a.value)==null?void 0:v.fields});function d(v){return v.type===J.Code||v.type===J.Object||v.control===De.Textarea}const u=dl(e,o),f=w(()=>[pe.General,pe.Style,pe.Tools].filter(v=>{var k;return(k=m.value[v])==null?void 0:k.length})),m=w(()=>{const v=Object.entries(i.value);return{[pe.General]:v.filter(([b,y])=>!y.category||y.category==pe.General),[pe.Style]:v.filter(([b,y])=>y.category==pe.Style),[pe.Tools]:v.filter(([b,y])=>y.category==pe.Tools)}});function I(v){s.value.add(v)}function r(v){s.value.delete(v)}return(v,k)=>g(t).isSingleSelectionActive&&i.value?(p(),B("div",fl,[(p(!0),B(Z,null,me(f.value,b=>(p(),B("div",{key:b,class:"BuilderSettingsProperties__category"},[m.value[b].length>0&&b!=="General"?(p(),B("h4",ml,G(b),1)):x("",!0),(p(!0),B(Z,null,me(m.value[b],([y,S])=>(p(),B("div",{key:y,class:"BuilderSettingsProperties__category__field"},[P(_e,{label:b==="Tools"?void 0:S.name??y,hint:S.desc,unit:S.type,error:g(u)[y],"is-expansible":d(S),onExpand:M=>I(y),onShrink:M=>r(y)},{default:q(()=>[S.type==g(J).Color?(p(),F(zn,{key:0,"field-key":y,"component-id":l.value.id,error:g(u)[y]},null,8,["field-key","component-id","error"])):x("",!0),S.type==g(J).Shadow?(p(),F(Eo,{key:1,"field-key":y,"component-id":l.value.id,error:g(u)[y]},null,8,["field-key","component-id","error"])):x("",!0),S.type==g(J).KeyValue?(p(),F(Qn,{key:2,"field-key":y,"component-id":l.value.id,"instance-path":o.value,error:g(u)[y]},null,8,["field-key","component-id","instance-path","error"])):x("",!0),S.type==g(J).Text||S.type==g(J).Boolean?(p(),F(je,{key:3,"field-key":y,"component-id":l.value.id,error:g(u)[y]},null,8,["field-key","component-id","error"])):x("",!0),S.type==g(J).BlueprintKey?(p(),F(Zo,{key:4,"field-key":y,"component-id":l.value.id},null,8,["field-key","component-id"])):x("",!0),S.type==g(J).Handler?(p(),F(tl,{key:5,"field-key":y,"component-id":l.value.id},null,8,["field-key","component-id"])):x("",!0),S.type==g(J).Number?(p(),F(je,{key:6,"field-key":y,"component-id":l.value.id,error:g(u)[y]},null,8,["field-key","component-id","error"])):x("",!0),S.type==g(J).IdKey?(p(),F(je,{key:7,"field-key":y,"component-id":l.value.id,error:g(u)[y]},null,8,["field-key","component-id","error"])):x("",!0),S.type==g(J).Object?(p(),F(ft,{key:8,"field-key":y,"component-id":l.value.id,error:g(u)[y]},null,8,["field-key","component-id","error"])):x("",!0),S.type==g(J).Width?(p(),F(To,{key:9,"field-key":y,"component-id":l.value.id,error:g(u)[y]},null,8,["field-key","component-id","error"])):x("",!0),S.type==g(J).HAlign?(p(),F(nt,{key:10,direction:"horizontal","field-key":y,"component-id":l.value.id,error:g(u)[y]},null,8,["field-key","component-id","error"])):x("",!0),S.type==g(J).VAlign?(p(),F(nt,{key:11,direction:"vertical","field-key":y,"component-id":l.value.id,error:g(u)[y]},null,8,["field-key","component-id","error"])):x("",!0),S.type==g(J).Padding?(p(),F(lo,{key:12,"field-key":y,"component-id":l.value.id,error:g(u)[y]},null,8,["field-key","component-id","error"])):x("",!0),S.type==g(J).Tools?(p(),F(Go,{key:13,"field-key":y,"component-id":l.value.id},null,8,["field-key","component-id"])):x("",!0),S.type==g(J).Code?(p(),F(Ho,{key:14,"field-key":y,"component-id":l.value.id,"is-expanded":s.value.has(y)},null,8,["field-key","component-id","is-expanded"])):x("",!0),S.type==g(J).WriterGraphId?(p(),F(ot,{key:15,"field-key":y,"component-id":l.value.id,error:g(u)[y],"resource-type":"graph"},null,8,["field-key","component-id","error"])):x("",!0),S.type==g(J).WriterAppId?(p(),F(ot,{key:16,"field-key":y,"component-id":l.value.id,error:g(u)[y],"resource-type":"application"},null,8,["field-key","component-id","error"])):x("",!0),S.type==g(J).ComponentId?(p(),F(il,{key:17,"field-key":y,"component-id":l.value.id,error:g(u)[y]},null,8,["field-key","component-id","error"])):x("",!0),S.type==g(J).ComponentEventType?(p(),F(ul,{key:18,"field-key":y,"component-id":l.value.id,error:g(u)[y]},null,8,["field-key","component-id","error"])):x("",!0)]),_:2},1032,["label","hint","unit","error","is-expansible","onExpand","onShrink"])]))),128))]))),128))])):x("",!0)}}),yl=z(hl,[["__scopeId","data-v-7d019e87"]]),gl={class:"BuilderSectionTitle"},_l={class:"material-symbols-outlined"},bl=U({__name:"BuilderSectionTitle",props:{icon:{type:String,required:!0},label:{type:String,required:!0}},setup(n){return(e,t)=>(p(),B("div",gl,[E("i",_l,G(n.icon),1),E("h3",null,G(n.label),1)]))}}),mt=z(bl,[["__scopeId","data-v-731e03f5"]]),kl={key:0,class:"BuilderSettingsBinding"},Il={class:"main"},Sl='Links this component to a state element, in a two-way fashion. Reference the state element directly, i.e. use "my_var" instead of "@{my_var}".',El=U({__name:"BuilderSettingsBinding",setup(n){const e=j(D.core),t=j(D.builderManager),{setBinding:s}=ee(e,t),o=w(()=>e.getComponentById(t.firstSelectedId.value));return(l,a)=>g(t).isSingleSelectionActive?(p(),B("div",kl,[P(mt,{icon:"link",label:"Binding"}),E("div",Il,[P(_e,{label:"State element",hint:Sl},{default:q(()=>{var i;return[P(ie,{type:"state",value:(i=o.value.binding)==null?void 0:i.stateRef,placeholder:"my_var",onInput:a[0]||(a[0]=d=>g(s)(o.value.id,d.target.value))},null,8,["value"])]}),_:1})])])):x("",!0)}}),Cl=z(El,[["__scopeId","data-v-51a930b8"]]),xl={key:0,class:"BuilderSettingsVisibility"},wl={class:"main"},Bl={class:"flexRow"},$l=["checked"],Al='Reference a state or context element that will evaluate to true or false. Reference the element directly, i.e. use "my_var" instead of "@{my_var}".',Ml=U({__name:"BuilderSettingsVisibility",setup(n){const e=[{label:"Yes",value:"yes"},{label:"No",value:"no"},{label:"Custom",value:"custom"}],t=w({get(){const i=a.value.visible;return(i==null?void 0:i.expression)==="custom"?"custom":i===void 0||i.expression===!0?"yes":"no"},set(i){var d,u;i==="custom"?l(a.value.id,"custom",(d=a.value.visible)==null?void 0:d.binding,(u=a.value.visible)==null?void 0:u.reversed):l(a.value.id,i==="yes")}}),s=j(D.core),o=j(D.builderManager),{setVisibleValue:l}=ee(s,o),a=w(()=>s.getComponentById(o.firstSelectedId.value));return(i,d)=>g(o).isSingleSelectionActive?(p(),B("div",xl,[P(mt,{icon:"visibility",label:"Visibility"}),E("div",wl,[P(ke,{modelValue:t.value,"onUpdate:modelValue":d[0]||(d[0]=u=>t.value=u),tabs:e},null,8,["modelValue"]),typeof a.value.visible<"u"&&a.value.visible.expression==="custom"?(p(),F(_e,{key:0,hint:Al},{default:q(()=>[P(ie,{value:a.value.visible.binding,type:"state",placeholder:"my_visibility_state_value",onInput:d[1]||(d[1]=u=>g(l)(a.value.id,"custom",u.target.value,a.value.visible.reversed))},null,8,["value"]),E("div",Bl,[E("input",{type:"checkbox",checked:a.value.visible.reversed,onInput:d[2]||(d[2]=u=>g(l)(a.value.id,"custom",a.value.visible.binding,u.target.checked))},null,40,$l),d[3]||(d[3]=E("span",null,"Reverse",-1))])]),_:1})):x("",!0)])])):x("",!0)}}),Tl=z(Ml,[["__scopeId","data-v-23772341"]]),Fl=["data-writer-tooltip"],Ol=U({__name:"BuilderCopyText",setup(n){const e=H("Copy to clipboard");function t(s){const o=s.target.textContent;navigator.clipboard.writeText(o),e.value="Copied!",setTimeout(()=>{e.value="Copy to clipboard"},1e3)}return(s,o)=>(p(),B("span",{class:"BuilderCopyText","data-writer-tooltip":e.value,onClick:t},[Ve(s.$slots,"default",{},void 0,!0)],8,Fl))}}),Vl=z(Ol,[["__scopeId","data-v-46ba30f4"]]),Rl={key:0,class:"BuilderSettingsAPICode"},Pl={class:"modalContents"},Wl={class:"codeContainer"},Ll={class:"codeContainer"},jl={key:1},Dl=U({__name:"BuilderSettingsAPICode",setup(n){const e=j(D.core),t=j(D.builderManager),s=w(()=>e.getComponentById(t.firstSelectedId.value)),o=w(()=>{var I;return((I=s.value)==null?void 0:I.type)==="blueprints_blueprint"}),l=w(()=>{var I;if(o.value)return(I=s.value.content)==null?void 0:I.key}),a=H(!1),i=H(""),d=H(""),u=H(!1);function f(){m(),a.value=!0}async function m(){const I=await e.hashMessage(`create_job_${l.value}`);if(u.value=!!I,!u.value)return;const r=window.location.origin+window.location.pathname;i.value=`
curl --location --request POST '${r}api/job/blueprint/${l.value}' \\
--header 'Content-Type: application/json' \\
--header 'Authorization: Bearer ${I}' \\
--data '{
    "my_var": 1
}'`.trim(),d.value=`
curl --location '${r}api/job/JOB_ID' \\
--header 'Authorization: Bearer JOB_TOKEN'`.trim()}return(I,r)=>o.value?(p(),B("div",Rl,[a.value?(p(),F(Pe,{key:0,title:"API Code","display-close-button":"",hint:u.value?"Note: For API calls to work, the --enable-jobs-api flag must be active.":void 0,onClose:r[2]||(r[2]=v=>a.value=!1)},{default:q(()=>[E("div",Pl,[u.value?(p(),B(Z,{key:0},[r[3]||(r[3]=E("p",null," The following call will create the job and provide you with a job ID and a job token. ",-1)),E("div",Wl,[P(He,{modelValue:i.value,"onUpdate:modelValue":r[0]||(r[0]=v=>i.value=v),class:"editor",variant:"minimal",language:"shell"},null,8,["modelValue"])]),r[4]||(r[4]=E("p",null," Using the job ID and token obtained in the previous call, check the status of the job. You can use the code below, after replacing JOB_ID and JOB_TOKEN for the right values. ",-1)),E("div",Ll,[P(He,{modelValue:d.value,"onUpdate:modelValue":r[1]||(r[1]=v=>d.value=v),class:"editor",variant:"minimal",language:"shell"},null,8,["modelValue"])])],64)):(p(),B("p",jl," API code cannot be generated. Please make sure the environment variable WRITER_SECRET_KEY has been set up. "))])]),_:1},8,["hint"])):x("",!0),l.value?(p(),F(Q,{key:1,variant:"tertiary",size:"small",onClick:f},{default:q(()=>r[5]||(r[5]=[E("i",{class:"material-symbols-outlined"}," code ",-1),ae(" Call via API")])),_:1})):(p(),F(Q,{key:2,disabled:!0,variant:"tertiary",size:"small","data-writer-tooltip":`You need to specify a blueprint key before this blueprint can be
				used in the UI or called via API.`},{default:q(()=>r[6]||(r[6]=[E("i",{class:"material-symbols-outlined"}," code ",-1),ae(" Call via API")])),_:1}))])):x("",!0)}}),Nl=z(Dl,[["__scopeId","data-v-260b939f"]]),ql={class:"BuilderSettingsMain"},Ul={key:0,class:"BuilderSettingsMain__description"},Kl={key:1,class:"warning cmc-warning"},zl=["inert"],Yl={class:"sections debug"},Gl=U({__name:"BuilderSettingsMain",setup(n){const e=oe({loader:()=>le(()=>import("./BuilderSettingsHandlers-oSi9BAqx.js"),__vite__mapDeps([12,0,1,4,5,6,13,14]),import.meta.url),loadingComponent:Se}),t=j(D.core),s=j(D.builderManager),o=w(()=>t.getComponentById(s.firstSelectedId.value)),l=w(()=>o.value.isCodeManaged),a=w(()=>s.isSingleSelectionActive.value?!i.value.toolkit||i.value.toolkit=="core":!1),i=w(()=>{const{type:u}=o.value;return t.getComponentDefinition(u)});$e(o,u=>{u||s.setSelection(null)});const d=w(()=>{var u;return Object.values(((u=i.value)==null?void 0:u.events)??{}).some(f=>f.bindable)});return(u,f)=>(p(),B("div",ql,[i.value.description?(p(),B("p",Ul,G(i.value.description),1)):x("",!0),l.value?(p(),B("p",Kl,f[0]||(f[0]=[E("i",{class:"material-symbols-outlined"},"warning",-1),E("span",null," This component is instantiated in code. All settings in this panel are read-only and cannot be edited. ",-1)]))):x("",!0),E("div",{class:"sections",inert:l.value},[P(yl),a.value?(p(),B(Z,{key:0},[d.value?(p(),F(Cl,{key:0})):x("",!0),P(g(e)),P(Tl)],64)):x("",!0),P(Nl,null,{default:q(()=>f[1]||(f[1]=[ae("Execute via API")])),_:1})],8,zl),E("div",Yl,[E("p",null,[f[2]||(f[2]=ae(" Component id: ")),P(Vl,null,{default:q(()=>[ae(G(g(s).firstSelectedId.value),1)]),_:1})])])]))}}),Jl=z(Gl,[["__scopeId","data-v-4d40aa9a"]]),Hl={key:0,class:"collapser"},Xl={key:1,class:"titleBar"},Ql=["data-writer-tooltip"],Zl=U({__name:"BuilderSettings",setup(n){$t(u=>({"56a3fa32":g(t).getMode()=="blueprints"?"82px":"20px"}));const e=j(D.core),t=j(D.builderManager),s=H(!1),o=w(()=>e.getComponentById(t.firstSelectedId.value)),l=w(()=>t.selectionStatus.value===Oe.Multiple?!0:t.isSettingsBarCollapsed.value),a=w(()=>t.selection.value.length);function i(){t.isSettingsBarCollapsed.value=!t.isSettingsBarCollapsed.value}const d=w(()=>{const{type:u}=o.value;return e.getComponentDefinition(u)});return $e(o,u=>{u||t.setSelection(null)}),(u,f)=>g(t).selectionStatus.value!==g(Oe).None?(p(),B("div",{key:0,class:We(["BuilderSettings",{"BuilderSettings--collapsed":l.value,"BuilderSettings--miniDocActive":s.value}])},[g(t).isSingleSelectionActive.value?(p(),B("div",Hl,[l.value?(p(),F(Q,{key:0,class:"collapserButton",size:"smallIcon",variant:"neutral","data-writer-tooltip-placement":"left","data-writer-tooltip":"Expand settings","data-automation-action":"expand-settings",onClick:i},{default:q(()=>f[0]||(f[0]=[E("i",{class:"material-symbols-outlined"},"settings",-1)])),_:1})):(p(),F(Q,{key:1,class:"collapserButton",size:"smallIcon",variant:"neutral","data-writer-tooltip-placement":"left","data-writer-tooltip":"Collapse settings","data-automation-action":"collapse-settings",onClick:i},{default:q(()=>f[1]||(f[1]=[E("i",{class:"material-symbols-outlined"},"double_arrow",-1)])),_:1}))])):x("",!0),g(t).isSingleSelectionActive?(p(),B("div",Xl,[E("div",null,G(d.value.name),1)])):x("",!0),g(t).selectionStatus.value===g(Oe).Multiple?(p(),B("div",{key:2,class:"BuilderSettings__selectionCount","data-writer-tooltip-placement":"left","data-writer-tooltip":`${a.value} components selected`},[E("p",null,G(a.value),1)],8,Ql)):x("",!0),P(Pt,{class:"actions"}),P(Jl,{inert:l.value,class:"main"},null,8,["inert"])],2)):x("",!0)}}),as=z(Zl,[["__scopeId","data-v-6524c627"]]);export{as as default};
