"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["39160"],{6514:function(t,e,i){i.a(t,(async function(t,n){try{i.r(e),i.d(e,{HaSpinner:()=>g});var o=i(73742),a=i(57780),s=i(86842),r=i(59048),c=i(7616),l=t([a]);a=(l.then?(await l)():l)[0];let h,d=t=>t;class g extends a.Z{updated(t){if(super.updated(t),t.has("size"))switch(this.size){case"tiny":this.style.setProperty("--ha-spinner-size","16px");break;case"small":this.style.setProperty("--ha-spinner-size","28px");break;case"medium":this.style.setProperty("--ha-spinner-size","48px");break;case"large":this.style.setProperty("--ha-spinner-size","68px");break;case void 0:this.style.removeProperty("--ha-progress-ring-size")}}}g.styles=[s.Z,(0,r.iv)(h||(h=d`:host{--indicator-color:var(
          --ha-spinner-indicator-color,
          var(--primary-color)
        );--track-color:var(--ha-spinner-divider-color, var(--divider-color));--track-width:4px;--speed:3.5s;font-size:var(--ha-spinner-size, 48px)}`))],(0,o.__decorate)([(0,c.Cb)()],g.prototype,"size",void 0),g=(0,o.__decorate)([(0,c.Mo)("ha-spinner")],g),n()}catch(h){n(h)}}))},40362:function(t,e,i){i.a(t,(async function(t,n){try{i.r(e);i(40777),i(26847),i(2394),i(81738),i(22960),i(6989),i(87799),i(1455),i(67886),i(65451),i(46015),i(38334),i(94880),i(75643),i(29761),i(27530);var o=i(73742),a=i(59048),s=i(7616),r=i(31733),c=i(25191),l=i(40141),h=i(4427),d=i(44272),g=i(15459),u=(i(31138),i(48017),i(73048)),p=i(42236),f=i(76815),m=i(45063),_=i(88887),y=i(37807),v=i(93647),b=i(55577),w=i(12723),x=i(99389),$=(i(12070),t([u,w]));[u,w]=$.then?(await $)():$;let k,C,E,P,S,z,O,D,T=t=>t;const j=new Set(["closed","locked","not_home","off"]);class A extends a.oi{static async getConfigElement(){return await Promise.all([i.e("73614"),i.e("15601"),i.e("15634"),i.e("26452"),i.e("66811"),i.e("30691"),i.e("38666")]).then(i.bind(i,21515)),document.createElement("hui-picture-glance-card-editor")}static getStubConfig(t,e,i){return{type:"picture-glance",title:"Kitchen",image:"https://demo.home-assistant.io/stub_config/kitchen.png",entities:(0,m.j)(t,2,e,i,["sensor","binary_sensor"])}}getCardSize(){return 3}setConfig(t){if(!t||!t.entities||!Array.isArray(t.entities)||!(t.image||t.image_entity||t.camera_image||t.state_image)||t.state_image&&!t.entity)throw new Error("Invalid configuration");const e=(0,b.A)(t.entities);this._entitiesDialog=[],this._entitiesToggle=[],e.forEach((e=>{t.force_dialog||!l.Kk.has((0,d.M)(e.entity))?this._entitiesDialog.push(e):this._entitiesToggle.push(e)})),this._config=Object.assign({tap_action:{action:"more-info"},hold_action:{action:"more-info"}},t)}shouldUpdate(t){if(!this._config||(0,v.G2)(this,t))return!0;if(!t.has("hass"))return!1;const e=t.get("hass");if(!e||e.themes!==this.hass.themes||e.locale!==this.hass.locale)return!0;if(this._config.image_entity&&e.states[this._config.image_entity]!==this.hass.states[this._config.image_entity])return!0;if(this._entitiesDialog)for(const i of this._entitiesDialog)if(e.states[i.entity]!==this.hass.states[i.entity])return!0;if(this._entitiesToggle)for(const i of this._entitiesToggle)if(e.states[i.entity]!==this.hass.states[i.entity])return!0;return!1}updated(t){if(super.updated(t),!this._config||!this.hass)return;const e=t.get("hass"),i=t.get("_config");e&&i&&e.themes===this.hass.themes&&i.theme===this._config.theme||(0,h.R)(this,this.hass.themes,this._config.theme)}render(){var t;if(!this._config||!this.hass)return a.Ld;let e=this._config.image;if(this._config.image_entity){const t=this.hass.states[this._config.image_entity];switch((0,d.M)(this._config.image_entity)){case"image":e=(0,p.U)(t);break;case"person":t.attributes.entity_picture&&(e=t.attributes.entity_picture)}}const i="grid"===this.layout&&"number"==typeof(null===(t=this._config.grid_options)||void 0===t?void 0:t.rows);return(0,a.dy)(k||(k=T` <ha-card> <hui-image class="${0}" @action="${0}" .actionHandler="${0}" tabindex="${0}" .config="${0}" .hass="${0}" .image="${0}" .stateImage="${0}" .stateFilter="${0}" .cameraImage="${0}" .cameraView="${0}" .entity="${0}" .fitMode="${0}" .aspectRatio="${0}"></hui-image> <div class="box"> ${0} <div class="row"> ${0} </div> <div class="row"> ${0} </div> </div> </ha-card> `),(0,r.$)({clickable:Boolean(this._config.tap_action||this._config.hold_action||this._config.camera_image||this._config.image_entity)}),this._handleAction,(0,f.K)({hasHold:(0,y._)(this._config.hold_action),hasDoubleClick:(0,y._)(this._config.double_tap_action)}),(0,c.o)((0,y._)(this._config.tap_action)?"0":void 0),this._config,this.hass,e,this._config.state_image,this._config.state_filter,this._config.camera_image,this._config.camera_view,this._config.entity,this._config.fit_mode,i?void 0:this._config.aspect_ratio,this._config.title?(0,a.dy)(C||(C=T`<div class="title">${0}</div>`),this._config.title):"",this._entitiesDialog.map((t=>this._renderEntity(t,!0))),this._entitiesToggle.map((t=>this._renderEntity(t,!1))))}_renderEntity(t,e){const i=this.hass.states[t.entity];return t=Object.assign({tap_action:{action:e?"more-info":"toggle"},hold_action:{action:"more-info"}},t),i?(0,a.dy)(P||(P=T` <div class="wrapper"> <ha-icon-button @action="${0}" .actionHandler="${0}" tabindex="${0}" .disabled="${0}" .config="${0}" class="${0}" title="${0}"> <ha-state-icon .icon="${0}" .stateObj="${0}" .hass="${0}"></ha-state-icon> </ha-icon-button> ${0} </div> `),this._handleAction,(0,f.K)({hasHold:(0,y._)(t.hold_action),hasDoubleClick:(0,y._)(t.double_tap_action)}),(0,c.o)((0,y._)(t.tap_action)?void 0:"-1"),!(0,y._)(t.tap_action),t,(0,r.$)({"state-on":!j.has(i.state)}),`${(0,g.C)(i)} : ${this.hass.formatEntityState(i)}`,t.icon,i,this.hass,!0!==this._config.show_state&&!0!==t.show_state?(0,a.dy)(S||(S=T`<div class="state"></div>`)):(0,a.dy)(z||(z=T` <div class="state"> ${0} </div> `),t.attribute?(0,a.dy)(O||(O=T` ${0}${0}${0} `),t.prefix,i.attributes[t.attribute],t.suffix):this.hass.formatEntityState(i))):(0,a.dy)(E||(E=T` <hui-warning-element .label="${0}"></hui-warning-element> `),(0,x.i)(this.hass,t.entity))}_handleAction(t){const e=t.currentTarget.config;(0,_.G)(this,this.hass,e,t.detail.action)}}A.styles=(0,a.iv)(D||(D=T`ha-card{position:relative;min-height:48px;overflow:hidden;height:100%;box-sizing:border-box}hui-image{height:100%}hui-image.clickable{cursor:pointer}.box{position:absolute;left:0;right:0;bottom:0;background-color:var(--ha-picture-card-background-color,rgba(0,0,0,.3));padding:4px 8px;display:flex;justify-content:space-between;flex-direction:row}.box .title{font-weight:500;margin-left:8px;margin-inline-start:8px;margin-inline-end:initial;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;font-size:16px;line-height:40px;color:var(--ha-picture-card-text-color,#fff);align-self:center}ha-state-icon{font-size:0}ha-icon-button{--mdc-icon-button-size:40px;--disabled-text-color:currentColor;color:var(--ha-picture-icon-button-color,#a9a9a9)}ha-icon-button.state-on{color:var(--ha-picture-icon-button-on-color,#fff)}hui-warning-element{padding:0 8px}.state{display:block;font-size:12px;text-align:center;line-height:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:var(--ha-picture-card-text-color,#fff)}.row{display:flex;flex-direction:row}.wrapper{display:flex;flex-direction:column;width:40px}`)),(0,o.__decorate)([(0,s.Cb)({attribute:!1})],A.prototype,"hass",void 0),(0,o.__decorate)([(0,s.Cb)({attribute:!1})],A.prototype,"layout",void 0),(0,o.__decorate)([(0,s.SB)()],A.prototype,"_config",void 0),A=(0,o.__decorate)([(0,s.Mo)("hui-picture-glance-card")],A),n()}catch(k){n(k)}}))},39452:function(t,e,i){i.a(t,(async function(t,n){try{i.d(e,{P5:()=>u,Ve:()=>f});var o=i(62229),a=(i(26847),i(81738),i(6989),i(87799),i(64455),i(67886),i(65451),i(46015),i(38334),i(94880),i(75643),i(29761),i(6202),i(27530),t([o]));o=(a.then?(await a)():a)[0];const r=new Set,c=new Map;let l,h="ltr",d="en";const g="undefined"!=typeof MutationObserver&&"undefined"!=typeof document&&void 0!==document.documentElement;if(g){const m=new MutationObserver(p);h=document.documentElement.dir||"ltr",d=document.documentElement.lang||navigator.language,m.observe(document.documentElement,{attributes:!0,attributeFilter:["dir","lang"]})}function u(...t){t.map((t=>{const e=t.$code.toLowerCase();c.has(e)?c.set(e,Object.assign(Object.assign({},c.get(e)),t)):c.set(e,t),l||(l=t)})),p()}function p(){g&&(h=document.documentElement.dir||"ltr",d=document.documentElement.lang||navigator.language),[...r.keys()].map((t=>{"function"==typeof t.requestUpdate&&t.requestUpdate()}))}class f{hostConnected(){r.add(this.host)}hostDisconnected(){r.delete(this.host)}dir(){return`${this.host.dir||h}`.toLowerCase()}lang(){return`${this.host.lang||d}`.toLowerCase()}getTranslationData(t){var e,i;const n=new Intl.Locale(t.replace(/_/g,"-")),o=null==n?void 0:n.language.toLowerCase(),a=null!==(i=null===(e=null==n?void 0:n.region)||void 0===e?void 0:e.toLowerCase())&&void 0!==i?i:"";return{locale:n,language:o,region:a,primary:c.get(`${o}-${a}`),secondary:c.get(o)}}exists(t,e){var i;const{primary:n,secondary:o}=this.getTranslationData(null!==(i=e.lang)&&void 0!==i?i:this.lang());return e=Object.assign({includeFallback:!1},e),!!(n&&n[t]||o&&o[t]||e.includeFallback&&l&&l[t])}term(t,...e){const{primary:i,secondary:n}=this.getTranslationData(this.lang());let o;if(i&&i[t])o=i[t];else if(n&&n[t])o=n[t];else{if(!l||!l[t])return console.error(`No translation found for: ${String(t)}`),String(t);o=l[t]}return"function"==typeof o?o(...e):o}date(t,e){return t=new Date(t),new Intl.DateTimeFormat(this.lang(),e).format(t)}number(t,e){return t=Number(t),isNaN(t)?"":new Intl.NumberFormat(this.lang(),e).format(t)}relativeTime(t,e,i){return new Intl.RelativeTimeFormat(this.lang(),i).format(t,e)}constructor(t){this.host=t,this.host.addController(this)}}n()}catch(s){n(s)}}))},23308:function(t,e,i){i.a(t,(async function(t,n){try{i.d(e,{A:()=>h});i(26847),i(27530);var o=i(50095),a=i(12061),s=i(97584),r=i(92050),c=i(59048),l=t([a]);a=(l.then?(await l)():l)[0];let d,g=t=>t;var h=class extends r.P{render(){return(0,c.dy)(d||(d=g` <svg part="base" class="spinner" role="progressbar" aria-label="${0}"> <circle class="spinner__track"></circle> <circle class="spinner__indicator"></circle> </svg> `),this.localize.term("loading"))}constructor(){super(...arguments),this.localize=new a.V(this)}};h.styles=[s.N,o.D],n()}catch(d){n(d)}}))},92050:function(t,e,i){i.d(e,{P:()=>r});i(26847),i(81738),i(22960),i(52530),i(27530);var n,o=i(17915),a=i(59048),s=i(7616),r=class extends a.oi{emit(t,e){const i=new CustomEvent(t,(0,o.ih)({bubbles:!0,cancelable:!1,composed:!0,detail:{}},e));return this.dispatchEvent(i),i}static define(t,e=this,i={}){const n=customElements.get(t);if(!n){try{customElements.define(t,e,i)}catch(s){customElements.define(t,class extends e{},i)}return}let o=" (unknown version)",a=o;"version"in e&&e.version&&(o=" v"+e.version),"version"in n&&n.version&&(a=" v"+n.version),o&&a&&o===a||console.warn(`Attempted to register <${t}>${o}, but <${t}>${a} has already been registered.`)}attributeChangedCallback(t,e,i){(0,o.ac)(this,n)||(this.constructor.elementProperties.forEach(((t,e)=>{t.reflect&&null!=this[e]&&this.initialReflectedProperties.set(e,this[e])})),(0,o.qx)(this,n,!0)),super.attributeChangedCallback(t,e,i)}willUpdate(t){super.willUpdate(t),this.initialReflectedProperties.forEach(((e,i)=>{t.has(i)&&null==this[i]&&(this[i]=e)}))}constructor(){super(),(0,o.Ko)(this,n,!1),this.initialReflectedProperties=new Map,Object.entries(this.constructor.dependencies).forEach((([t,e])=>{this.constructor.define(t,e)}))}};n=new WeakMap,r.version="2.20.1",r.dependencies={},(0,o.u2)([(0,s.Cb)()],r.prototype,"dir",2),(0,o.u2)([(0,s.Cb)()],r.prototype,"lang",2)},12061:function(t,e,i){i.a(t,(async function(t,n){try{i.d(e,{V:()=>r});var o=i(69429),a=i(39452),s=t([a,o]);[a,o]=s.then?(await s)():s;var r=class extends a.Ve{};(0,a.P5)(o.K),n()}catch(c){n(c)}}))},69429:function(t,e,i){i.a(t,(async function(t,n){try{i.d(e,{K:()=>r});var o=i(39452),a=t([o]);o=(a.then?(await a)():a)[0];var s={$code:"en",$name:"English",$dir:"ltr",carousel:"Carousel",clearEntry:"Clear entry",close:"Close",copied:"Copied",copy:"Copy",currentValue:"Current value",error:"Error",goToSlide:(t,e)=>`Go to slide ${t} of ${e}`,hidePassword:"Hide password",loading:"Loading",nextSlide:"Next slide",numOptionsSelected:t=>0===t?"No options selected":1===t?"1 option selected":`${t} options selected`,previousSlide:"Previous slide",progress:"Progress",remove:"Remove",resize:"Resize",scrollToEnd:"Scroll to end",scrollToStart:"Scroll to start",selectAColorFromTheScreen:"Select a color from the screen",showPassword:"Show password",slideNum:t=>`Slide ${t}`,toggleColorFormat:"Toggle color format"};(0,o.P5)(s);var r=s;n()}catch(c){n(c)}}))},50095:function(t,e,i){i.d(e,{D:()=>o});let n;var o=(0,i(59048).iv)(n||(n=(t=>t)`:host{--track-width:2px;--track-color:rgb(128 128 128 / 25%);--indicator-color:var(--sl-color-primary-600);--speed:2s;display:inline-flex;width:1em;height:1em;flex:none}.spinner{flex:1 1 auto;height:100%;width:100%}.spinner__indicator,.spinner__track{fill:none;stroke-width:var(--track-width);r:calc(0.5em - var(--track-width)/ 2);cx:0.5em;cy:0.5em;transform-origin:50% 50%}.spinner__track{stroke:var(--track-color);transform-origin:0% 0%}.spinner__indicator{stroke:var(--indicator-color);stroke-linecap:round;stroke-dasharray:150% 75%;animation:spin var(--speed) linear infinite}@keyframes spin{0%{transform:rotate(0deg);stroke-dasharray:0.05em,3em}50%{transform:rotate(450deg);stroke-dasharray:1.375em,1.375em}100%{transform:rotate(1080deg);stroke-dasharray:0.05em,3em}}`))},17915:function(t,e,i){i.d(e,{EZ:()=>u,Ko:()=>_,ac:()=>m,ih:()=>g,qx:()=>y,u2:()=>p});i(84730),i(40777),i(26847),i(1455),i(27530);var n=Object.defineProperty,o=Object.defineProperties,a=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,h=t=>{throw TypeError(t)},d=(t,e,i)=>e in t?n(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,g=(t,e)=>{for(var i in e||(e={}))c.call(e,i)&&d(t,i,e[i]);if(r)for(var i of r(e))l.call(e,i)&&d(t,i,e[i]);return t},u=(t,e)=>o(t,s(e)),p=(t,e,i,o)=>{for(var s,r=o>1?void 0:o?a(e,i):e,c=t.length-1;c>=0;c--)(s=t[c])&&(r=(o?s(e,i,r):s(r))||r);return o&&r&&n(e,i,r),r},f=(t,e,i)=>e.has(t)||h("Cannot "+i),m=(t,e,i)=>(f(t,e,"read from private field"),i?i.call(t):e.get(t)),_=(t,e,i)=>e.has(t)?h("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,i),y=(t,e,i,n)=>(f(t,e,"write to private field"),n?n.call(t,i):e.set(t,i),i)},97584:function(t,e,i){i.d(e,{N:()=>o});let n;var o=(0,i(59048).iv)(n||(n=(t=>t)`:host{box-sizing:border-box}:host *,:host ::after,:host ::before{box-sizing:inherit}[hidden]{display:none!important}`))},57780:function(t,e,i){i.a(t,(async function(t,n){try{i.d(e,{Z:()=>o.A});var o=i(23308),a=(i(50095),i(12061)),s=i(69429),r=(i(97584),i(92050),i(17915),t([a,s,o]));[a,s,o]=r.then?(await r)():r,n()}catch(c){n(c)}}))},86842:function(t,e,i){i.d(e,{Z:()=>n.D});var n=i(50095);i(17915)}}]);
//# sourceMappingURL=39160.12175464bd036ab4.js.map