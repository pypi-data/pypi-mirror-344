export const __webpack_ids__=["38027"];export const __webpack_modules__={45332:function(t,e,o){function i(t){return null==t||Array.isArray(t)?t:[t]}o.d(e,{r:()=>i})},54731:function(t,e,o){o.d(e,{z:()=>i});const i=t=>(e,o)=>t.includes(e,o)},6219:function(t,e,o){o.d(e,{N:()=>s});var i=o(44272);const s=t=>(0,i.M)(t.entity_id)},36590:function(t,e,o){o.d(e,{e:()=>i});const i=(t,e)=>s(t.attributes,e),s=(t,e)=>!!(t.supported_features&e)},78206:function(t,e,o){o.a(t,(async function(t,e){try{var i=o(73742),s=o(59048),r=o(26292),a=(o(72953),o(6514)),n=(o(993),t([a]));a=(n.then?(await n)():n)[0];const c="M2.2,16.06L3.88,12L2.2,7.94L6.26,6.26L7.94,2.2L12,3.88L16.06,2.2L17.74,6.26L21.8,7.94L20.12,12L21.8,16.06L17.74,17.74L16.06,21.8L12,20.12L7.94,21.8L6.26,17.74L2.2,16.06M13,17V15H11V17H13M13,13V7H11V13H13Z",l="M9,20.42L2.79,14.21L5.62,11.38L9,14.77L18.88,4.88L21.71,7.71L9,20.42Z";class h extends s.oi{render(){const t=this._result||this.progress;return s.dy` <ha-button .raised="${this.raised}" .label="${this.label}" .unelevated="${this.unelevated}" .disabled="${this.disabled||this.progress}" class="${this._result||""}"> <slot name="icon" slot="icon"></slot> <slot></slot> </ha-button> ${t?s.dy` <div class="progress"> ${"success"===this._result?s.dy`<ha-svg-icon .path="${l}"></ha-svg-icon>`:"error"===this._result?s.dy`<ha-svg-icon .path="${c}"></ha-svg-icon>`:this.progress?s.dy`<ha-spinner size="small"></ha-spinner>`:s.Ld} </div> `:s.Ld} `}actionSuccess(){this._setResult("success")}actionError(){this._setResult("error")}_setResult(t){this._result=t,setTimeout((()=>{this._result=void 0}),2e3)}constructor(...t){super(...t),this.disabled=!1,this.progress=!1,this.raised=!1,this.unelevated=!1}}h.styles=s.iv`:host{outline:0;display:inline-block;position:relative;pointer-events:none}ha-button{transition:all 1s;pointer-events:initial}ha-button.success{--mdc-theme-primary:white;background-color:var(--success-color);transition:none;border-radius:4px;pointer-events:none}ha-button[raised].success,ha-button[unelevated].success{--mdc-theme-primary:var(--success-color);--mdc-theme-on-primary:white}ha-button.error{--mdc-theme-primary:white;background-color:var(--error-color);transition:none;border-radius:4px;pointer-events:none}ha-button[raised].error,ha-button[unelevated].error{--mdc-theme-primary:var(--error-color);--mdc-theme-on-primary:white}.progress{bottom:4px;position:absolute;text-align:center;top:4px;width:100%}ha-svg-icon{color:#fff}ha-button.error slot,ha-button.success slot{visibility:hidden}:host([destructive]){--mdc-theme-primary:var(--error-color)}`,(0,i.__decorate)([(0,r.Cb)()],h.prototype,"label",void 0),(0,i.__decorate)([(0,r.Cb)({type:Boolean})],h.prototype,"disabled",void 0),(0,i.__decorate)([(0,r.Cb)({type:Boolean})],h.prototype,"progress",void 0),(0,i.__decorate)([(0,r.Cb)({type:Boolean})],h.prototype,"raised",void 0),(0,i.__decorate)([(0,r.Cb)({type:Boolean})],h.prototype,"unelevated",void 0),(0,i.__decorate)([(0,r.SB)()],h.prototype,"_result",void 0),h=(0,i.__decorate)([(0,r.Mo)("ha-progress-button")],h),e()}catch(t){e(t)}}))},72953:function(t,e,o){var i=o(73742),s=o(98334),r=o(59048),a=o(26292),n=o(14e3);class c extends s.Button{}c.styles=[n.W,r.iv`::slotted([slot=icon]){margin-inline-start:0px;margin-inline-end:8px;direction:var(--direction);display:block}.mdc-button{height:var(--button-height,36px)}.trailing-icon{display:flex}.slot-container{overflow:var(--button-slot-container-overflow,visible)}:host([destructive]){--mdc-theme-primary:var(--error-color)}`],c=(0,i.__decorate)([(0,a.Mo)("ha-button")],c)},6514:function(t,e,o){o.a(t,(async function(t,i){try{o.r(e),o.d(e,{HaSpinner:()=>h});var s=o(73742),r=o(57780),a=o(86842),n=o(59048),c=o(26292),l=t([r]);r=(l.then?(await l)():l)[0];class h extends r.Z{updated(t){if(super.updated(t),t.has("size"))switch(this.size){case"tiny":this.style.setProperty("--ha-spinner-size","16px");break;case"small":this.style.setProperty("--ha-spinner-size","28px");break;case"medium":this.style.setProperty("--ha-spinner-size","48px");break;case"large":this.style.setProperty("--ha-spinner-size","68px");break;case void 0:this.style.removeProperty("--ha-progress-ring-size")}}}h.styles=[a.Z,n.iv`:host{--indicator-color:var(
          --ha-spinner-indicator-color,
          var(--primary-color)
        );--track-color:var(--ha-spinner-divider-color, var(--divider-color));--track-width:4px;--speed:3.5s;font-size:var(--ha-spinner-size, 48px)}`],(0,s.__decorate)([(0,c.Cb)()],h.prototype,"size",void 0),h=(0,s.__decorate)([(0,c.Mo)("ha-spinner")],h),i()}catch(t){i(t)}}))},19331:function(t,e,o){o.d(e,{X:()=>r,y:()=>s});var i=o(54731);const s=["input_boolean","input_button","input_text","input_number","input_datetime","input_select","counter","timer","schedule"],r=(0,i.z)(s)},79704:function(t,e,o){o.a(t,(async function(t,i){try{o.r(e);var s=o(73742),r=o(59048),a=o(26292),n=o(28105),c=o(39884),l=o(97050),h=o(78206),d=(o(87979),o(48017),o(31021)),u=o(4830),p=o(95814),_=o(42399),v=t([h]);h=(v.then?(await v)():v)[0];const m="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",g="M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z",y=(0,n.Z)(((t,e,o,i)=>[{name:"name",required:!0,disabled:e,selector:{text:{}}},{name:"usage",required:!0,type:"select",options:[[u.eX.BACKUP,t("ui.panel.config.storage.network_mounts.mount_usage.backup")],[u.eX.MEDIA,t("ui.panel.config.storage.network_mounts.mount_usage.media")],[u.eX.SHARE,t("ui.panel.config.storage.network_mounts.mount_usage.share")]]},{name:"server",required:!0,selector:{text:{}}},{name:"type",required:!0,type:"select",options:[[u.mw.CIFS,t("ui.panel.config.storage.network_mounts.mount_type.cifs")],[u.mw.NFS,t("ui.panel.config.storage.network_mounts.mount_type.nfs")]]},..."nfs"===o?[{name:"path",required:!0,selector:{text:{}}}]:"cifs"===o?[...i?[{name:"version",required:!0,selector:{select:{options:[{label:t("ui.panel.config.storage.network_mounts.cifs_versions.auto"),value:"auto"},{label:t("ui.panel.config.storage.network_mounts.cifs_versions.legacy",{version:"2.0"}),value:"2.0"},{label:t("ui.panel.config.storage.network_mounts.cifs_versions.legacy",{version:"1.0"}),value:"1.0"}],mode:"dropdown"}}}]:[],{name:"share",required:!0,selector:{text:{}}},{name:"username",required:!1,selector:{text:{}}},{name:"password",required:!1,selector:{text:{type:"password"}}}]:[]]));class f extends r.oi{async showDialog(t){this._data=t.mount,this._existing=void 0!==t.mount,this._reloadMounts=t.reloadMounts,"cifs"===t.mount?.type&&t.mount.version&&"auto"!==t.mount.version&&(this._showCIFSVersion=!0)}closeDialog(){this._data=void 0,this._waiting=void 0,this._error=void 0,this._validationError=void 0,this._validationWarning=void 0,this._existing=void 0,this._showCIFSVersion=void 0,this._reloadMounts=void 0,(0,c.B)(this,"dialog-closed",{dialog:this.localName})}render(){return void 0===this._existing?r.Ld:r.dy` <ha-dialog open scrimClickAction escapeKeyAction .heading="${this._existing?this.hass.localize("ui.panel.config.storage.network_mounts.update_title"):this.hass.localize("ui.panel.config.storage.network_mounts.add_title")}" @closed="${this.closeDialog}"> <ha-dialog-header slot="heading"> <ha-icon-button slot="navigationIcon" dialogAction="cancel" .label="${this.hass.localize("ui.common.close")}" .path="${m}"></ha-icon-button> <span slot="title">${this._existing?this.hass.localize("ui.panel.config.storage.network_mounts.update_title"):this.hass.localize("ui.panel.config.storage.network_mounts.add_title")} </span> <a slot="actionItems" class="header_button" href="${(0,_.R)(this.hass,"/common-tasks/os#network-storage")}" title="${this.hass.localize("ui.panel.config.storage.network_mounts.documentation")}" target="_blank" rel="noreferrer" dir="${(0,l.Zu)(this.hass)}"> <ha-icon-button .path="${g}"></ha-icon-button> </a> </ha-dialog-header> ${this._error?r.dy`<ha-alert alert-type="error">${this._error}</ha-alert>`:r.Ld} <ha-form .data="${this._data}" .schema="${y(this.hass.localize,this._existing,this._data?.type,this._showCIFSVersion)}" .error="${this._validationError}" .warning="${this._validationWarning}" .computeLabel="${this._computeLabelCallback}" .computeHelper="${this._computeHelperCallback}" .computeError="${this._computeErrorCallback}" .computeWarning="${this._computeWarningCallback}" @value-changed="${this._valueChanged}" dialogInitialFocus></ha-form> ${this._existing?r.dy`<ha-button @click="${this._deleteMount}" destructive slot="secondaryAction"> ${this.hass.localize("ui.common.delete")} </ha-button>`:r.Ld} <div slot="primaryAction"> <ha-button @click="${this.closeDialog}" dialogInitialFocus> ${this.hass.localize("ui.common.cancel")} </ha-button> <ha-progress-button .progress="${this._waiting}" @click="${this._connectMount}"> ${this._existing?this.hass.localize("ui.panel.config.storage.network_mounts.update"):this.hass.localize("ui.panel.config.storage.network_mounts.connect")} </ha-progress-button> </div> </ha-dialog> `}_valueChanged(t){this._validationError={},this._validationWarning={},this._data=t.detail.value,this._data?.name&&!/^\w+$/.test(this._data.name)&&(this._validationError.name="invalid_name"),"cifs"!==this._data?.type||this._data.version||(this._data.version="auto"),"cifs"===this._data?.type&&this._data.version&&["1.0","2.0"].includes(this._data.version)&&(this._validationWarning.version="not_recomeded_cifs_version")}async _connectMount(t){const e=t.target;this._error=void 0,this._waiting=!0;const o={...this._data};"cifs"===o.type&&"auto"===o.version&&(o.version=void 0);try{this._existing?await(0,u.TF)(this.hass,o):await(0,u.xM)(this.hass,o)}catch(t){return this._error=(0,d.js)(t),this._waiting=!1,e.actionError(),void("cifs"!==this._data.type||this._showCIFSVersion||(this._showCIFSVersion=!0))}this._reloadMounts&&this._reloadMounts(),this.closeDialog()}async _deleteMount(){this._error=void 0,this._waiting=!0;try{await(0,u.ap)(this.hass,this._data.name)}catch(t){return this._error=(0,d.js)(t),void(this._waiting=!1)}this._reloadMounts&&this._reloadMounts(),this.closeDialog()}static get styles(){return[p.Qx,p.yu,r.iv`ha-icon-button{color:var(--primary-text-color)}`]}constructor(...t){super(...t),this._computeLabelCallback=t=>this.hass.localize(`ui.panel.config.storage.network_mounts.options.${t.name}.title`),this._computeHelperCallback=t=>this.hass.localize(`ui.panel.config.storage.network_mounts.options.${t.name}.description`),this._computeErrorCallback=t=>this.hass.localize(`ui.panel.config.storage.network_mounts.errors.${t}`)||t,this._computeWarningCallback=t=>this.hass.localize(`ui.panel.config.storage.network_mounts.warnings.${t}`)||t}}(0,s.__decorate)([(0,a.Cb)({attribute:!1})],f.prototype,"hass",void 0),(0,s.__decorate)([(0,a.SB)()],f.prototype,"_data",void 0),(0,s.__decorate)([(0,a.SB)()],f.prototype,"_waiting",void 0),(0,s.__decorate)([(0,a.SB)()],f.prototype,"_error",void 0),(0,s.__decorate)([(0,a.SB)()],f.prototype,"_validationError",void 0),(0,s.__decorate)([(0,a.SB)()],f.prototype,"_validationWarning",void 0),(0,s.__decorate)([(0,a.SB)()],f.prototype,"_existing",void 0),(0,s.__decorate)([(0,a.SB)()],f.prototype,"_showCIFSVersion",void 0),(0,s.__decorate)([(0,a.SB)()],f.prototype,"_reloadMounts",void 0),f=(0,s.__decorate)([(0,a.Mo)("dialog-mount-view")],f),i()}catch(t){i(t)}}))},94047:function(t,e,o){var i=o(87494),s=o(36539),r=o(24894),a=o(4311);t.exports=function(t,e){e&&"string"==typeof t||s(t);var o=a(t);return r(s(void 0!==o?i(o,t):t))}},55770:function(t,e,o){var i=o(77341),s=o(87494),r=o(65085),a=o(36539),n=o(24894),c=o(94047),l=o(41878),h=o(64043),d=o(83294),u=l((function(){for(var t,e,o=this.iterator,i=this.mapper;;){if(e=this.inner)try{if(!(t=a(s(e.next,e.iterator))).done)return t.value;this.inner=null}catch(t){h(o,"throw",t)}if(t=a(s(this.next,o)),this.done=!!t.done)return;try{this.inner=c(i(t.value,this.counter++),!1)}catch(t){h(o,"throw",t)}}}));i({target:"Iterator",proto:!0,real:!0,forced:d},{flatMap:function(t){return a(this),r(t),new u(n(this),{mapper:t,inner:null})}})},23308:function(t,e,o){o.a(t,(async function(t,i){try{o.d(e,{A:()=>h});var s=o(50095),r=o(12061),a=o(97584),n=o(92050),c=o(59048),l=t([r]);r=(l.then?(await l)():l)[0];var h=class extends n.P{render(){return c.dy` <svg part="base" class="spinner" role="progressbar" aria-label="${this.localize.term("loading")}"> <circle class="spinner__track"></circle> <circle class="spinner__indicator"></circle> </svg> `}constructor(){super(...arguments),this.localize=new r.V(this)}};h.styles=[a.N,s.D],i()}catch(t){i(t)}}))},50095:function(t,e,o){o.d(e,{D:()=>i});var i=o(59048).iv`:host{--track-width:2px;--track-color:rgb(128 128 128 / 25%);--indicator-color:var(--sl-color-primary-600);--speed:2s;display:inline-flex;width:1em;height:1em;flex:none}.spinner{flex:1 1 auto;height:100%;width:100%}.spinner__indicator,.spinner__track{fill:none;stroke-width:var(--track-width);r:calc(0.5em - var(--track-width)/ 2);cx:0.5em;cy:0.5em;transform-origin:50% 50%}.spinner__track{stroke:var(--track-color);transform-origin:0% 0%}.spinner__indicator{stroke:var(--indicator-color);stroke-linecap:round;stroke-dasharray:150% 75%;animation:spin var(--speed) linear infinite}@keyframes spin{0%{transform:rotate(0deg);stroke-dasharray:0.05em,3em}50%{transform:rotate(450deg);stroke-dasharray:1.375em,1.375em}100%{transform:rotate(1080deg);stroke-dasharray:0.05em,3em}}`},57780:function(t,e,o){o.a(t,(async function(t,i){try{o.d(e,{Z:()=>s.A});var s=o(23308),r=(o(50095),o(12061)),a=o(69429),n=(o(97584),o(92050),o(17915),t([r,a,s]));[r,a,s]=n.then?(await n)():n,i()}catch(t){i(t)}}))},86842:function(t,e,o){o.d(e,{Z:()=>i.D});var i=o(50095);o(17915)}};
//# sourceMappingURL=38027.d41ce1161338ce4d.js.map