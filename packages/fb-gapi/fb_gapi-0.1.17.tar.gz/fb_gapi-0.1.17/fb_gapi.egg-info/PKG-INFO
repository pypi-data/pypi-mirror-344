Metadata-Version: 2.4
Name: fb-gapi
Version: 0.1.17
Summary: A lightweight Python Async SDK for sending messages via Facebook Messenger
Home-page: https://github.com/jayeeed/facebook-messenger-sdk
Author: Jayed
Author-email: jayedbinjahangir@gmail.com
Classifier: Programming Language :: Python :: 3
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Requires-Python: >=3.6
Description-Content-Type: text/markdown
Requires-Dist: requests
Requires-Dist: httpx
Requires-Dist: aiofiles
Requires-Dist: httpx-retries
Dynamic: author
Dynamic: author-email
Dynamic: classifier
Dynamic: description
Dynamic: description-content-type
Dynamic: home-page
Dynamic: requires-dist
Dynamic: requires-python
Dynamic: summary


# Facebook Messenger Graph API Python Async SDK ( v22.0 )

A lightweight Python SDK for sending messages (text and image attachments) using the Facebook Graph API along with the Facebook Messenger Send API.

## Installation

```python
pip install -U fb_gapi
```

## üöÄ Features

- **Send Text Messages**: Easily send text messages to users.
- **Send Remote Attachments**: Send remote attachments by URL.
- **Send Local Attachments**: Send local attachments by file path.
- **Get Conversation History**: Fetch the latest conversation history.
- **Error Handling**: The SDK will raise a `MessengerAPIError` when the Facebook API responds with an error.


## üöÄ Usage

### üì¶ Import the client
```python
from fb_gapi import MessengerClient
```

### üîí Initialize with your Page Access Token 
```python
client = MessengerClient(access_token="YOUR_PAGE_ACCESS_TOKEN")
```

### ‚úâÔ∏è Sending a Text Message
```python
async def send_text():
    response = await client.send_text(
        recipient_id="USER_PSID", message_text="Hello from Python!"
    )
    print(response)
```

### üñºÔ∏è Sending an Attachment By URL
```python
async def send_remote_attachment():
    response = await client.send_remote_attachment(
        recipient_id="USER_PSID",
        image_url="https://example.com/image.jpg",
    )
    print(response)
```

### üñºÔ∏è Sending a Local Attachment
```python
async def send_local_attachment():
    response = await client.send_local_attachment(
        recipient_id="USER_PSID", file_path="./test.png"
    )
    print(response)
```

### Get User Name
```python
async def get_user_name():
    response = await client.get_user_name(user_id="USER_PSID")
    print(response)
```

### Get Conversation History (Optional Limit)
```python
async def get_chat_history_limited():
    response = await client.get_chat_history(recipient_id="USER_PSID", limit=5)
    print(response)
```

### ‚ö†Ô∏è Error Handling
This SDK will raise a `MessengerAPIError` when the Facebook API responds with an error.

### Example:
```python
async def example_error_handling():
    try:
        await client.send_text("invalid_user_id", "Hi!")
    except MessengerAPIError as e:
        print(f"GAPI Error: {e}")
```

### Error Output Example:
```
MessengerAPIError (HTTP 400): [OAuthException] Invalid OAuth access token. (code 190)
```

## üìÑ Requirements

- **Python 3.6+**


## üõ†Ô∏è TODO

- **Improve conversation history limit.**
- **Add support for templates.**
- **Add support for quick replies.**
- **Add support for actions.**
- **Add support for custom buttons.**


## üìÉ License

MIT License. Use freely and contribute!
