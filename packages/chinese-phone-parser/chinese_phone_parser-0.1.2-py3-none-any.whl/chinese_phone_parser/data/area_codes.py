"""
Area code mappings for Chinese cities.
"""

# Map of area codes to cities
area_code_to_city = {
    '010': 'Beijing',
    '021': 'Shanghai',
    '020': 'Guangzhou',
    '0755': 'Shenzhen',
    '0571': 'Hangzhou',
    '0512': 'Suzhou',
    '0592': 'Xiamen',
    '0731': 'Changsha',
    '0532': 'Qingdao',
    '0551': 'Hefei',
    '0371': 'Zhengzhou',
    '0574': 'Ningbo',
    '0591': 'Fuzhou',
    '0411': 'Dalian',
    '0431': 'Changchun',
    '0451': 'Harbin',
    '0531': 'Jinan',
    '0510': 'Wuxi',
    '0757': 'Foshan',
    '0769': 'Dongguan',
    '0898': 'Hainan',
    '0791': 'Nanchang',
    '0871': 'Kunming',
    '0351': 'Taiyuan',
    '0771': 'Nanning',
    '0851': 'Guiyang',
    '0471': 'Hohhot',
    '0991': 'Urumqi',
    '0951': 'Yinchuan',
    '0931': 'Lanzhou',
    '0971': 'Xining',
    '0891': 'Lhasa',
    '0311': 'Shijiazhuang',
    '0379': 'Luoyang',
    '0513': 'Nantong',
    '0516': 'Xuzhou',
    '0519': 'Changzhou',
    '0523': 'Taizhou',
    '0527': 'Suqian',
    '0511': 'Zhenjiang',
    '0514': 'Yangzhou',
    '0517': 'Huaian',
    '0518': 'Lianyungang',
    '0515': 'Yancheng',
    '0550': 'Chuzhou',
    '0552': 'Bengbu',
    '0553': 'Wuhu',
    '0554': 'Huainan',
    '0555': 'Maanshan',
    '0556': 'Anqing',
    '0557': 'Suzhou',
    '0558': 'Fuyang',
    '0559': 'Huangshan',
    '0561': 'Huaibei',
    '0562': 'Tongling',
    '0563': 'Xuancheng',
    '0564': 'Liuan',
    '0566': 'Chizhou',
    '0570': 'Quzhou',
    '0572': 'Huzhou',
    '0573': 'Jiaxing',
    '0575': 'Shaoxing',
    '0576': 'Taizhou',
    '0577': 'Wenzhou',
    '0578': 'Lishui',
    '0579': 'Jinhua',
    '0580': 'Zhoushan',
    '0593': 'Ningde',
    '0594': 'Putian',
    '0595': 'Quanzhou',
    '0596': 'Zhangzhou',
    '0597': 'Longyan',
    '0598': 'Sanming',
    '0599': 'Nanping',
    '0701': 'Yingtan',
    '0790': 'Xinyu',
    '0792': 'Jiujiang',
    '0793': 'Shangrao',
    '0794': 'Fuzhou',
    '0795': 'Yichun',
    '0796': 'Jian',
    '0797': 'Ganzhou',
    '0798': 'Jingdezhen',
    '0799': 'Pingxiang',
    '0730': 'Yueyang',
    '0732': 'Xiangtan',
    '0733': 'Zhuzhou',
    '0734': 'Hengyang',
    '0735': 'Chenzhou',
    '0736': 'Changde',
    '0737': 'Yiyang',
    '0738': 'Loudi',
    '0739': 'Shaoyang',
    '0743': 'Xiangxi',
    '0744': 'Zhangjiajie',
    '0745': 'Huaihua',
    '0746': 'Yongzhou',
    '0750': 'Jiangmen',
    '0751': 'Shaoguan',
    '0752': 'Huizhou',
    '0753': 'Meizhou',
    '0754': 'Shantou',
    '0756': 'Zhuhai',
    '0758': 'Zhaoqing',
    '0759': 'Zhanjiang',
    '0760': 'Zhongshan',
    '0762': 'Heyuan',
    '0763': 'Qingyuan',
    '0766': 'Yunfu',
    '0768': 'Chaozhou',
    '0770': 'Fangchenggang',
    '0772': 'Liuzhou',
    '0773': 'Guilin',
    '0774': 'Wuzhou',
    '0775': 'Yulin',
    '0776': 'Baise',
    '0777': 'Qinzhou',
    '0778': 'Hechi',
    '0779': 'Beihai',
    '0812': 'Panzhihua',
    '0813': 'Zigong',
    '0816': 'Mianyang',
    '0817': 'Nanchong',
    '0818': 'Dazhou',
    '0825': 'Suining',
    '0826': 'Guangan',
    '0827': 'Bazhong',
    '0830': 'Luzhou',
    '0831': 'Yibin',
    '0832': 'Neijiang',
    '0833': 'Leshan',
    '0834': 'Liangshan',
    '0835': 'Yaan',
    '0836': 'Ganzi',
    '0837': 'Aba',
    '0838': 'Deyang',
    '0839': 'Guangyuan',
    '0840': 'Ziyang',
    '0870': 'Zhaotong',
    '0872': 'Dali',
    '0873': 'Honghe',
    '0874': 'Qujing',
    '0875': 'Baoshan',
    '0876': 'Wenshan',
    '0877': 'Yuxi',
    '0878': 'Chuxiong',
    '0879': 'Puer',
    '0883': 'Lincang',
    '0886': 'Nujiang',
    '0887': 'Diqing',
    '0888': 'Lijiang',
    '0691': 'Xishuangbanna',
    '0692': 'Dehong',
    '0893': 'Shannan',
    '0894': 'Nyingchi',
    '0895': 'Qamdo',
    '0896': 'Nagqu',
    '0897': 'Ngari',
    '0898': 'Haikou/Sanya',
    '0899': 'Qionghai',
    '0911': 'Yulin',
    '0912': 'Yulin',
    '0913': 'Weinan',
    '0914': 'Shangluo',
    '0915': 'Ankang',
    '0916': 'Hanzhong',
    '0917': 'Baoji',
    '0919': 'Tongchuan',
    '0930': 'Linxia',
    '0932': 'Dingxi',
    '0933': 'Pingliang',
    '0934': 'Qingyang',
    '0935': 'Wuwei',
    '0936': 'Zhangye',
    '0937': 'Jiuquan',
    '0938': 'Tianshui',
    '0939': 'Longnan',
    '0941': 'Gannan',
    '0943': 'Baiyin',
    '0951': 'Yinchuan',
    '0952': 'Shizuishan',
    '0953': 'Wuzhong',
    '0954': 'Guyuan',
    '0955': 'Zhongwei',
    '0970': 'Haibei',
    '0971': 'Xining',
    '0972': 'Haidong',
    '0973': 'Huangnan',
    '0974': 'Hainan',
    '0975': 'Golog',
    '0976': 'Yushu',
    '0977': 'Haixi',
    '0979': 'Guoluo',
    '0990': 'Karamay',
    '0991': 'Urumqi',
    '0992': 'Changji',
    '0993': 'Shihezi',
    '0994': 'Changji',
    '0995': 'Turpan',
    '0996': 'Bayingolin',
    '0997': 'Aksu',
    '0998': 'Kashi',
    '0999': 'Ili',
    '0901': 'Tacheng',
    '0902': 'Altay',
    '0903': 'Hotan',
    '0906': 'Aletai',
    '0908': 'Kizilsu',
    '0909': 'Bortala',
    '400': 'Toll-Free',
    '800': 'Toll-Free'
}

# Complete mapping of short form area codes to standard area codes
short_area_codes = {
    # Tier 1 Cities
    '10': '010',    # Beijing
    '21': '021',    # Shanghai
    '20': '020',    # Guangzhou
    '755': '0755',  # Shenzhen
    
    # Major Provincial Capitals and Economic Centers
    '22': '022',    # Tianjin
    '23': '023',    # Chongqing
    '24': '024',    # Shenyang
    '25': '025',    # Nanjing
    '27': '027',    # Wuhan
    '28': '028',    # Chengdu
    '29': '029',    # Xi'an
    '311': '0311',  # Shijiazhuang
    '351': '0351',  # Taiyuan
    '371': '0371',  # Zhengzhou
    '411': '0411',  # Dalian
    '431': '0431',  # Changchun
    '451': '0451',  # Harbin
    '471': '0471',  # Hohhot
    '512': '0512',  # Suzhou
    '531': '0531',  # Jinan
    '551': '0551',  # Hefei
    '571': '0571',  # Hangzhou
    '591': '0591',  # Fuzhou
    '731': '0731',  # Changsha
    '771': '0771',  # Nanning
    '791': '0791',  # Nanchang
    '851': '0851',  # Guiyang
    '871': '0871',  # Kunming
    '898': '0898',  # Hainan (Haikou/Sanya)
    '931': '0931',  # Lanzhou
    '951': '0951',  # Yinchuan
    '971': '0971',  # Xining
    '991': '0991',  # Urumqi
    
    # Other Important Economic Centers
    '512': '0512',  # Suzhou
    '532': '0532',  # Qingdao
    '574': '0574',  # Ningbo
    '592': '0592',  # Xiamen
    '757': '0757',  # Foshan
    '769': '0769',  # Dongguan
    
    # Special Administrative Regions (though they use different systems)
    '852': '00852',  # Hong Kong (international format)
    '853': '00853',  # Macau (international format)
    '886': '00886',  # Taiwan (international format)
}

# Map of mobile number prefixes to carriers
mobile_prefix_to_carrier = {
    '130': 'China Unicom',
    '131': 'China Unicom',
    '132': 'China Unicom',
    '133': 'China Telecom',
    '134': 'China Mobile',
    '135': 'China Mobile',
    '136': 'China Mobile',
    '137': 'China Mobile',
    '138': 'China Mobile',
    '139': 'China Mobile',
    '145': 'China Unicom',
    '147': 'China Mobile',
    '150': 'China Mobile',
    '151': 'China Mobile',
    '152': 'China Mobile',
    '153': 'China Telecom',
    '155': 'China Unicom',
    '156': 'China Unicom',
    '157': 'China Mobile',
    '158': 'China Mobile',
    '159': 'China Mobile',
    '166': 'China Unicom',
    '170': 'Virtual Operators',
    '171': 'Virtual Operators',
    '172': 'Virtual Operators',
    '173': 'Virtual Operators',
    '175': 'China Unicom',
    '176': 'China Unicom',
    '177': 'China Telecom',
    '178': 'China Mobile',
    '180': 'China Telecom',
    '181': 'China Telecom',
    '182': 'China Mobile',
    '183': 'China Mobile',
    '184': 'China Mobile',
    '185': 'China Unicom',
    '186': 'China Unicom',
    '187': 'China Mobile',
    '188': 'China Mobile',
    '189': 'China Telecom',
    '191': 'China Telecom',
    '198': 'China Mobile',
    '199': 'China Telecom',
}

def get_carrier(mobile_number):
    """Get the carrier from a mobile number prefix."""
    # Extract the first 3 digits after removing any country code
    if not mobile_number:
        return None
        
    # Clean the number
    clean_number = mobile_number.replace('+86', '').replace('0086', '')
    if clean_number.startswith('86'):
        clean_number = clean_number[2:]
        
    # Get the first 3 digits
    prefix = clean_number[:3] if len(clean_number) >= 3 else None
    
    return mobile_prefix_to_carrier.get(prefix, 'Unknown')