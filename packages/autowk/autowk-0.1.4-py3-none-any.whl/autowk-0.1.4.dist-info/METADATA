Metadata-Version: 2.1
Name: autowk
Version: 0.1.4
Summary: åŸºäºWebKitçš„Pythonè‡ªåŠ¨åŒ–æµè§ˆå™¨æ¡†æ¶
Home-page: https://github.com/LoseNine/AutoWK
Author: ruyi
Author-email: losenine@163.com
Classifier: Programming Language :: Python :: 3
Classifier: License :: OSI Approved :: BSD License
Classifier: Operating System :: Microsoft :: Windows
Requires-Python: >=3.7
Description-Content-Type: text/markdown
Requires-Dist: psutil>=5.9.0

# WebKit-AutoFramework è‡ªåŠ¨åŒ–æµè§ˆå™¨æ¡†æ¶

> ğŸš€ ä¸€ä¸ªåŸºäºåŸç”Ÿ WebKitäºŒæ¬¡å¼€å‘çš„è‡ªåŠ¨åŒ–æµè§ˆå™¨æ¡†æ¶ï¼Œæ”¯æŒå‘½ä»¤è¡Œå‚æ•°æ§åˆ¶çª—å£ä½ç½®ä¸ä»£ç†é…ç½®ï¼Œå¹¶é€šè¿‡ Python å®¢æˆ·ç«¯é©±åŠ¨è‡ªåŠ¨æ“ä½œæµè§ˆå™¨ã€‚

## âœ¨ é¡¹ç›®äº®ç‚¹

- âœ… ğŸ§  åŸºäº WebKit æºç æ„å»ºï¼Œå°è€Œç²¾è‡´çš„æµè§ˆå™¨å†…æ ¸
- âœ… ğŸ› ï¸ è‡ªåŠ¨å¯åŠ¨ WebKit ä¸ WebDriver è¿›ç¨‹
- âœ… ğŸ“œ æ”¯æŒå‘½ä»¤è¡Œä¼ å‚ï¼ˆçª—å£ä½ç½®ã€å°ºå¯¸ã€ä»£ç†ç±»å‹ã€ä»£ç†è®¤è¯ï¼‰
- âœ… ğŸ’ª ç½‘ç»œæ”¹é€ ï¼Œæ”¯æŒ HTTP/SOCKS5 ç­‰ä»£ç†æ¨¡å¼
- âœ… ğŸ“ Python API è°ƒç”¨æ§åˆ¶æµè§ˆå™¨è¡Œä¸º
- âœ… ğŸ§ª äººç±»è¡Œä¸ºæ¨¡æ‹Ÿï¼Œåº•å±‚è¡Œä¸ºé‡å†™ã€‚
---


## å¿«é€Ÿå¼€å§‹
> ğŸš€ äº¤æµç¾¤QQï¼š391116392
1. å®‰è£…ä¾èµ–ï¼š

   ```bash
   pip install psutil
   ```

2. ä¸‹è½½é¡¹ç›®

3. å¯åŠ¨è‡ªåŠ¨åŒ–ï¼š

   ```bash
   python main.py
   ```

---

## ç¤ºä¾‹ä»£ç 

```python
from AutoWkDriverClient import AutoWK
import time

if __name__ == "__main__":
    """è‡ªåŠ¨åŒ–1236æ»‘å—éªŒè¯ç """
    client = AutoWK()
    try:
        client.create_session()

        print("[STATUS]", client.status())

        client.set_timeouts({"pageLoad": 10000})
        print("[GET TIMEOUTS]", client.get_timeouts())

        client.navigate(r"https://www.12306.cn/index/view/infos/ticket_check.html")
        print("[URL]", client.get_current_url())

        #è¾“å…¥åº§æ¬¡
        input_ele=client.find_element_by_css_selector("input#ticket_check_trainNum").input("1462")

        time.sleep(3)
        #é€‰æ‹©åœ°ç‚¹
        drap=client.find_element_by_css_selector("div.model-select-text")
        drap.set_attribute("data-value","TXP")
        print('attr:', drap.get_attribute("data-value"))
        print('é€‰æ‹©å®Œæ¯•')

        time.sleep(3)
        #æ‹–æ‹½æ»‘å—éªŒè¯ç 
        btn=client.find_element_by_css_selector("li a.btn.btn-primary").click()
        time.sleep(5)
        client.drag_and_drop_pos_human(525,436,848,436)
        print('æ‹–æ‹½å®Œæ¯•')


    except Exception as e:
        print(e)

    finally:
        time.sleep(5)
        client.delete_session()
        client.close()
```

---

## æ”¯æŒçš„å¯åŠ¨å‘½ä»¤è¡Œå‚æ•°ï¼ˆMiniBrowser.exeï¼‰

| å‚æ•°               | ç¤ºä¾‹                            | è¯´æ˜                       |
|--------------------|----------------------------------|--------------------------|
| `--x=`             | `--x=100`                        | è®¾ç½®çª—å£å·¦ä¸Šè§’ X åæ ‡             |
| `--y=`             | `--y=200`                        | è®¾ç½®çª—å£å·¦ä¸Šè§’ Y åæ ‡             |
| `--width=`         | `--width=1280`                   | è®¾ç½®çª—å£å®½åº¦                   |
| `--height=`        | `--height=720`                   | è®¾ç½®çª—å£é«˜åº¦                   |
| `--proxyType=`     | `--proxyType=socks5`             | ä»£ç†ç±»å‹ï¼š`HTTP` / `SOCKS5` ç­‰ |
| `--proxyHost=`     | `--proxyHost=127.0.0.1`          | ä»£ç†æœåŠ¡å™¨åœ°å€                  |
| `--proxyPort=`     | `--proxyPort=1080`               | ä»£ç†ç«¯å£                     |
| `--proxyUsername=` | `--proxyUsername=admin`          | ä»£ç†è®¤è¯ç”¨æˆ·å                  |
| `--proxyPassword=` | `--proxyPassword=123456`         | ä»£ç†è®¤è¯å¯†ç                    |
```cmd
ä¾‹å­:minibrowser.exe --proxyType=SOCKS5  --proxyHost=1.1.1.1  --proxyPort=1000 --proxyUsername=ruyi  --proxyPassword=wifi --x=500 --y=100  --width=500 --height=500 
```
---

## é¡¹ç›®ç»“æ„

```
.
â”œâ”€â”€ main.py                  # ç¤ºä¾‹å…¥å£ï¼Œæ¼”ç¤ºè‡ªåŠ¨åŒ–æ“ä½œ
â”œâ”€â”€ AutoWKBase.py            # WebKit ä¸ WebDriver å¯åŠ¨æ§åˆ¶é€»è¾‘
â”œâ”€â”€ AutoWkDriverClient.py    # å°è£… WebDriver API è‡ªåŠ¨åŒ–æ“ä½œç±»
â”œâ”€â”€ Element.py               # å…ƒç´ å°è£…ç±»ï¼Œæ”¯æŒå±æ€§ã€ç‚¹å‡»ã€è¾“å…¥ç­‰æ“ä½œ
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ launch_driver.bat    # å¯åŠ¨ WebKit WebDriver çš„æ‰¹å¤„ç†è„šæœ¬
â”œâ”€â”€ bin/
â”‚   â””â”€â”€ MiniBrowser.exe      # ç¼–è¯‘å¥½çš„ WebKit æµè§ˆå™¨
```


---

## TODO

- âœ… æ”¯æŒä»£ç†è®¤è¯
- â³ æ”¯æŒ Cookie æŒä¹…åŒ–ç®¡ç†
- â³ æ”¯æŒ Shadow DOM å…ƒç´ æŸ¥æ‰¾
- â³ å®Œå–„çª—å£å¤šå¼€ä¸è¿›ç¨‹éš”ç¦»æ§åˆ¶

---
